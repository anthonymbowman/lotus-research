(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const g of m)if(g.type==="childList")for(const p of g.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&h(p)}).observe(document,{childList:!0,subtree:!0});function u(m){const g={};return m.integrity&&(g.integrity=m.integrity),m.referrerPolicy&&(g.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?g.credentials="include":m.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(m){if(m.ep)return;m.ep=!0;const g=u(m);fetch(m.href,g)}})();function nd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Bo={exports:{}},Cn={},Ao={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu;function a0(){if(Fu)return te;Fu=1;var a=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),p=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.iterator;function M(v){return v===null||typeof v!="object"?null:(v=L&&v[L]||v["@@iterator"],typeof v=="function"?v:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function T(v,D,ee){this.props=v,this.context=D,this.refs=A,this.updater=ee||z}T.prototype.isReactComponent={},T.prototype.setState=function(v,D){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,D,"setState")},T.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function C(){}C.prototype=T.prototype;function I(v,D,ee){this.props=v,this.context=D,this.refs=A,this.updater=ee||z}var H=I.prototype=new C;H.constructor=I,R(H,T.prototype),H.isPureReactComponent=!0;var ne=Array.isArray,fe=Object.prototype.hasOwnProperty,he={current:null},Me={key:!0,ref:!0,__self:!0,__source:!0};function Ue(v,D,ee){var re,le={},oe=null,ge=null;if(D!=null)for(re in D.ref!==void 0&&(ge=D.ref),D.key!==void 0&&(oe=""+D.key),D)fe.call(D,re)&&!Me.hasOwnProperty(re)&&(le[re]=D[re]);var ue=arguments.length-2;if(ue===1)le.children=ee;else if(1<ue){for(var ke=Array(ue),tt=0;tt<ue;tt++)ke[tt]=arguments[tt+2];le.children=ke}if(v&&v.defaultProps)for(re in ue=v.defaultProps,ue)le[re]===void 0&&(le[re]=ue[re]);return{$$typeof:a,type:v,key:oe,ref:ge,props:le,_owner:he.current}}function ot(v,D){return{$$typeof:a,type:v.type,key:D,ref:v.ref,props:v.props,_owner:v._owner}}function De(v){return typeof v=="object"&&v!==null&&v.$$typeof===a}function X(v){var D={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(ee){return D[ee]})}var J=/\/+/g;function xe(v,D){return typeof v=="object"&&v!==null&&v.key!=null?X(""+v.key):D.toString(36)}function pe(v,D,ee,re,le){var oe=typeof v;(oe==="undefined"||oe==="boolean")&&(v=null);var ge=!1;if(v===null)ge=!0;else switch(oe){case"string":case"number":ge=!0;break;case"object":switch(v.$$typeof){case a:case c:ge=!0}}if(ge)return ge=v,le=le(ge),v=re===""?"."+xe(ge,0):re,ne(le)?(ee="",v!=null&&(ee=v.replace(J,"$&/")+"/"),pe(le,D,ee,"",function(tt){return tt})):le!=null&&(De(le)&&(le=ot(le,ee+(!le.key||ge&&ge.key===le.key?"":(""+le.key).replace(J,"$&/")+"/")+v)),D.push(le)),1;if(ge=0,re=re===""?".":re+":",ne(v))for(var ue=0;ue<v.length;ue++){oe=v[ue];var ke=re+xe(oe,ue);ge+=pe(oe,D,ee,ke,le)}else if(ke=M(v),typeof ke=="function")for(v=ke.call(v),ue=0;!(oe=v.next()).done;)oe=oe.value,ke=re+xe(oe,ue++),ge+=pe(oe,D,ee,ke,le);else if(oe==="object")throw D=String(v),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ge}function ae(v,D,ee){if(v==null)return v;var re=[],le=0;return pe(v,re,"","",function(oe){return D.call(ee,oe,le++)}),re}function ce(v){if(v._status===-1){var D=v._result;D=D(),D.then(function(ee){(v._status===0||v._status===-1)&&(v._status=1,v._result=ee)},function(ee){(v._status===0||v._status===-1)&&(v._status=2,v._result=ee)}),v._status===-1&&(v._status=0,v._result=D)}if(v._status===1)return v._result.default;throw v._result}var me={current:null},F={transition:null},G={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:F,ReactCurrentOwner:he};function O(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:ae,forEach:function(v,D,ee){ae(v,function(){D.apply(this,arguments)},ee)},count:function(v){var D=0;return ae(v,function(){D++}),D},toArray:function(v){return ae(v,function(D){return D})||[]},only:function(v){if(!De(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},te.Component=T,te.Fragment=u,te.Profiler=m,te.PureComponent=I,te.StrictMode=h,te.Suspense=S,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,te.act=O,te.cloneElement=function(v,D,ee){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var re=R({},v.props),le=v.key,oe=v.ref,ge=v._owner;if(D!=null){if(D.ref!==void 0&&(oe=D.ref,ge=he.current),D.key!==void 0&&(le=""+D.key),v.type&&v.type.defaultProps)var ue=v.type.defaultProps;for(ke in D)fe.call(D,ke)&&!Me.hasOwnProperty(ke)&&(re[ke]=D[ke]===void 0&&ue!==void 0?ue[ke]:D[ke])}var ke=arguments.length-2;if(ke===1)re.children=ee;else if(1<ke){ue=Array(ke);for(var tt=0;tt<ke;tt++)ue[tt]=arguments[tt+2];re.children=ue}return{$$typeof:a,type:v.type,key:le,ref:oe,props:re,_owner:ge}},te.createContext=function(v){return v={$$typeof:p,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:g,_context:v},v.Consumer=v},te.createElement=Ue,te.createFactory=function(v){var D=Ue.bind(null,v);return D.type=v,D},te.createRef=function(){return{current:null}},te.forwardRef=function(v){return{$$typeof:w,render:v}},te.isValidElement=De,te.lazy=function(v){return{$$typeof:N,_payload:{_status:-1,_result:v},_init:ce}},te.memo=function(v,D){return{$$typeof:y,type:v,compare:D===void 0?null:D}},te.startTransition=function(v){var D=F.transition;F.transition={};try{v()}finally{F.transition=D}},te.unstable_act=O,te.useCallback=function(v,D){return me.current.useCallback(v,D)},te.useContext=function(v){return me.current.useContext(v)},te.useDebugValue=function(){},te.useDeferredValue=function(v){return me.current.useDeferredValue(v)},te.useEffect=function(v,D){return me.current.useEffect(v,D)},te.useId=function(){return me.current.useId()},te.useImperativeHandle=function(v,D,ee){return me.current.useImperativeHandle(v,D,ee)},te.useInsertionEffect=function(v,D){return me.current.useInsertionEffect(v,D)},te.useLayoutEffect=function(v,D){return me.current.useLayoutEffect(v,D)},te.useMemo=function(v,D){return me.current.useMemo(v,D)},te.useReducer=function(v,D,ee){return me.current.useReducer(v,D,ee)},te.useRef=function(v){return me.current.useRef(v)},te.useState=function(v){return me.current.useState(v)},te.useSyncExternalStore=function(v,D,ee){return me.current.useSyncExternalStore(v,D,ee)},te.useTransition=function(){return me.current.useTransition()},te.version="18.3.1",te}var Uu;function Oo(){return Uu||(Uu=1,Ao.exports=a0()),Ao.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu;function u0(){if(Vu)return Cn;Vu=1;var a=Oo(),c=Symbol.for("react.element"),u=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,m=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function p(w,S,y){var N,L={},M=null,z=null;y!==void 0&&(M=""+y),S.key!==void 0&&(M=""+S.key),S.ref!==void 0&&(z=S.ref);for(N in S)h.call(S,N)&&!g.hasOwnProperty(N)&&(L[N]=S[N]);if(w&&w.defaultProps)for(N in S=w.defaultProps,S)L[N]===void 0&&(L[N]=S[N]);return{$$typeof:c,type:w,key:M,ref:z,props:L,_owner:m.current}}return Cn.Fragment=u,Cn.jsx=p,Cn.jsxs=p,Cn}var Wu;function d0(){return Wu||(Wu=1,Bo.exports=u0()),Bo.exports}var r=d0(),V=Oo();const c0=nd(V);var Is={},Io={exports:{}},et={},Fo={exports:{}},Uo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou;function m0(){return Ou||(Ou=1,(function(a){function c(F,G){var O=F.length;F.push(G);e:for(;0<O;){var v=O-1>>>1,D=F[v];if(0<m(D,G))F[v]=G,F[O]=D,O=v;else break e}}function u(F){return F.length===0?null:F[0]}function h(F){if(F.length===0)return null;var G=F[0],O=F.pop();if(O!==G){F[0]=O;e:for(var v=0,D=F.length,ee=D>>>1;v<ee;){var re=2*(v+1)-1,le=F[re],oe=re+1,ge=F[oe];if(0>m(le,O))oe<D&&0>m(ge,le)?(F[v]=ge,F[oe]=O,v=oe):(F[v]=le,F[re]=O,v=re);else if(oe<D&&0>m(ge,O))F[v]=ge,F[oe]=O,v=oe;else break e}}return G}function m(F,G){var O=F.sortIndex-G.sortIndex;return O!==0?O:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;a.unstable_now=function(){return g.now()}}else{var p=Date,w=p.now();a.unstable_now=function(){return p.now()-w}}var S=[],y=[],N=1,L=null,M=3,z=!1,R=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(F){for(var G=u(y);G!==null;){if(G.callback===null)h(y);else if(G.startTime<=F)h(y),G.sortIndex=G.expirationTime,c(S,G);else break;G=u(y)}}function ne(F){if(A=!1,H(F),!R)if(u(S)!==null)R=!0,ce(fe);else{var G=u(y);G!==null&&me(ne,G.startTime-F)}}function fe(F,G){R=!1,A&&(A=!1,C(Ue),Ue=-1),z=!0;var O=M;try{for(H(G),L=u(S);L!==null&&(!(L.expirationTime>G)||F&&!X());){var v=L.callback;if(typeof v=="function"){L.callback=null,M=L.priorityLevel;var D=v(L.expirationTime<=G);G=a.unstable_now(),typeof D=="function"?L.callback=D:L===u(S)&&h(S),H(G)}else h(S);L=u(S)}if(L!==null)var ee=!0;else{var re=u(y);re!==null&&me(ne,re.startTime-G),ee=!1}return ee}finally{L=null,M=O,z=!1}}var he=!1,Me=null,Ue=-1,ot=5,De=-1;function X(){return!(a.unstable_now()-De<ot)}function J(){if(Me!==null){var F=a.unstable_now();De=F;var G=!0;try{G=Me(!0,F)}finally{G?xe():(he=!1,Me=null)}}else he=!1}var xe;if(typeof I=="function")xe=function(){I(J)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ae=pe.port2;pe.port1.onmessage=J,xe=function(){ae.postMessage(null)}}else xe=function(){T(J,0)};function ce(F){Me=F,he||(he=!0,xe())}function me(F,G){Ue=T(function(){F(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_continueExecution=function(){R||z||(R=!0,ce(fe))},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_getFirstCallbackNode=function(){return u(S)},a.unstable_next=function(F){switch(M){case 1:case 2:case 3:var G=3;break;default:G=M}var O=M;M=G;try{return F()}finally{M=O}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var O=M;M=F;try{return G()}finally{M=O}},a.unstable_scheduleCallback=function(F,G,O){var v=a.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?v+O:v):O=v,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,F={id:N++,callback:G,priorityLevel:F,startTime:O,expirationTime:D,sortIndex:-1},O>v?(F.sortIndex=O,c(y,F),u(S)===null&&F===u(y)&&(A?(C(Ue),Ue=-1):A=!0,me(ne,O-v))):(F.sortIndex=D,c(S,F),R||z||(R=!0,ce(fe))),F},a.unstable_shouldYield=X,a.unstable_wrapCallback=function(F){var G=M;return function(){var O=M;M=G;try{return F.apply(this,arguments)}finally{M=O}}}})(Uo)),Uo}var $u;function p0(){return $u||($u=1,Fo.exports=m0()),Fo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function f0(){if(Hu)return et;Hu=1;var a=Oo(),c=p0();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,m={};function g(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(m[e]=t,e=0;e<t.length;e++)h.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},L={};function M(e){return S.call(L,e)?!0:S.call(N,e)?!1:y.test(e)?L[e]=!0:(N[e]=!0,!1)}function z(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,n,s){if(t===null||typeof t>"u"||z(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,n,s,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,I);T[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,I);T[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,I);T[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,n,s){var l=T.hasOwnProperty(t)?T[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,n,l,s)&&(n=null),s||l===null?M(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ne=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),he=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),De=Symbol.for("react.provider"),X=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var O=Object.assign,v;function D(e){if(v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var ee=!1;function re(e,t){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var s=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){s=k}e.call(t.prototype)}else{try{throw Error()}catch(k){s=k}e()}}catch(k){if(k&&s&&typeof k.stack=="string"){for(var l=k.stack.split(`
`),o=s.stack.split(`
`),i=l.length-1,d=o.length-1;1<=i&&0<=d&&l[i]!==o[d];)d--;for(;1<=i&&0<=d;i--,d--)if(l[i]!==o[d]){if(i!==1||d!==1)do if(i--,d--,0>d||l[i]!==o[d]){var f=`
`+l[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=d);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function le(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Me:return"Fragment";case he:return"Portal";case ot:return"Profiler";case Ue:return"StrictMode";case xe:return"Suspense";case pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case De:return(e._context.displayName||"Context")+".Provider";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===Ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tt(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tn(e){e._valueTracker||(e._valueTracker=tt(e))}function Ho(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ke(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function En(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ws(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ue(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qo(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function Os(e,t){Qo(e,t);var n=ue(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$s(e,t.type,n):t.hasOwnProperty("defaultValue")&&$s(e,t.type,ue(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $s(e,t,n){(t!=="number"||En(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function hr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ue(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Hs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ko(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(u(92));if(Vr(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ue(n)}}function Jo(e,t){var n=ue(t.value),s=ue(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Go(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xo(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rn,Zo=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},md=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){md.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function ei(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function ti(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ei(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var pd=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(e,t){if(t){if(pd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function Ys(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ks=null;function Js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gs=null,xr=null,gr=null;function ri(e){if(e=mn(e)){if(typeof Gs!="function")throw Error(u(280));var t=e.stateNode;t&&(t=Zn(t),Gs(e.stateNode,e.type,t))}}function ni(e){xr?gr?gr.push(e):gr=[e]:xr=e}function si(){if(xr){var e=xr,t=gr;if(gr=xr=null,ri(e),t)for(e=0;e<t.length;e++)ri(t[e])}}function li(e,t){return e(t)}function oi(){}var Xs=!1;function ii(e,t,n){if(Xs)return e(t,n);Xs=!0;try{return li(e,t,n)}finally{Xs=!1,(xr!==null||gr!==null)&&(oi(),si())}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var s=Zn(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var Zs=!1;if(w)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Zs=!1}function fd(e,t,n,s,l,o,i,d,f){var k=Array.prototype.slice.call(arguments,3);try{t.apply(n,k)}catch(P){this.onError(P)}}var qr=!1,Dn=null,Pn=!1,el=null,hd={onError:function(e){qr=!0,Dn=e}};function xd(e,t,n,s,l,o,i,d,f){qr=!1,Dn=null,fd.apply(hd,arguments)}function gd(e,t,n,s,l,o,i,d,f){if(xd.apply(this,arguments),qr){if(qr){var k=Dn;qr=!1,Dn=null}else throw Error(u(198));Pn||(Pn=!0,el=k)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ai(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ui(e){if(tr(e)!==e)throw Error(u(188))}function yd(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return ui(l),e;if(o===s)return ui(l),t;o=o.sibling}throw Error(u(188))}if(n.return!==s.return)n=l,s=o;else{for(var i=!1,d=l.child;d;){if(d===n){i=!0,n=l,s=o;break}if(d===s){i=!0,s=l,n=o;break}d=d.sibling}if(!i){for(d=o.child;d;){if(d===n){i=!0,n=o,s=l;break}if(d===s){i=!0,s=o,n=l;break}d=d.sibling}if(!i)throw Error(u(189))}}if(n.alternate!==s)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function di(e){return e=yd(e),e!==null?ci(e):null}function ci(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ci(e);if(t!==null)return t;e=e.sibling}return null}var mi=c.unstable_scheduleCallback,pi=c.unstable_cancelCallback,vd=c.unstable_shouldYield,jd=c.unstable_requestPaint,Ee=c.unstable_now,Nd=c.unstable_getCurrentPriorityLevel,tl=c.unstable_ImmediatePriority,fi=c.unstable_UserBlockingPriority,Mn=c.unstable_NormalPriority,bd=c.unstable_LowPriority,hi=c.unstable_IdlePriority,zn=null,jt=null;function wd(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(zn,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Ld,kd=Math.log,Sd=Math.LN2;function Ld(e){return e>>>=0,e===0?32:31-(kd(e)/Sd|0)|0}var _n=64,Bn=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function An(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var d=i&~l;d!==0?s=Qr(d):(o&=i,o!==0&&(s=Qr(o)))}else i=n&~l,i!==0?s=Qr(i):o!==0&&(s=Qr(o));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pt(t),l=1<<n,s|=e[n],t&=~l;return s}function Cd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Td(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-pt(o),d=1<<i,f=l[i];f===-1?((d&n)===0||(d&s)!==0)&&(l[i]=Cd(d,t)):f<=t&&(e.expiredLanes|=d),o&=~d}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xi(){var e=_n;return _n<<=1,(_n&4194240)===0&&(_n=64),e}function nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Ed(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),o=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~o}}function sl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var de=0;function gi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yi,ll,vi,ji,Ni,ol=!1,In=[],zt=null,_t=null,Bt=null,Kr=new Map,Jr=new Map,At=[],Rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bi(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(t.pointerId)}}function Gr(e,t,n,s,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[l]},t!==null&&(t=mn(t),t!==null&&ll(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Dd(e,t,n,s,l){switch(t){case"focusin":return zt=Gr(zt,e,t,n,s,l),!0;case"dragenter":return _t=Gr(_t,e,t,n,s,l),!0;case"mouseover":return Bt=Gr(Bt,e,t,n,s,l),!0;case"pointerover":var o=l.pointerId;return Kr.set(o,Gr(Kr.get(o)||null,e,t,n,s,l)),!0;case"gotpointercapture":return o=l.pointerId,Jr.set(o,Gr(Jr.get(o)||null,e,t,n,s,l)),!0}return!1}function wi(e){var t=rr(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=ai(n),t!==null){e.blockedOn=t,Ni(e.priority,function(){vi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ks=s,n.target.dispatchEvent(s),Ks=null}else return t=mn(n),t!==null&&ll(t),e.blockedOn=n,!1;t.shift()}return!0}function ki(e,t,n){Fn(e)&&n.delete(t)}function Pd(){ol=!1,zt!==null&&Fn(zt)&&(zt=null),_t!==null&&Fn(_t)&&(_t=null),Bt!==null&&Fn(Bt)&&(Bt=null),Kr.forEach(ki),Jr.forEach(ki)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Pd)))}function Zr(e){function t(l){return Xr(l,e)}if(0<In.length){Xr(In[0],e);for(var n=1;n<In.length;n++){var s=In[n];s.blockedOn===e&&(s.blockedOn=null)}}for(zt!==null&&Xr(zt,e),_t!==null&&Xr(_t,e),Bt!==null&&Xr(Bt,e),Kr.forEach(t),Jr.forEach(t),n=0;n<At.length;n++)s=At[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)wi(n),n.blockedOn===null&&At.shift()}var yr=ne.ReactCurrentBatchConfig,Un=!0;function Md(e,t,n,s){var l=de,o=yr.transition;yr.transition=null;try{de=1,il(e,t,n,s)}finally{de=l,yr.transition=o}}function zd(e,t,n,s){var l=de,o=yr.transition;yr.transition=null;try{de=4,il(e,t,n,s)}finally{de=l,yr.transition=o}}function il(e,t,n,s){if(Un){var l=al(e,t,n,s);if(l===null)Sl(e,t,s,Vn,n),bi(e,s);else if(Dd(l,e,t,n,s))s.stopPropagation();else if(bi(e,s),t&4&&-1<Rd.indexOf(e)){for(;l!==null;){var o=mn(l);if(o!==null&&yi(o),o=al(e,t,n,s),o===null&&Sl(e,t,s,Vn,n),o===l)break;l=o}l!==null&&s.stopPropagation()}else Sl(e,t,s,null,n)}}var Vn=null;function al(e,t,n,s){if(Vn=null,e=Js(s),e=rr(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ai(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vn=e,null}function Si(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nd()){case tl:return 1;case fi:return 4;case Mn:case bd:return 16;case hi:return 536870912;default:return 16}default:return 16}}var It=null,ul=null,Wn=null;function Li(){if(Wn)return Wn;var e,t=ul,n=t.length,s,l="value"in It?It.value:It.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[o-s];s++);return Wn=l.slice(e,1<s?1-s:void 0)}function On(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function Ci(){return!1}function rt(e){function t(n,s,l,o,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$n:Ci,this.isPropagationStopped=Ci,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=rt(vr),en=O({},vr,{view:0,detail:0}),_d=rt(en),cl,ml,tn,Hn=O({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&e.type==="mousemove"?(cl=e.screenX-tn.screenX,ml=e.screenY-tn.screenY):ml=cl=0,tn=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),Ti=rt(Hn),Bd=O({},Hn,{dataTransfer:0}),Ad=rt(Bd),Id=O({},en,{relatedTarget:0}),pl=rt(Id),Fd=O({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ud=rt(Fd),Vd=O({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wd=rt(Vd),Od=O({},vr,{data:0}),Ei=rt(Od),$d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qd[e])?!!t[e]:!1}function fl(){return Qd}var Yd=O({},en,{key:function(e){if(e.key){var t=$d[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=On(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?On(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?On(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kd=rt(Yd),Jd=O({},Hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=rt(Jd),Gd=O({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),Xd=rt(Gd),Zd=O({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=rt(Zd),tc=O({},Hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rc=rt(tc),nc=[9,13,27,32],hl=w&&"CompositionEvent"in window,rn=null;w&&"documentMode"in document&&(rn=document.documentMode);var sc=w&&"TextEvent"in window&&!rn,Di=w&&(!hl||rn&&8<rn&&11>=rn),Pi=" ",Mi=!1;function zi(e,t){switch(e){case"keyup":return nc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function lc(e,t){switch(e){case"compositionend":return _i(t);case"keypress":return t.which!==32?null:(Mi=!0,Pi);case"textInput":return e=t.data,e===Pi&&Mi?null:e;default:return null}}function oc(e,t){if(jr)return e==="compositionend"||!hl&&zi(e,t)?(e=Li(),Wn=ul=It=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Di&&t.locale!=="ko"?null:t.data;default:return null}}var ic={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ic[e.type]:t==="textarea"}function Ai(e,t,n,s){ni(s),t=Jn(t,"onChange"),0<t.length&&(n=new dl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var nn=null,sn=null;function ac(e){ta(e,0)}function qn(e){var t=Sr(e);if(Ho(t))return e}function uc(e,t){if(e==="change")return t}var Ii=!1;if(w){var xl;if(w){var gl="oninput"in document;if(!gl){var Fi=document.createElement("div");Fi.setAttribute("oninput","return;"),gl=typeof Fi.oninput=="function"}xl=gl}else xl=!1;Ii=xl&&(!document.documentMode||9<document.documentMode)}function Ui(){nn&&(nn.detachEvent("onpropertychange",Vi),sn=nn=null)}function Vi(e){if(e.propertyName==="value"&&qn(sn)){var t=[];Ai(t,sn,e,Js(e)),ii(ac,t)}}function dc(e,t,n){e==="focusin"?(Ui(),nn=t,sn=n,nn.attachEvent("onpropertychange",Vi)):e==="focusout"&&Ui()}function cc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qn(sn)}function mc(e,t){if(e==="click")return qn(t)}function pc(e,t){if(e==="input"||e==="change")return qn(t)}function fc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:fc;function ln(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!S.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function Wi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oi(e,t){var n=Wi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wi(n)}}function $i(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$i(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hi(){for(var e=window,t=En();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=En(e.document)}return t}function yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hc(e){var t=Hi(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$i(n.ownerDocument.documentElement,n)){if(s!==null&&yl(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(s.start,l);s=s.end===void 0?o:Math.min(s.end,l),!e.extend&&o>s&&(l=s,s=o,o=l),l=Oi(n,o);var i=Oi(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xc=w&&"documentMode"in document&&11>=document.documentMode,Nr=null,vl=null,on=null,jl=!1;function qi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||Nr==null||Nr!==En(s)||(s=Nr,"selectionStart"in s&&yl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),on&&ln(on,s)||(on=s,s=Jn(vl,"onSelect"),0<s.length&&(t=new dl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Nr)))}function Qn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionend:Qn("Transition","TransitionEnd")},Nl={},Qi={};w&&(Qi=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Yn(e){if(Nl[e])return Nl[e];if(!br[e])return e;var t=br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qi)return Nl[e]=t[n];return e}var Yi=Yn("animationend"),Ki=Yn("animationiteration"),Ji=Yn("animationstart"),Gi=Yn("transitionend"),Xi=new Map,Zi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){Xi.set(e,t),g(t,[e])}for(var bl=0;bl<Zi.length;bl++){var wl=Zi[bl],gc=wl.toLowerCase(),yc=wl[0].toUpperCase()+wl.slice(1);Ft(gc,"on"+yc)}Ft(Yi,"onAnimationEnd"),Ft(Ki,"onAnimationIteration"),Ft(Ji,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Gi,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var an="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vc=new Set("cancel close invalid load scroll toggle".split(" ").concat(an));function ea(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,gd(s,t,void 0,e),e.currentTarget=null}function ta(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var d=s[i],f=d.instance,k=d.currentTarget;if(d=d.listener,f!==o&&l.isPropagationStopped())break e;ea(l,d,k),o=f}else for(i=0;i<s.length;i++){if(d=s[i],f=d.instance,k=d.currentTarget,d=d.listener,f!==o&&l.isPropagationStopped())break e;ea(l,d,k),o=f}}}if(Pn)throw e=el,Pn=!1,el=null,e}function je(e,t){var n=t[Dl];n===void 0&&(n=t[Dl]=new Set);var s=e+"__bubble";n.has(s)||(ra(t,e,2,!1),n.add(s))}function kl(e,t,n){var s=0;t&&(s|=4),ra(n,e,s,t)}var Kn="_reactListening"+Math.random().toString(36).slice(2);function un(e){if(!e[Kn]){e[Kn]=!0,h.forEach(function(n){n!=="selectionchange"&&(vc.has(n)||kl(n,!1,e),kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kn]||(t[Kn]=!0,kl("selectionchange",!1,t))}}function ra(e,t,n,s){switch(Si(t)){case 1:var l=Md;break;case 4:l=zd;break;default:l=il}n=l.bind(null,t,n,e),l=void 0,!Zs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Sl(e,t,n,s,l){var o=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var d=s.stateNode.containerInfo;if(d===l||d.nodeType===8&&d.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var f=i.tag;if((f===3||f===4)&&(f=i.stateNode.containerInfo,f===l||f.nodeType===8&&f.parentNode===l))return;i=i.return}for(;d!==null;){if(i=rr(d),i===null)return;if(f=i.tag,f===5||f===6){s=o=i;continue e}d=d.parentNode}}s=s.return}ii(function(){var k=o,P=Js(n),_=[];e:{var E=Xi.get(e);if(E!==void 0){var U=dl,$=e;switch(e){case"keypress":if(On(n)===0)break e;case"keydown":case"keyup":U=Kd;break;case"focusin":$="focus",U=pl;break;case"focusout":$="blur",U=pl;break;case"beforeblur":case"afterblur":U=pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Xd;break;case Yi:case Ki:case Ji:U=Ud;break;case Gi:U=ec;break;case"scroll":U=_d;break;case"wheel":U=rc;break;case"copy":case"cut":case"paste":U=Wd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ri}var q=(t&4)!==0,Re=!q&&e==="scroll",j=q?E!==null?E+"Capture":null:E;q=[];for(var x=k,b;x!==null;){b=x;var B=b.stateNode;if(b.tag===5&&B!==null&&(b=B,j!==null&&(B=$r(x,j),B!=null&&q.push(dn(x,B,b)))),Re)break;x=x.return}0<q.length&&(E=new U(E,$,null,n,P),_.push({event:E,listeners:q}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",E&&n!==Ks&&($=n.relatedTarget||n.fromElement)&&(rr($)||$[Lt]))break e;if((U||E)&&(E=P.window===P?P:(E=P.ownerDocument)?E.defaultView||E.parentWindow:window,U?($=n.relatedTarget||n.toElement,U=k,$=$?rr($):null,$!==null&&(Re=tr($),$!==Re||$.tag!==5&&$.tag!==6)&&($=null)):(U=null,$=k),U!==$)){if(q=Ti,B="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(q=Ri,B="onPointerLeave",j="onPointerEnter",x="pointer"),Re=U==null?E:Sr(U),b=$==null?E:Sr($),E=new q(B,x+"leave",U,n,P),E.target=Re,E.relatedTarget=b,B=null,rr(P)===k&&(q=new q(j,x+"enter",$,n,P),q.target=b,q.relatedTarget=Re,B=q),Re=B,U&&$)t:{for(q=U,j=$,x=0,b=q;b;b=wr(b))x++;for(b=0,B=j;B;B=wr(B))b++;for(;0<x-b;)q=wr(q),x--;for(;0<b-x;)j=wr(j),b--;for(;x--;){if(q===j||j!==null&&q===j.alternate)break t;q=wr(q),j=wr(j)}q=null}else q=null;U!==null&&na(_,E,U,q,!1),$!==null&&Re!==null&&na(_,Re,$,q,!0)}}e:{if(E=k?Sr(k):window,U=E.nodeName&&E.nodeName.toLowerCase(),U==="select"||U==="input"&&E.type==="file")var Q=uc;else if(Bi(E))if(Ii)Q=pc;else{Q=cc;var Y=dc}else(U=E.nodeName)&&U.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(Q=mc);if(Q&&(Q=Q(e,k))){Ai(_,Q,n,P);break e}Y&&Y(e,E,k),e==="focusout"&&(Y=E._wrapperState)&&Y.controlled&&E.type==="number"&&$s(E,"number",E.value)}switch(Y=k?Sr(k):window,e){case"focusin":(Bi(Y)||Y.contentEditable==="true")&&(Nr=Y,vl=k,on=null);break;case"focusout":on=vl=Nr=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,qi(_,n,P);break;case"selectionchange":if(xc)break;case"keydown":case"keyup":qi(_,n,P)}var K;if(hl)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else jr?zi(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(Di&&n.locale!=="ko"&&(jr||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&jr&&(K=Li()):(It=P,ul="value"in It?It.value:It.textContent,jr=!0)),Y=Jn(k,Z),0<Y.length&&(Z=new Ei(Z,e,null,n,P),_.push({event:Z,listeners:Y}),K?Z.data=K:(K=_i(n),K!==null&&(Z.data=K)))),(K=sc?lc(e,n):oc(e,n))&&(k=Jn(k,"onBeforeInput"),0<k.length&&(P=new Ei("onBeforeInput","beforeinput",null,n,P),_.push({event:P,listeners:k}),P.data=K))}ta(_,t)})}function dn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jn(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=$r(e,n),o!=null&&s.unshift(dn(e,o,l)),o=$r(e,t),o!=null&&s.push(dn(e,o,l))),e=e.return}return s}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function na(e,t,n,s,l){for(var o=t._reactName,i=[];n!==null&&n!==s;){var d=n,f=d.alternate,k=d.stateNode;if(f!==null&&f===s)break;d.tag===5&&k!==null&&(d=k,l?(f=$r(n,o),f!=null&&i.unshift(dn(n,f,d))):l||(f=$r(n,o),f!=null&&i.push(dn(n,f,d)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var jc=/\r\n?/g,Nc=/\u0000|\uFFFD/g;function sa(e){return(typeof e=="string"?e:""+e).replace(jc,`
`).replace(Nc,"")}function Gn(e,t,n){if(t=sa(t),sa(e)!==t&&n)throw Error(u(425))}function Xn(){}var Ll=null,Cl=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,bc=typeof clearTimeout=="function"?clearTimeout:void 0,la=typeof Promise=="function"?Promise:void 0,wc=typeof queueMicrotask=="function"?queueMicrotask:typeof la<"u"?function(e){return la.resolve(null).then(e).catch(kc)}:El;function kc(e){setTimeout(function(){throw e})}function Rl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Zr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Zr(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+kr,cn="__reactProps$"+kr,Lt="__reactContainer$"+kr,Dl="__reactEvents$"+kr,Sc="__reactListeners$"+kr,Lc="__reactHandles$"+kr;function rr(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oa(e);e!==null;){if(n=e[Nt])return n;e=oa(e)}return t}e=n,n=e.parentNode}return null}function mn(e){return e=e[Nt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function Zn(e){return e[cn]||null}var Pl=[],Lr=-1;function Vt(e){return{current:e}}function Ne(e){0>Lr||(e.current=Pl[Lr],Pl[Lr]=null,Lr--)}function ye(e,t){Lr++,Pl[Lr]=e.current,e.current=t}var Wt={},Oe=Vt(Wt),Ke=Vt(!1),nr=Wt;function Cr(e,t){var n=e.type.contextTypes;if(!n)return Wt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Je(e){return e=e.childContextTypes,e!=null}function es(){Ne(Ke),Ne(Oe)}function ia(e,t,n){if(Oe.current!==Wt)throw Error(u(168));ye(Oe,t),ye(Ke,n)}function aa(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(u(108,ge(e)||"Unknown",l));return O({},n,s)}function ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wt,nr=Oe.current,ye(Oe,e),ye(Ke,Ke.current),!0}function ua(e,t,n){var s=e.stateNode;if(!s)throw Error(u(169));n?(e=aa(e,t,nr),s.__reactInternalMemoizedMergedChildContext=e,Ne(Ke),Ne(Oe),ye(Oe,e)):Ne(Ke),ye(Ke,n)}var Ct=null,rs=!1,Ml=!1;function da(e){Ct===null?Ct=[e]:Ct.push(e)}function Cc(e){rs=!0,da(e)}function Ot(){if(!Ml&&Ct!==null){Ml=!0;var e=0,t=de;try{var n=Ct;for(de=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ct=null,rs=!1}catch(l){throw Ct!==null&&(Ct=Ct.slice(e+1)),mi(tl,Ot),l}finally{de=t,Ml=!1}}return null}var Tr=[],Er=0,ns=null,ss=0,it=[],at=0,sr=null,Tt=1,Et="";function lr(e,t){Tr[Er++]=ss,Tr[Er++]=ns,ns=e,ss=t}function ca(e,t,n){it[at++]=Tt,it[at++]=Et,it[at++]=sr,sr=e;var s=Tt;e=Et;var l=32-pt(s)-1;s&=~(1<<l),n+=1;var o=32-pt(t)+l;if(30<o){var i=l-l%5;o=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Tt=1<<32-pt(t)+l|n<<l|s,Et=o+e}else Tt=1<<o|n<<l|s,Et=e}function zl(e){e.return!==null&&(lr(e,1),ca(e,1,0))}function _l(e){for(;e===ns;)ns=Tr[--Er],Tr[Er]=null,ss=Tr[--Er],Tr[Er]=null;for(;e===sr;)sr=it[--at],it[at]=null,Et=it[--at],it[at]=null,Tt=it[--at],it[at]=null}var nt=null,st=null,Se=!1,ht=null;function ma(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,st=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:Tt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,st=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Al(e){if(Se){var t=st;if(t){var n=t;if(!pa(e,t)){if(Bl(e))throw Error(u(418));t=Ut(n.nextSibling);var s=nt;t&&pa(e,t)?ma(s,n):(e.flags=e.flags&-4097|2,Se=!1,nt=e)}}else{if(Bl(e))throw Error(u(418));e.flags=e.flags&-4097|2,Se=!1,nt=e}}}function fa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function ls(e){if(e!==nt)return!1;if(!Se)return fa(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=st)){if(Bl(e))throw ha(),Error(u(418));for(;t;)ma(e,t),t=Ut(t.nextSibling)}if(fa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Ut(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=nt?Ut(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=st;e;)e=Ut(e.nextSibling)}function Rr(){st=nt=null,Se=!1}function Il(e){ht===null?ht=[e]:ht.push(e)}var Tc=ne.ReactCurrentBatchConfig;function pn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(u(309));var s=n.stateNode}if(!s)throw Error(u(147,e));var l=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var d=l.refs;i===null?delete d[o]:d[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){var t=e._init;return t(e._payload)}function ga(e){function t(j,x){if(e){var b=j.deletions;b===null?(j.deletions=[x],j.flags|=16):b.push(x)}}function n(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function s(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function l(j,x){return j=Gt(j,x),j.index=0,j.sibling=null,j}function o(j,x,b){return j.index=b,e?(b=j.alternate,b!==null?(b=b.index,b<x?(j.flags|=2,x):b):(j.flags|=2,x)):(j.flags|=1048576,x)}function i(j){return e&&j.alternate===null&&(j.flags|=2),j}function d(j,x,b,B){return x===null||x.tag!==6?(x=Ro(b,j.mode,B),x.return=j,x):(x=l(x,b),x.return=j,x)}function f(j,x,b,B){var Q=b.type;return Q===Me?P(j,x,b.props.children,B,b.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ce&&xa(Q)===x.type)?(B=l(x,b.props),B.ref=pn(j,x,b),B.return=j,B):(B=Rs(b.type,b.key,b.props,null,j.mode,B),B.ref=pn(j,x,b),B.return=j,B)}function k(j,x,b,B){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Do(b,j.mode,B),x.return=j,x):(x=l(x,b.children||[]),x.return=j,x)}function P(j,x,b,B,Q){return x===null||x.tag!==7?(x=pr(b,j.mode,B,Q),x.return=j,x):(x=l(x,b),x.return=j,x)}function _(j,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ro(""+x,j.mode,b),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fe:return b=Rs(x.type,x.key,x.props,null,j.mode,b),b.ref=pn(j,null,x),b.return=j,b;case he:return x=Do(x,j.mode,b),x.return=j,x;case ce:var B=x._init;return _(j,B(x._payload),b)}if(Vr(x)||G(x))return x=pr(x,j.mode,b,null),x.return=j,x;os(j,x)}return null}function E(j,x,b,B){var Q=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return Q!==null?null:d(j,x,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fe:return b.key===Q?f(j,x,b,B):null;case he:return b.key===Q?k(j,x,b,B):null;case ce:return Q=b._init,E(j,x,Q(b._payload),B)}if(Vr(b)||G(b))return Q!==null?null:P(j,x,b,B,null);os(j,b)}return null}function U(j,x,b,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return j=j.get(b)||null,d(x,j,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case fe:return j=j.get(B.key===null?b:B.key)||null,f(x,j,B,Q);case he:return j=j.get(B.key===null?b:B.key)||null,k(x,j,B,Q);case ce:var Y=B._init;return U(j,x,b,Y(B._payload),Q)}if(Vr(B)||G(B))return j=j.get(b)||null,P(x,j,B,Q,null);os(x,B)}return null}function $(j,x,b,B){for(var Q=null,Y=null,K=x,Z=x=0,Ie=null;K!==null&&Z<b.length;Z++){K.index>Z?(Ie=K,K=null):Ie=K.sibling;var ie=E(j,K,b[Z],B);if(ie===null){K===null&&(K=Ie);break}e&&K&&ie.alternate===null&&t(j,K),x=o(ie,x,Z),Y===null?Q=ie:Y.sibling=ie,Y=ie,K=Ie}if(Z===b.length)return n(j,K),Se&&lr(j,Z),Q;if(K===null){for(;Z<b.length;Z++)K=_(j,b[Z],B),K!==null&&(x=o(K,x,Z),Y===null?Q=K:Y.sibling=K,Y=K);return Se&&lr(j,Z),Q}for(K=s(j,K);Z<b.length;Z++)Ie=U(K,j,Z,b[Z],B),Ie!==null&&(e&&Ie.alternate!==null&&K.delete(Ie.key===null?Z:Ie.key),x=o(Ie,x,Z),Y===null?Q=Ie:Y.sibling=Ie,Y=Ie);return e&&K.forEach(function(Xt){return t(j,Xt)}),Se&&lr(j,Z),Q}function q(j,x,b,B){var Q=G(b);if(typeof Q!="function")throw Error(u(150));if(b=Q.call(b),b==null)throw Error(u(151));for(var Y=Q=null,K=x,Z=x=0,Ie=null,ie=b.next();K!==null&&!ie.done;Z++,ie=b.next()){K.index>Z?(Ie=K,K=null):Ie=K.sibling;var Xt=E(j,K,ie.value,B);if(Xt===null){K===null&&(K=Ie);break}e&&K&&Xt.alternate===null&&t(j,K),x=o(Xt,x,Z),Y===null?Q=Xt:Y.sibling=Xt,Y=Xt,K=Ie}if(ie.done)return n(j,K),Se&&lr(j,Z),Q;if(K===null){for(;!ie.done;Z++,ie=b.next())ie=_(j,ie.value,B),ie!==null&&(x=o(ie,x,Z),Y===null?Q=ie:Y.sibling=ie,Y=ie);return Se&&lr(j,Z),Q}for(K=s(j,K);!ie.done;Z++,ie=b.next())ie=U(K,j,Z,ie.value,B),ie!==null&&(e&&ie.alternate!==null&&K.delete(ie.key===null?Z:ie.key),x=o(ie,x,Z),Y===null?Q=ie:Y.sibling=ie,Y=ie);return e&&K.forEach(function(i0){return t(j,i0)}),Se&&lr(j,Z),Q}function Re(j,x,b,B){if(typeof b=="object"&&b!==null&&b.type===Me&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fe:e:{for(var Q=b.key,Y=x;Y!==null;){if(Y.key===Q){if(Q=b.type,Q===Me){if(Y.tag===7){n(j,Y.sibling),x=l(Y,b.props.children),x.return=j,j=x;break e}}else if(Y.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ce&&xa(Q)===Y.type){n(j,Y.sibling),x=l(Y,b.props),x.ref=pn(j,Y,b),x.return=j,j=x;break e}n(j,Y);break}else t(j,Y);Y=Y.sibling}b.type===Me?(x=pr(b.props.children,j.mode,B,b.key),x.return=j,j=x):(B=Rs(b.type,b.key,b.props,null,j.mode,B),B.ref=pn(j,x,b),B.return=j,j=B)}return i(j);case he:e:{for(Y=b.key;x!==null;){if(x.key===Y)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(j,x.sibling),x=l(x,b.children||[]),x.return=j,j=x;break e}else{n(j,x);break}else t(j,x);x=x.sibling}x=Do(b,j.mode,B),x.return=j,j=x}return i(j);case ce:return Y=b._init,Re(j,x,Y(b._payload),B)}if(Vr(b))return $(j,x,b,B);if(G(b))return q(j,x,b,B);os(j,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(j,x.sibling),x=l(x,b),x.return=j,j=x):(n(j,x),x=Ro(b,j.mode,B),x.return=j,j=x),i(j)):n(j,x)}return Re}var Dr=ga(!0),ya=ga(!1),is=Vt(null),as=null,Pr=null,Fl=null;function Ul(){Fl=Pr=as=null}function Vl(e){var t=is.current;Ne(is),e._currentValue=t}function Wl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){as=e,Fl=Pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ge=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Fl!==e)if(e={context:e,memoizedValue:t,next:null},Pr===null){if(as===null)throw Error(u(308));Pr=e,as.dependencies={lanes:0,firstContext:e}}else Pr=Pr.next=e;return t}var or=null;function Ol(e){or===null?or=[e]:or.push(e)}function va(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Ol(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rt(e,s)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function $l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(se&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Rt(e,n)}return l=s.interleaved,l===null?(t.next=t,Ol(s)):(t.next=l.next,l.next=t),s.interleaved=t,Rt(e,n)}function us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sl(e,n)}}function Na(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,s){var l=e.updateQueue;$t=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,d=l.shared.pending;if(d!==null){l.shared.pending=null;var f=d,k=f.next;f.next=null,i===null?o=k:i.next=k,i=f;var P=e.alternate;P!==null&&(P=P.updateQueue,d=P.lastBaseUpdate,d!==i&&(d===null?P.firstBaseUpdate=k:d.next=k,P.lastBaseUpdate=f))}if(o!==null){var _=l.baseState;i=0,P=k=f=null,d=o;do{var E=d.lane,U=d.eventTime;if((s&E)===E){P!==null&&(P=P.next={eventTime:U,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var $=e,q=d;switch(E=t,U=n,q.tag){case 1:if($=q.payload,typeof $=="function"){_=$.call(U,_,E);break e}_=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=q.payload,E=typeof $=="function"?$.call(U,_,E):$,E==null)break e;_=O({},_,E);break e;case 2:$t=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,E=l.effects,E===null?l.effects=[d]:E.push(d))}else U={eventTime:U,lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},P===null?(k=P=U,f=_):P=P.next=U,i|=E;if(d=d.next,d===null){if(d=l.shared.pending,d===null)break;E=d,d=E.next,E.next=null,l.lastBaseUpdate=E,l.shared.pending=null}}while(!0);if(P===null&&(f=_),l.baseState=f,l.firstBaseUpdate=k,l.lastBaseUpdate=P,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);ur|=i,e.lanes=i,e.memoizedState=_}}function ba(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(u(191,l));l.call(s)}}}var fn={},bt=Vt(fn),hn=Vt(fn),xn=Vt(fn);function ir(e){if(e===fn)throw Error(u(174));return e}function Hl(e,t){switch(ye(xn,t),ye(hn,e),ye(bt,fn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qs(t,e)}Ne(bt),ye(bt,t)}function zr(){Ne(bt),Ne(hn),Ne(xn)}function wa(e){ir(xn.current);var t=ir(bt.current),n=qs(t,e.type);t!==n&&(ye(hn,e),ye(bt,n))}function ql(e){hn.current===e&&(Ne(bt),Ne(hn))}var Le=Vt(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function Yl(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var ms=ne.ReactCurrentDispatcher,Kl=ne.ReactCurrentBatchConfig,ar=0,Ce=null,ze=null,Be=null,ps=!1,gn=!1,yn=0,Ec=0;function $e(){throw Error(u(321))}function Jl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Gl(e,t,n,s,l,o){if(ar=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=e===null||e.memoizedState===null?Mc:zc,e=n(s,l),gn){o=0;do{if(gn=!1,yn=0,25<=o)throw Error(u(301));o+=1,Be=ze=null,t.updateQueue=null,ms.current=_c,e=n(s,l)}while(gn)}if(ms.current=xs,t=ze!==null&&ze.next!==null,ar=0,Be=ze=Ce=null,ps=!1,t)throw Error(u(300));return e}function Xl(){var e=yn!==0;return yn=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ce.memoizedState=Be=e:Be=Be.next=e,Be}function dt(){if(ze===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Ce.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(u(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Ce.memoizedState=Be=e:Be=Be.next=e}return Be}function vn(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=dt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var s=ze,l=s.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}s.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,s=s.baseState;var d=i=null,f=null,k=o;do{var P=k.lane;if((ar&P)===P)f!==null&&(f=f.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),s=k.hasEagerState?k.eagerState:e(s,k.action);else{var _={lane:P,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};f===null?(d=f=_,i=s):f=f.next=_,Ce.lanes|=P,ur|=P}k=k.next}while(k!==null&&k!==o);f===null?i=s:f.next=d,ft(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=f,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Ce.lanes|=o,ur|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eo(e){var t=dt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);ft(o,t.memoizedState)||(Ge=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function ka(){}function Sa(e,t){var n=Ce,s=dt(),l=t(),o=!ft(s.memoizedState,l);if(o&&(s.memoizedState=l,Ge=!0),s=s.queue,to(Ta.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,jn(9,Ca.bind(null,n,s,l,t),void 0,null),Ae===null)throw Error(u(349));(ar&30)!==0||La(n,t,l)}return l}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ca(e,t,n,s){t.value=n,t.getSnapshot=s,Ea(t)&&Ra(e)}function Ta(e,t,n){return n(function(){Ea(t)&&Ra(e)})}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Ra(e){var t=Rt(e,1);t!==null&&vt(t,e,1,-1)}function Da(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t.queue=e,e=e.dispatch=Pc.bind(null,Ce,e),[t.memoizedState,e]}function jn(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Pa(){return dt().memoizedState}function fs(e,t,n,s){var l=wt();Ce.flags|=e,l.memoizedState=jn(1|t,n,void 0,s===void 0?null:s)}function hs(e,t,n,s){var l=dt();s=s===void 0?null:s;var o=void 0;if(ze!==null){var i=ze.memoizedState;if(o=i.destroy,s!==null&&Jl(s,i.deps)){l.memoizedState=jn(t,n,o,s);return}}Ce.flags|=e,l.memoizedState=jn(1|t,n,o,s)}function Ma(e,t){return fs(8390656,8,e,t)}function to(e,t){return hs(2048,8,e,t)}function za(e,t){return hs(4,2,e,t)}function _a(e,t){return hs(4,4,e,t)}function Ba(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Aa(e,t,n){return n=n!=null?n.concat([e]):null,hs(4,4,Ba.bind(null,t,e),n)}function ro(){}function Ia(e,t){var n=dt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Jl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Fa(e,t){var n=dt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Jl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Ua(e,t,n){return(ar&21)===0?(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n):(ft(n,t)||(n=xi(),Ce.lanes|=n,ur|=n,e.baseState=!0),t)}function Rc(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var s=Kl.transition;Kl.transition={};try{e(!1),t()}finally{de=n,Kl.transition=s}}function Va(){return dt().memoizedState}function Dc(e,t,n){var s=Kt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e))Oa(t,n);else if(n=va(e,t,n,s),n!==null){var l=Ye();vt(n,e,s,l),$a(n,t,s)}}function Pc(e,t,n){var s=Kt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))Oa(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,d=o(i,n);if(l.hasEagerState=!0,l.eagerState=d,ft(d,i)){var f=t.interleaved;f===null?(l.next=l,Ol(t)):(l.next=f.next,f.next=l),t.interleaved=l;return}}catch{}finally{}n=va(e,t,l,s),n!==null&&(l=Ye(),vt(n,e,s,l),$a(n,t,s))}}function Wa(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Oa(e,t){gn=ps=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sl(e,n)}}var xs={readContext:ut,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Mc={readContext:ut,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fs(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return fs(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=wt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Dc.bind(null,Ce,e),[s.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Da,useDebugValue:ro,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Rc.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ce,l=wt();if(Se){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Ae===null)throw Error(u(349));(ar&30)!==0||La(s,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ma(Ta.bind(null,s,o,e),[e]),s.flags|=2048,jn(9,Ca.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=wt(),t=Ae.identifierPrefix;if(Se){var n=Et,s=Tt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=yn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ec++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zc={readContext:ut,useCallback:Ia,useContext:ut,useEffect:to,useImperativeHandle:Aa,useInsertionEffect:za,useLayoutEffect:_a,useMemo:Fa,useReducer:Zl,useRef:Pa,useState:function(){return Zl(vn)},useDebugValue:ro,useDeferredValue:function(e){var t=dt();return Ua(t,ze.memoizedState,e)},useTransition:function(){var e=Zl(vn)[0],t=dt().memoizedState;return[e,t]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Va,unstable_isNewReconciler:!1},_c={readContext:ut,useCallback:Ia,useContext:ut,useEffect:to,useImperativeHandle:Aa,useInsertionEffect:za,useLayoutEffect:_a,useMemo:Fa,useReducer:eo,useRef:Pa,useState:function(){return eo(vn)},useDebugValue:ro,useDeferredValue:function(e){var t=dt();return ze===null?t.memoizedState=e:Ua(t,ze.memoizedState,e)},useTransition:function(){var e=eo(vn)[0],t=dt().memoizedState;return[e,t]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Va,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=O({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function no(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:O({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ye(),l=Kt(e),o=Dt(s,l);o.payload=t,n!=null&&(o.callback=n),t=Ht(e,o,l),t!==null&&(vt(t,e,l,s),us(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ye(),l=Kt(e),o=Dt(s,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ht(e,o,l),t!==null&&(vt(t,e,l,s),us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),s=Kt(e),l=Dt(n,s);l.tag=2,t!=null&&(l.callback=t),t=Ht(e,l,s),t!==null&&(vt(t,e,s,n),us(t,e,s))}};function Ha(e,t,n,s,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!ln(n,s)||!ln(l,o):!0}function qa(e,t,n){var s=!1,l=Wt,o=t.contextType;return typeof o=="object"&&o!==null?o=ut(o):(l=Je(t)?nr:Oe.current,s=t.contextTypes,o=(s=s!=null)?Cr(e,l):Wt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qa(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function so(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},$l(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=ut(o):(o=Je(t)?nr:Oe.current,l.context=Cr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(no(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&gs.enqueueReplaceState(l,l.state,null),ds(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function _r(e,t){try{var n="",s=t;do n+=le(s),s=s.return;while(s);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bc=typeof WeakMap=="function"?WeakMap:Map;function Ya(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ks||(ks=!0,bo=s),oo(e,t)},n}function Ka(e,t,n){n=Dt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){oo(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){oo(e,t),typeof s!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ja(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Bc;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Jc.bind(null,e,t,n),t.then(e,e))}function Ga(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xa(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Ac=ne.ReactCurrentOwner,Ge=!1;function Qe(e,t,n,s){t.child=e===null?ya(t,null,n,s):Dr(t,e.child,n,s)}function Za(e,t,n,s,l){n=n.render;var o=t.ref;return Mr(t,l),s=Gl(e,t,n,s,o,l),n=Xl(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Pt(e,t,l)):(Se&&n&&zl(t),t.flags|=1,Qe(e,t,s,l),t.child)}function eu(e,t,n,s,l){if(e===null){var o=n.type;return typeof o=="function"&&!Eo(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,tu(e,t,o,s,l)):(e=Rs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ln,n(i,s)&&e.ref===t.ref)return Pt(e,t,l)}return t.flags|=1,e=Gt(o,s),e.ref=t.ref,e.return=t,t.child=e}function tu(e,t,n,s,l){if(e!==null){var o=e.memoizedProps;if(ln(o,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,Pt(e,t,l)}return io(e,t,n,s,l)}function ru(e,t,n){var s=t.pendingProps,l=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ar,lt),lt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Ar,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,ye(Ar,lt),lt|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,ye(Ar,lt),lt|=s;return Qe(e,t,l,n),t.child}function nu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function io(e,t,n,s,l){var o=Je(n)?nr:Oe.current;return o=Cr(t,o),Mr(t,l),n=Gl(e,t,n,s,o,l),s=Xl(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Pt(e,t,l)):(Se&&s&&zl(t),t.flags|=1,Qe(e,t,n,l),t.child)}function su(e,t,n,s,l){if(Je(n)){var o=!0;ts(t)}else o=!1;if(Mr(t,l),t.stateNode===null)vs(e,t),qa(t,n,s),so(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,d=t.memoizedProps;i.props=d;var f=i.context,k=n.contextType;typeof k=="object"&&k!==null?k=ut(k):(k=Je(n)?nr:Oe.current,k=Cr(t,k));var P=n.getDerivedStateFromProps,_=typeof P=="function"||typeof i.getSnapshotBeforeUpdate=="function";_||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==s||f!==k)&&Qa(t,i,s,k),$t=!1;var E=t.memoizedState;i.state=E,ds(t,s,i,l),f=t.memoizedState,d!==s||E!==f||Ke.current||$t?(typeof P=="function"&&(no(t,n,P,s),f=t.memoizedState),(d=$t||Ha(t,n,d,s,E,f,k))?(_||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),i.props=s,i.state=f,i.context=k,s=d):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,ja(e,t),d=t.memoizedProps,k=t.type===t.elementType?d:xt(t.type,d),i.props=k,_=t.pendingProps,E=i.context,f=n.contextType,typeof f=="object"&&f!==null?f=ut(f):(f=Je(n)?nr:Oe.current,f=Cr(t,f));var U=n.getDerivedStateFromProps;(P=typeof U=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==_||E!==f)&&Qa(t,i,s,f),$t=!1,E=t.memoizedState,i.state=E,ds(t,s,i,l);var $=t.memoizedState;d!==_||E!==$||Ke.current||$t?(typeof U=="function"&&(no(t,n,U,s),$=t.memoizedState),(k=$t||Ha(t,n,k,s,E,$,f)||!1)?(P||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,$,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,$,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=$),i.props=s,i.state=$,i.context=f,s=k):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),s=!1)}return ao(e,t,n,s,o,l)}function ao(e,t,n,s,l,o){nu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&ua(t,n,!1),Pt(e,t,o);s=t.stateNode,Ac.current=t;var d=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Dr(t,e.child,null,o),t.child=Dr(t,null,d,o)):Qe(e,t,d,o),t.memoizedState=s.state,l&&ua(t,n,!0),t.child}function lu(e){var t=e.stateNode;t.pendingContext?ia(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ia(e,t.context,!1),Hl(e,t.containerInfo)}function ou(e,t,n,s,l){return Rr(),Il(l),t.flags|=256,Qe(e,t,n,s),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function co(e){return{baseLanes:e,cachePool:null,transitions:null}}function iu(e,t,n){var s=t.pendingProps,l=Le.current,o=!1,i=(t.flags&128)!==0,d;if((d=i)||(d=e!==null&&e.memoizedState===null?!1:(l&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(Le,l&1),e===null)return Al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},(s&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ds(i,s,0,null),e=pr(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=co(n),t.memoizedState=uo,e):mo(t,i));if(l=e.memoizedState,l!==null&&(d=l.dehydrated,d!==null))return Ic(e,t,i,s,d,l,n);if(o){o=s.fallback,i=t.mode,l=e.child,d=l.sibling;var f={mode:"hidden",children:s.children};return(i&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=Gt(l,f),s.subtreeFlags=l.subtreeFlags&14680064),d!==null?o=Gt(d,o):(o=pr(o,i,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?co(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=uo,s}return o=e.child,e=o.sibling,s=Gt(o,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function mo(e,t){return t=Ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ys(e,t,n,s){return s!==null&&Il(s),Dr(t,e.child,null,n),e=mo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ic(e,t,n,s,l,o,i){if(n)return t.flags&256?(t.flags&=-257,s=lo(Error(u(422))),ys(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,l=t.mode,s=Ds({mode:"visible",children:s.children},l,0,null),o=pr(o,l,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,(t.mode&1)!==0&&Dr(t,e.child,null,i),t.child.memoizedState=co(i),t.memoizedState=uo,o);if((t.mode&1)===0)return ys(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var d=s.dgst;return s=d,o=Error(u(419)),s=lo(o,s,void 0),ys(e,t,i,s)}if(d=(i&e.childLanes)!==0,Ge||d){if(s=Ae,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|i))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Rt(e,l),vt(s,e,l,-1))}return To(),s=lo(Error(u(421))),ys(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gc.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,st=Ut(l.nextSibling),nt=t,Se=!0,ht=null,e!==null&&(it[at++]=Tt,it[at++]=Et,it[at++]=sr,Tt=e.id,Et=e.overflow,sr=t),t=mo(t,s.children),t.flags|=4096,t)}function au(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wl(e.return,t,n)}function po(e,t,n,s,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=l)}function uu(e,t,n){var s=t.pendingProps,l=s.revealOrder,o=s.tail;if(Qe(e,t,s.children,n),s=Le.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&au(e,n,t);else if(e.tag===19)au(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ye(Le,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&cs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),po(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&cs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}po(t,!0,n,null,o);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fc(e,t,n){switch(t.tag){case 3:lu(t),Rr();break;case 5:wa(t);break;case 1:Je(t.type)&&ts(t);break;case 4:Hl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ye(is,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ye(Le,Le.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?iu(e,t,n):(ye(Le,Le.current&1),e=Pt(e,t,n),e!==null?e.sibling:null);ye(Le,Le.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return uu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(Le,Le.current),s)break;return null;case 22:case 23:return t.lanes=0,ru(e,t,n)}return Pt(e,t,n)}var du,fo,cu,mu;du=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fo=function(){},cu=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,ir(bt.current);var o=null;switch(n){case"input":l=Ws(e,l),s=Ws(e,s),o=[];break;case"select":l=O({},l,{value:void 0}),s=O({},s,{value:void 0}),o=[];break;case"textarea":l=Hs(e,l),s=Hs(e,s),o=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xn)}Qs(n,s);var i;n=null;for(k in l)if(!s.hasOwnProperty(k)&&l.hasOwnProperty(k)&&l[k]!=null)if(k==="style"){var d=l[k];for(i in d)d.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(m.hasOwnProperty(k)?o||(o=[]):(o=o||[]).push(k,null));for(k in s){var f=s[k];if(d=l!=null?l[k]:void 0,s.hasOwnProperty(k)&&f!==d&&(f!=null||d!=null))if(k==="style")if(d){for(i in d)!d.hasOwnProperty(i)||f&&f.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in f)f.hasOwnProperty(i)&&d[i]!==f[i]&&(n||(n={}),n[i]=f[i])}else n||(o||(o=[]),o.push(k,n)),n=f;else k==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,d=d?d.__html:void 0,f!=null&&d!==f&&(o=o||[]).push(k,f)):k==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(k,""+f):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(m.hasOwnProperty(k)?(f!=null&&k==="onScroll"&&je("scroll",e),o||d===f||(o=[])):(o=o||[]).push(k,f))}n&&(o=o||[]).push("style",n);var k=o;(t.updateQueue=k)&&(t.flags|=4)}},mu=function(e,t,n,s){n!==s&&(t.flags|=4)};function Nn(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Uc(e,t,n){var s=t.pendingProps;switch(_l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Je(t.type)&&es(),He(t),null;case 3:return s=t.stateNode,zr(),Ne(Ke),Ne(Oe),Yl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ht!==null&&(So(ht),ht=null))),fo(e,t),He(t),null;case 5:ql(t);var l=ir(xn.current);if(n=t.type,e!==null&&t.stateNode!=null)cu(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(u(166));return He(t),null}if(e=ir(bt.current),ls(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[Nt]=t,s[cn]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<an.length;l++)je(an[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":qo(s,o),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},je("invalid",s);break;case"textarea":Ko(s,o),je("invalid",s)}Qs(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="children"?typeof d=="string"?s.textContent!==d&&(o.suppressHydrationWarning!==!0&&Gn(s.textContent,d,e),l=["children",d]):typeof d=="number"&&s.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Gn(s.textContent,d,e),l=["children",""+d]):m.hasOwnProperty(i)&&d!=null&&i==="onScroll"&&je("scroll",s)}switch(n){case"input":Tn(s),Yo(s,o,!0);break;case"textarea":Tn(s),Go(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Xn)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xo(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Nt]=t,e[cn]=s,du(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ys(n,s),n){case"dialog":je("cancel",e),je("close",e),l=s;break;case"iframe":case"object":case"embed":je("load",e),l=s;break;case"video":case"audio":for(l=0;l<an.length;l++)je(an[l],e);l=s;break;case"source":je("error",e),l=s;break;case"img":case"image":case"link":je("error",e),je("load",e),l=s;break;case"details":je("toggle",e),l=s;break;case"input":qo(e,s),l=Ws(e,s),je("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=O({},s,{value:void 0}),je("invalid",e);break;case"textarea":Ko(e,s),l=Hs(e,s),je("invalid",e);break;default:l=s}Qs(n,l),d=l;for(o in d)if(d.hasOwnProperty(o)){var f=d[o];o==="style"?ti(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Zo(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Wr(e,f):typeof f=="number"&&Wr(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(m.hasOwnProperty(o)?f!=null&&o==="onScroll"&&je("scroll",e):f!=null&&H(e,o,f,i))}switch(n){case"input":Tn(e),Yo(e,s,!1);break;case"textarea":Tn(e),Go(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ue(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?hr(e,!!s.multiple,o,!1):s.defaultValue!=null&&hr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Xn)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)mu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(u(166));if(n=ir(xn.current),ir(bt.current),ls(t)){if(s=t.stateNode,n=t.memoizedProps,s[Nt]=t,(o=s.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:Gn(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gn(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Nt]=t,t.stateNode=s}return He(t),null;case 13:if(Ne(Le),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&st!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ha(),Rr(),t.flags|=98560,o=!1;else if(o=ls(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));o[Nt]=t}else Rr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else ht!==null&&(So(ht),ht=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Le.current&1)!==0?_e===0&&(_e=3):To())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return zr(),fo(e,t),e===null&&un(t.stateNode.containerInfo),He(t),null;case 10:return Vl(t.type._context),He(t),null;case 17:return Je(t.type)&&es(),He(t),null;case 19:if(Ne(Le),o=t.memoizedState,o===null)return He(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Nn(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=cs(e),i!==null){for(t.flags|=128,Nn(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Ir&&(t.flags|=128,s=!0,Nn(o,!1),t.lanes=4194304)}else{if(!s)if(e=cs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Se)return He(t),null}else 2*Ee()-o.renderingStartTime>Ir&&n!==1073741824&&(t.flags|=128,s=!0,Nn(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,n=Le.current,ye(Le,s?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Co(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(lt&1073741824)!==0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function Vc(e,t){switch(_l(t),t.tag){case 1:return Je(t.type)&&es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),Ne(Ke),Ne(Oe),Yl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(Ne(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Le),null;case 4:return zr(),null;case 10:return Vl(t.type._context),null;case 22:case 23:return Co(),null;case 24:return null;default:return null}}var js=!1,qe=!1,Wc=typeof WeakSet=="function"?WeakSet:Set,W=null;function Br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Te(e,t,s)}else n.current=null}function ho(e,t,n){try{n()}catch(s){Te(e,t,s)}}var pu=!1;function Oc(e,t){if(Ll=Un,e=Hi(),yl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,d=-1,f=-1,k=0,P=0,_=e,E=null;t:for(;;){for(var U;_!==n||l!==0&&_.nodeType!==3||(d=i+l),_!==o||s!==0&&_.nodeType!==3||(f=i+s),_.nodeType===3&&(i+=_.nodeValue.length),(U=_.firstChild)!==null;)E=_,_=U;for(;;){if(_===e)break t;if(E===n&&++k===l&&(d=i),E===o&&++P===s&&(f=i),(U=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=U}n=d===-1||f===-1?null:{start:d,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cl={focusedElem:e,selectionRange:n},Un=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var $=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if($!==null){var q=$.memoizedProps,Re=$.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?q:xt(t.type,q),Re);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(B){Te(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return $=pu,pu=!1,$}function bn(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ho(t,n,o)}l=l.next}while(l!==s)}}function Ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function xo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fu(e){var t=e.alternate;t!==null&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[cn],delete t[Dl],delete t[Sc],delete t[Lc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hu(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function go(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xn));else if(s!==4&&(e=e.child,e!==null))for(go(e,t,n),e=e.sibling;e!==null;)go(e,t,n),e=e.sibling}function yo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(yo(e,t,n),e=e.sibling;e!==null;)yo(e,t,n),e=e.sibling}var Ve=null,gt=!1;function qt(e,t,n){for(n=n.child;n!==null;)gu(e,t,n),n=n.sibling}function gu(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(zn,n)}catch{}switch(n.tag){case 5:qe||Br(n,t);case 6:var s=Ve,l=gt;Ve=null,qt(e,t,n),Ve=s,gt=l,Ve!==null&&(gt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(gt?(e=Ve,n=n.stateNode,e.nodeType===8?Rl(e.parentNode,n):e.nodeType===1&&Rl(e,n),Zr(e)):Rl(Ve,n.stateNode));break;case 4:s=Ve,l=gt,Ve=n.stateNode.containerInfo,gt=!0,qt(e,t,n),Ve=s,gt=l;break;case 0:case 11:case 14:case 15:if(!qe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&((o&2)!==0||(o&4)!==0)&&ho(n,t,i),l=l.next}while(l!==s)}qt(e,t,n);break;case 1:if(!qe&&(Br(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(d){Te(n,t,d)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(qe=(s=qe)||n.memoizedState!==null,qt(e,t,n),qe=s):qt(e,t,n);break;default:qt(e,t,n)}}function yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wc),t.forEach(function(s){var l=Xc.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var o=e,i=t,d=i;e:for(;d!==null;){switch(d.tag){case 5:Ve=d.stateNode,gt=!1;break e;case 3:Ve=d.stateNode.containerInfo,gt=!0;break e;case 4:Ve=d.stateNode.containerInfo,gt=!0;break e}d=d.return}if(Ve===null)throw Error(u(160));gu(o,i,l),Ve=null,gt=!1;var f=l.alternate;f!==null&&(f.return=null),l.return=null}catch(k){Te(l,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),kt(e),s&4){try{bn(3,e,e.return),Ns(3,e)}catch(q){Te(e,e.return,q)}try{bn(5,e,e.return)}catch(q){Te(e,e.return,q)}}break;case 1:yt(t,e),kt(e),s&512&&n!==null&&Br(n,n.return);break;case 5:if(yt(t,e),kt(e),s&512&&n!==null&&Br(n,n.return),e.flags&32){var l=e.stateNode;try{Wr(l,"")}catch(q){Te(e,e.return,q)}}if(s&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,d=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&Qo(l,o),Ys(d,i);var k=Ys(d,o);for(i=0;i<f.length;i+=2){var P=f[i],_=f[i+1];P==="style"?ti(l,_):P==="dangerouslySetInnerHTML"?Zo(l,_):P==="children"?Wr(l,_):H(l,P,_,k)}switch(d){case"input":Os(l,o);break;case"textarea":Jo(l,o);break;case"select":var E=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var U=o.value;U!=null?hr(l,!!o.multiple,U,!1):E!==!!o.multiple&&(o.defaultValue!=null?hr(l,!!o.multiple,o.defaultValue,!0):hr(l,!!o.multiple,o.multiple?[]:"",!1))}l[cn]=o}catch(q){Te(e,e.return,q)}}break;case 6:if(yt(t,e),kt(e),s&4){if(e.stateNode===null)throw Error(u(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(q){Te(e,e.return,q)}}break;case 3:if(yt(t,e),kt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(q){Te(e,e.return,q)}break;case 4:yt(t,e),kt(e);break;case 13:yt(t,e),kt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(No=Ee())),s&4&&yu(e);break;case 22:if(P=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(k=qe)||P,yt(t,e),qe=k):yt(t,e),kt(e),s&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!P&&(e.mode&1)!==0)for(W=e,P=e.child;P!==null;){for(_=W=P;W!==null;){switch(E=W,U=E.child,E.tag){case 0:case 11:case 14:case 15:bn(4,E,E.return);break;case 1:Br(E,E.return);var $=E.stateNode;if(typeof $.componentWillUnmount=="function"){s=E,n=E.return;try{t=s,$.props=t.memoizedProps,$.state=t.memoizedState,$.componentWillUnmount()}catch(q){Te(s,n,q)}}break;case 5:Br(E,E.return);break;case 22:if(E.memoizedState!==null){bu(_);continue}}U!==null?(U.return=E,W=U):bu(_)}P=P.sibling}e:for(P=null,_=e;;){if(_.tag===5){if(P===null){P=_;try{l=_.stateNode,k?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=_.stateNode,f=_.memoizedProps.style,i=f!=null&&f.hasOwnProperty("display")?f.display:null,d.style.display=ei("display",i))}catch(q){Te(e,e.return,q)}}}else if(_.tag===6){if(P===null)try{_.stateNode.nodeValue=k?"":_.memoizedProps}catch(q){Te(e,e.return,q)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;P===_&&(P=null),_=_.return}P===_&&(P=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:yt(t,e),kt(e),s&4&&yu(e);break;case 21:break;default:yt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hu(n)){var s=n;break e}n=n.return}throw Error(u(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Wr(l,""),s.flags&=-33);var o=xu(e);yo(e,o,l);break;case 3:case 4:var i=s.stateNode.containerInfo,d=xu(e);go(e,d,i);break;default:throw Error(u(161))}}catch(f){Te(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $c(e,t,n){W=e,ju(e)}function ju(e,t,n){for(var s=(e.mode&1)!==0;W!==null;){var l=W,o=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||js;if(!i){var d=l.alternate,f=d!==null&&d.memoizedState!==null||qe;d=js;var k=qe;if(js=i,(qe=f)&&!k)for(W=l;W!==null;)i=W,f=i.child,i.tag===22&&i.memoizedState!==null?wu(l):f!==null?(f.return=i,W=f):wu(l);for(;o!==null;)W=o,ju(o),o=o.sibling;W=l,js=d,qe=k}Nu(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,W=o):Nu(e)}}function Nu(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:qe||Ns(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!qe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ba(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ba(t,i,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var P=k.memoizedState;if(P!==null){var _=P.dehydrated;_!==null&&Zr(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}qe||t.flags&512&&xo(t)}catch(E){Te(t,t.return,E)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function bu(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function wu(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ns(4,t)}catch(f){Te(t,n,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(f){Te(t,l,f)}}var o=t.return;try{xo(t)}catch(f){Te(t,o,f)}break;case 5:var i=t.return;try{xo(t)}catch(f){Te(t,i,f)}}}catch(f){Te(t,t.return,f)}if(t===e){W=null;break}var d=t.sibling;if(d!==null){d.return=t.return,W=d;break}W=t.return}}var Hc=Math.ceil,bs=ne.ReactCurrentDispatcher,vo=ne.ReactCurrentOwner,ct=ne.ReactCurrentBatchConfig,se=0,Ae=null,Pe=null,We=0,lt=0,Ar=Vt(0),_e=0,wn=null,ur=0,ws=0,jo=0,kn=null,Xe=null,No=0,Ir=1/0,Mt=null,ks=!1,bo=null,Qt=null,Ss=!1,Yt=null,Ls=0,Sn=0,wo=null,Cs=-1,Ts=0;function Ye(){return(se&6)!==0?Ee():Cs!==-1?Cs:Cs=Ee()}function Kt(e){return(e.mode&1)===0?1:(se&2)!==0&&We!==0?We&-We:Tc.transition!==null?(Ts===0&&(Ts=xi()),Ts):(e=de,e!==0||(e=window.event,e=e===void 0?16:Si(e.type)),e)}function vt(e,t,n,s){if(50<Sn)throw Sn=0,wo=null,Error(u(185));Yr(e,n,s),((se&2)===0||e!==Ae)&&(e===Ae&&((se&2)===0&&(ws|=n),_e===4&&Jt(e,We)),Ze(e,s),n===1&&se===0&&(t.mode&1)===0&&(Ir=Ee()+500,rs&&Ot()))}function Ze(e,t){var n=e.callbackNode;Td(e,t);var s=An(e,e===Ae?We:0);if(s===0)n!==null&&pi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&pi(n),t===1)e.tag===0?Cc(Su.bind(null,e)):da(Su.bind(null,e)),wc(function(){(se&6)===0&&Ot()}),n=null;else{switch(gi(s)){case 1:n=tl;break;case 4:n=fi;break;case 16:n=Mn;break;case 536870912:n=hi;break;default:n=Mn}n=Mu(n,ku.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ku(e,t){if(Cs=-1,Ts=0,(se&6)!==0)throw Error(u(327));var n=e.callbackNode;if(Fr()&&e.callbackNode!==n)return null;var s=An(e,e===Ae?We:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Es(e,s);else{t=s;var l=se;se|=2;var o=Cu();(Ae!==e||We!==t)&&(Mt=null,Ir=Ee()+500,cr(e,t));do try{Yc();break}catch(d){Lu(e,d)}while(!0);Ul(),bs.current=o,se=l,Pe!==null?t=0:(Ae=null,We=0,t=_e)}if(t!==0){if(t===2&&(l=rl(e),l!==0&&(s=l,t=ko(e,l))),t===1)throw n=wn,cr(e,0),Jt(e,s),Ze(e,Ee()),n;if(t===6)Jt(e,s);else{if(l=e.current.alternate,(s&30)===0&&!qc(l)&&(t=Es(e,s),t===2&&(o=rl(e),o!==0&&(s=o,t=ko(e,o))),t===1))throw n=wn,cr(e,0),Jt(e,s),Ze(e,Ee()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(u(345));case 2:mr(e,Xe,Mt);break;case 3:if(Jt(e,s),(s&130023424)===s&&(t=No+500-Ee(),10<t)){if(An(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ye(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=El(mr.bind(null,e,Xe,Mt),t);break}mr(e,Xe,Mt);break;case 4:if(Jt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-pt(s);o=1<<i,i=t[i],i>l&&(l=i),s&=~o}if(s=l,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Hc(s/1960))-s,10<s){e.timeoutHandle=El(mr.bind(null,e,Xe,Mt),s);break}mr(e,Xe,Mt);break;case 5:mr(e,Xe,Mt);break;default:throw Error(u(329))}}}return Ze(e,Ee()),e.callbackNode===n?ku.bind(null,e):null}function ko(e,t){var n=kn;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=Es(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&So(t)),e}function So(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function qc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],o=l.getSnapshot;l=l.value;try{if(!ft(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~jo,t&=~ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function Su(e){if((se&6)!==0)throw Error(u(327));Fr();var t=An(e,0);if((t&1)===0)return Ze(e,Ee()),null;var n=Es(e,t);if(e.tag!==0&&n===2){var s=rl(e);s!==0&&(t=s,n=ko(e,s))}if(n===1)throw n=wn,cr(e,0),Jt(e,t),Ze(e,Ee()),n;if(n===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,Xe,Mt),Ze(e,Ee()),null}function Lo(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Ir=Ee()+500,rs&&Ot())}}function dr(e){Yt!==null&&Yt.tag===0&&(se&6)===0&&Fr();var t=se;se|=1;var n=ct.transition,s=de;try{if(ct.transition=null,de=1,e)return e()}finally{de=s,ct.transition=n,se=t,(se&6)===0&&Ot()}}function Co(){lt=Ar.current,Ne(Ar)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bc(n)),Pe!==null)for(n=Pe.return;n!==null;){var s=n;switch(_l(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&es();break;case 3:zr(),Ne(Ke),Ne(Oe),Yl();break;case 5:ql(s);break;case 4:zr();break;case 13:Ne(Le);break;case 19:Ne(Le);break;case 10:Vl(s.type._context);break;case 22:case 23:Co()}n=n.return}if(Ae=e,Pe=e=Gt(e.current,null),We=lt=t,_e=0,wn=null,jo=ws=ur=0,Xe=kn=null,or!==null){for(t=0;t<or.length;t++)if(n=or[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,s.next=i}n.pending=s}or=null}return e}function Lu(e,t){do{var n=Pe;try{if(Ul(),ms.current=xs,ps){for(var s=Ce.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ps=!1}if(ar=0,Be=ze=Ce=null,gn=!1,yn=0,vo.current=null,n===null||n.return===null){_e=1,wn=t,Pe=null;break}e:{var o=e,i=n.return,d=n,f=t;if(t=We,d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var k=f,P=d,_=P.tag;if((P.mode&1)===0&&(_===0||_===11||_===15)){var E=P.alternate;E?(P.updateQueue=E.updateQueue,P.memoizedState=E.memoizedState,P.lanes=E.lanes):(P.updateQueue=null,P.memoizedState=null)}var U=Ga(i);if(U!==null){U.flags&=-257,Xa(U,i,d,o,t),U.mode&1&&Ja(o,k,t),t=U,f=k;var $=t.updateQueue;if($===null){var q=new Set;q.add(f),t.updateQueue=q}else $.add(f);break e}else{if((t&1)===0){Ja(o,k,t),To();break e}f=Error(u(426))}}else if(Se&&d.mode&1){var Re=Ga(i);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),Xa(Re,i,d,o,t),Il(_r(f,d));break e}}o=f=_r(f,d),_e!==4&&(_e=2),kn===null?kn=[o]:kn.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=Ya(o,f,t);Na(o,j);break e;case 1:d=f;var x=o.type,b=o.stateNode;if((o.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qt===null||!Qt.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var B=Ka(o,d,t);Na(o,B);break e}}o=o.return}while(o!==null)}Eu(n)}catch(Q){t=Q,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Cu(){var e=bs.current;return bs.current=xs,e===null?xs:e}function To(){(_e===0||_e===3||_e===2)&&(_e=4),Ae===null||(ur&268435455)===0&&(ws&268435455)===0||Jt(Ae,We)}function Es(e,t){var n=se;se|=2;var s=Cu();(Ae!==e||We!==t)&&(Mt=null,cr(e,t));do try{Qc();break}catch(l){Lu(e,l)}while(!0);if(Ul(),se=n,bs.current=s,Pe!==null)throw Error(u(261));return Ae=null,We=0,_e}function Qc(){for(;Pe!==null;)Tu(Pe)}function Yc(){for(;Pe!==null&&!vd();)Tu(Pe)}function Tu(e){var t=Pu(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Eu(e):Pe=t,vo.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Uc(n,t,lt),n!==null){Pe=n;return}}else{if(n=Vc(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Pe=null;return}}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);_e===0&&(_e=5)}function mr(e,t,n){var s=de,l=ct.transition;try{ct.transition=null,de=1,Kc(e,t,n,s)}finally{ct.transition=l,de=s}return null}function Kc(e,t,n,s){do Fr();while(Yt!==null);if((se&6)!==0)throw Error(u(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ed(e,o),e===Ae&&(Pe=Ae=null,We=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ss||(Ss=!0,Mu(Mn,function(){return Fr(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=ct.transition,ct.transition=null;var i=de;de=1;var d=se;se|=4,vo.current=null,Oc(e,n),vu(n,e),hc(Cl),Un=!!Ll,Cl=Ll=null,e.current=n,$c(n),jd(),se=d,de=i,ct.transition=o}else e.current=n;if(Ss&&(Ss=!1,Yt=e,Ls=l),o=e.pendingLanes,o===0&&(Qt=null),wd(n.stateNode),Ze(e,Ee()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(ks)throw ks=!1,e=bo,bo=null,e;return(Ls&1)!==0&&e.tag!==0&&Fr(),o=e.pendingLanes,(o&1)!==0?e===wo?Sn++:(Sn=0,wo=e):Sn=0,Ot(),null}function Fr(){if(Yt!==null){var e=gi(Ls),t=ct.transition,n=de;try{if(ct.transition=null,de=16>e?16:e,Yt===null)var s=!1;else{if(e=Yt,Yt=null,Ls=0,(se&6)!==0)throw Error(u(331));var l=se;for(se|=4,W=e.current;W!==null;){var o=W,i=o.child;if((W.flags&16)!==0){var d=o.deletions;if(d!==null){for(var f=0;f<d.length;f++){var k=d[f];for(W=k;W!==null;){var P=W;switch(P.tag){case 0:case 11:case 15:bn(8,P,o)}var _=P.child;if(_!==null)_.return=P,W=_;else for(;W!==null;){P=W;var E=P.sibling,U=P.return;if(fu(P),P===k){W=null;break}if(E!==null){E.return=U,W=E;break}W=U}}}var $=o.alternate;if($!==null){var q=$.child;if(q!==null){$.child=null;do{var Re=q.sibling;q.sibling=null,q=Re}while(q!==null)}}W=o}}if((o.subtreeFlags&2064)!==0&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:bn(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,W=j;break e}W=o.return}}var x=e.current;for(W=x;W!==null;){i=W;var b=i.child;if((i.subtreeFlags&2064)!==0&&b!==null)b.return=i,W=b;else e:for(i=x;W!==null;){if(d=W,(d.flags&2048)!==0)try{switch(d.tag){case 0:case 11:case 15:Ns(9,d)}}catch(Q){Te(d,d.return,Q)}if(d===i){W=null;break e}var B=d.sibling;if(B!==null){B.return=d.return,W=B;break e}W=d.return}}if(se=l,Ot(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(zn,e)}catch{}s=!0}return s}finally{de=n,ct.transition=t}}return!1}function Ru(e,t,n){t=_r(n,t),t=Ya(e,t,1),e=Ht(e,t,1),t=Ye(),e!==null&&(Yr(e,1,t),Ze(e,t))}function Te(e,t,n){if(e.tag===3)Ru(e,e,n);else for(;t!==null;){if(t.tag===3){Ru(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qt===null||!Qt.has(s))){e=_r(n,e),e=Ka(t,e,1),t=Ht(t,e,1),e=Ye(),t!==null&&(Yr(t,1,e),Ze(t,e));break}}t=t.return}}function Jc(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(We&n)===n&&(_e===4||_e===3&&(We&130023424)===We&&500>Ee()-No?cr(e,0):jo|=n),Ze(e,t)}function Du(e,t){t===0&&((e.mode&1)===0?t=1:(t=Bn,Bn<<=1,(Bn&130023424)===0&&(Bn=4194304)));var n=Ye();e=Rt(e,t),e!==null&&(Yr(e,t,n),Ze(e,n))}function Gc(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Du(e,n)}function Xc(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(u(314))}s!==null&&s.delete(t),Du(e,n)}var Pu;Pu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Ge=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ge=!1,Fc(e,t,n);Ge=(e.flags&131072)!==0}else Ge=!1,Se&&(t.flags&1048576)!==0&&ca(t,ss,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;vs(e,t),e=t.pendingProps;var l=Cr(t,Oe.current);Mr(t,n),l=Gl(null,t,s,e,l,n);var o=Xl();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(s)?(o=!0,ts(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,$l(t),l.updater=gs,t.stateNode=l,l._reactInternals=t,so(t,s,e,n),t=ao(null,t,s,!0,o,n)):(t.tag=0,Se&&o&&zl(t),Qe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(vs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=e0(s),e=xt(s,e),l){case 0:t=io(null,t,s,e,n);break e;case 1:t=su(null,t,s,e,n);break e;case 11:t=Za(null,t,s,e,n);break e;case 14:t=eu(null,t,s,xt(s.type,e),n);break e}throw Error(u(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),io(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),su(e,t,s,l,n);case 3:e:{if(lu(t),e===null)throw Error(u(387));s=t.pendingProps,o=t.memoizedState,l=o.element,ja(e,t),ds(t,s,null,n);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=_r(Error(u(423)),t),t=ou(e,t,s,n,l);break e}else if(s!==l){l=_r(Error(u(424)),t),t=ou(e,t,s,n,l);break e}else for(st=Ut(t.stateNode.containerInfo.firstChild),nt=t,Se=!0,ht=null,n=ya(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),s===l){t=Pt(e,t,n);break e}Qe(e,t,s,n)}t=t.child}return t;case 5:return wa(t),e===null&&Al(t),s=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,Tl(s,l)?i=null:o!==null&&Tl(s,o)&&(t.flags|=32),nu(e,t),Qe(e,t,i,n),t.child;case 6:return e===null&&Al(t),null;case 13:return iu(e,t,n);case 4:return Hl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Dr(t,null,s,n):Qe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),Za(e,t,s,l,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,ye(is,s._currentValue),s._currentValue=i,o!==null)if(ft(o.value,i)){if(o.children===l.children&&!Ke.current){t=Pt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){i=o.child;for(var f=d.firstContext;f!==null;){if(f.context===s){if(o.tag===1){f=Dt(-1,n&-n),f.tag=2;var k=o.updateQueue;if(k!==null){k=k.shared;var P=k.pending;P===null?f.next=f:(f.next=P.next,P.next=f),k.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),Wl(o.return,n,t),d.lanes|=n;break}f=f.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(u(341));i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Wl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Mr(t,n),l=ut(l),s=s(l),t.flags|=1,Qe(e,t,s,n),t.child;case 14:return s=t.type,l=xt(s,t.pendingProps),l=xt(s.type,l),eu(e,t,s,l,n);case 15:return tu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),vs(e,t),t.tag=1,Je(s)?(e=!0,ts(t)):e=!1,Mr(t,n),qa(t,s,l),so(t,s,l,n),ao(null,t,s,!0,e,n);case 19:return uu(e,t,n);case 22:return ru(e,t,n)}throw Error(u(156,t.tag))};function Mu(e,t){return mi(e,t)}function Zc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new Zc(e,t,n,s)}function Eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e0(e){if(typeof e=="function")return Eo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===ae)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,s,l,o){var i=2;if(s=e,typeof e=="function")Eo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Me:return pr(n.children,l,o,t);case Ue:i=8,l|=8;break;case ot:return e=mt(12,n,t,l|2),e.elementType=ot,e.lanes=o,e;case xe:return e=mt(13,n,t,l),e.elementType=xe,e.lanes=o,e;case pe:return e=mt(19,n,t,l),e.elementType=pe,e.lanes=o,e;case me:return Ds(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case De:i=10;break e;case X:i=9;break e;case J:i=11;break e;case ae:i=14;break e;case ce:i=16,s=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=mt(i,n,t,l),t.elementType=e,t.type=s,t.lanes=o,t}function pr(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function Ds(e,t,n,s){return e=mt(22,e,s,t),e.elementType=me,e.lanes=n,e.stateNode={isHidden:!1},e}function Ro(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Do(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t0(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Po(e,t,n,s,l,o,i,d,f){return e=new t0(e,t,n,d,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(o),e}function r0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function zu(e){if(!e)return Wt;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var n=e.type;if(Je(n))return aa(e,n,t)}return t}function _u(e,t,n,s,l,o,i,d,f){return e=Po(n,s,!0,e,l,o,i,d,f),e.context=zu(null),n=e.current,s=Ye(),l=Kt(n),o=Dt(s,l),o.callback=t??null,Ht(n,o,l),e.current.lanes=l,Yr(e,l,s),Ze(e,s),e}function Ps(e,t,n,s){var l=t.current,o=Ye(),i=Kt(l);return n=zu(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ht(l,t,i),e!==null&&(vt(e,l,i,o),us(e,l,i)),i}function Ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mo(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function n0(){return null}var Au=typeof reportError=="function"?reportError:function(e){console.error(e)};function zo(e){this._internalRoot=e}zs.prototype.render=zo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));Ps(e,t,null,null)},zs.prototype.unmount=zo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Ps(null,e,null,null)}),t[Lt]=null}};function zs(e){this._internalRoot=e}zs.prototype.unstable_scheduleHydration=function(e){if(e){var t=ji();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&wi(e)}};function _o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iu(){}function s0(e,t,n,s,l){if(l){if(typeof s=="function"){var o=s;s=function(){var k=Ms(i);o.call(k)}}var i=_u(t,s,e,0,null,!1,!1,"",Iu);return e._reactRootContainer=i,e[Lt]=i.current,un(e.nodeType===8?e.parentNode:e),dr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var d=s;s=function(){var k=Ms(f);d.call(k)}}var f=Po(e,0,!1,null,null,!1,!1,"",Iu);return e._reactRootContainer=f,e[Lt]=f.current,un(e.nodeType===8?e.parentNode:e),dr(function(){Ps(t,f,n,s)}),f}function Bs(e,t,n,s,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var d=l;l=function(){var f=Ms(i);d.call(f)}}Ps(t,i,e,l)}else i=s0(n,t,e,l,s);return Ms(i)}yi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(sl(t,n|1),Ze(t,Ee()),(se&6)===0&&(Ir=Ee()+500,Ot()))}break;case 13:dr(function(){var s=Rt(e,1);if(s!==null){var l=Ye();vt(s,e,1,l)}}),Mo(e,1)}},ll=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Ye();vt(t,e,134217728,n)}Mo(e,134217728)}},vi=function(e){if(e.tag===13){var t=Kt(e),n=Rt(e,t);if(n!==null){var s=Ye();vt(n,e,t,s)}Mo(e,t)}},ji=function(){return de},Ni=function(e,t){var n=de;try{return de=e,t()}finally{de=n}},Gs=function(e,t,n){switch(t){case"input":if(Os(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Zn(s);if(!l)throw Error(u(90));Ho(s),Os(s,l)}}}break;case"textarea":Jo(e,n);break;case"select":t=n.value,t!=null&&hr(e,!!n.multiple,t,!1)}},li=Lo,oi=dr;var l0={usingClientEntryPoint:!1,Events:[mn,Sr,Zn,ni,si,Lo]},Ln={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o0={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=di(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{zn=As.inject(o0),jt=As}catch{}}return et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0,et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_o(t))throw Error(u(200));return r0(e,t,null,n)},et.createRoot=function(e,t){if(!_o(e))throw Error(u(299));var n=!1,s="",l=Au;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Po(e,1,!1,null,null,n,!1,s,l),e[Lt]=t.current,un(e.nodeType===8?e.parentNode:e),new zo(t)},et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=di(t),e=e===null?null:e.stateNode,e},et.flushSync=function(e){return dr(e)},et.hydrate=function(e,t,n){if(!_s(t))throw Error(u(200));return Bs(null,e,t,!0,n)},et.hydrateRoot=function(e,t,n){if(!_o(e))throw Error(u(405));var s=n!=null&&n.hydratedSources||null,l=!1,o="",i=Au;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=_u(t,null,e,1,n??null,l,!1,o,i),e[Lt]=t.current,un(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new zs(t)},et.render=function(e,t,n){if(!_s(t))throw Error(u(200));return Bs(null,e,t,!1,n)},et.unmountComponentAtNode=function(e){if(!_s(e))throw Error(u(40));return e._reactRootContainer?(dr(function(){Bs(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1},et.unstable_batchedUpdates=Lo,et.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!_s(n))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return Bs(e,t,n,!1,s)},et.version="18.3.1-next-f1338f8080-20240426",et}var qu;function sd(){if(qu)return Io.exports;qu=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(c){console.error(c)}}return a(),Io.exports=f0(),Io.exports}var Qu;function h0(){if(Qu)return Is;Qu=1;var a=sd();return Is.createRoot=a.createRoot,Is.hydrateRoot=a.hydrateRoot,Is}var x0=h0();const g0=nd(x0);function ld(a,c=!0){const u=a.length,h=new Array(u).fill(0);let m=0;for(let g=u-1;g>=0;g--){const p=a[g],w=p.supplyAssets+(c?p.pendingInterest:0);m+=w,h[g]=m}return h}function od(a){const c=a.length,u=new Array(c).fill(0);let h=0;for(let m=c-1;m>=0;m--)h+=a[m].borrowAssets,u[m]=h;return u}function id(a,c){return a.map((u,h)=>Math.max(0,u-c[h]))}function y0(a){const c=a.length,u=new Array(c).fill(0),h=[];let m=1/0,g=[];for(let p=0;p<c;p++)a[p]<m?(m=a[p],g=[p]):a[p]===m&&g.push(p),u[p]=m;return m<1/0&&m>=0?(h.push(...g.filter(p=>p===g[0])),{freeSupply:u,bindingIndices:[g[0]]}):{freeSupply:u,bindingIndices:h}}function ad(a,c){return a.map((u,h)=>u+c[h].borrowAssets)}function v0(a,c,u=!0){return a.map((h,m)=>c[m]===0?null:(h.supplyAssets+(u?h.pendingInterest:0))/c[m])}function j0(a,c){return a.map((u,h)=>u===0?null:(u-c[h])/u)}function N0(a,c,u=!0){const h=a.length,m=new Array(h).fill(null),g=new Array(h).fill(0);let p=0;for(let w=0;w<h;w++){const S=a[w].borrowAssets*a[w].borrowRate,y=p+S,N=c[w]??1,L=y*N;g[w]=L,p=y*(1-N)}for(let w=0;w<h;w++){const S=a[w].supplyAssets+(u?a[w].pendingInterest:0);S===0?m[w]=null:m[w]=g[w]/S}return m}function b0(a,c=!0){const u=ld(a,c),h=od(a),m=id(u,h),{freeSupply:g,bindingIndices:p}=y0(m),w=ad(m,a),S=v0(a,w,c),y=j0(u,g),N=N0(a,S,c),L=new Set(p);return a.map((M,z)=>({...M,jrSupply:u[z],jrBorrow:h[z],jrNetSupply:m[z],freeSupply:g[z],availableSupply:w[z],isBindingConstraint:L.has(z),supplyUtilization:S[z],borrowUtilization:y[z],supplyRate:N[z]}))}function ve(a,c=2){return a===null||!Number.isFinite(a)?"-":a.toLocaleString(void 0,{minimumFractionDigits:c,maximumFractionDigits:c})}function we(a,c=2){return a===null||!Number.isFinite(a)?"-":(a*100).toFixed(c)+"%"}function w0(a){switch(a){case"1week":return 1/52;case"1month":return 1/12;case"3months":return 3/12;case"1year":return 1}}function Yu(a){switch(a){case"1week":return"1 Week";case"1month":return"1 Month";case"3months":return"3 Months";case"1year":return"1 Year"}}function k0(a,c){const u=w0(c),h=a.length,m=a.map(y=>y.borrowAssets*y.borrowRate*u),g=new Array(h).fill(0),p=new Array(h).fill(0);let w=0;for(let y=0;y<h;y++){const N=w+m[y],L=a[y].supplyUtilization??1;g[y]=N*L,p[y]=N*(1-L),w=p[y]}const S=a.map((y,N)=>{const L=y.supplyAssets;return{index:N,lltv:y.lltv,interestGenerated:m[N],interestReceived:g[N],interestCascaded:p[N],netPosition:g[N]-m[N],impliedSupplyRate:L>0?g[N]/L/u:null}});return{timePeriod:c,timeInYears:u,tranches:S,totalInterestGenerated:m.reduce((y,N)=>y+N,0),totalInterestReceived:g.reduce((y,N)=>y+N,0)}}function S0(a,c,u){const h=a.length;let m;typeof c=="number"?m=[{trancheIndex:c,amount:0}]:m=c;const g=new Array(h).fill(0);for(const N of m)N.trancheIndex>=0&&N.trancheIndex<h&&(g[N.trancheIndex]+=N.amount);const p=m.reduce((N,L)=>N+L.amount,0),w=a.map((N,L)=>({index:L,lltv:N.lltv,originalSupply:N.supplyAssets,supplyUtilization:N.supplyUtilization??1,badDebtCascadedIn:0,badDebtLocal:g[L],badDebtAbsorbed:0,badDebtCascadedOut:0,remainingSupply:N.supplyAssets,wipedOut:!1}));let S=0;for(let N=0;N<h;N++){const L=w[N];L.badDebtCascadedIn=S;const M=S+L.badDebtLocal,z=N===h-1?1:a[N].supplyUtilization??1;L.supplyUtilization=z;const R=Math.min(M*z,L.originalSupply);L.badDebtAbsorbed=R,L.remainingSupply=L.originalSupply-R,L.wipedOut=L.remainingSupply===0&&R>0,L.badDebtCascadedOut=M*(1-z),S=L.badDebtCascadedOut}const y=w.reduce((N,L)=>N+L.badDebtAbsorbed,0);return{badDebtEvents:m,totalBadDebt:p,tranches:w,totalAbsorbed:y,unabsorbedBadDebt:p-y}}const L0=[75,80,85,90,95],C0=[{supplyAssets:2500,borrowAssets:2e3,pendingInterest:0,borrowRate:.005},{supplyAssets:2500,borrowAssets:2200,pendingInterest:0,borrowRate:.01},{supplyAssets:1e3,borrowAssets:2e3,pendingInterest:0,borrowRate:.03},{supplyAssets:2e3,borrowAssets:1600,pendingInterest:0,borrowRate:.06},{supplyAssets:2e3,borrowAssets:1200,pendingInterest:0,borrowRate:.14}];function T0(){return C0.map((a,c)=>({...a,id:c,lltv:L0[c]}))}const E0=[{id:"intro",label:"Introduction",icon:"1",description:"What is Lotus Protocol?"},{id:"vaults",label:"Vaults",icon:"2",description:"Aggregated yield strategies"},{id:"lotususd",label:"LotusUSD",icon:"3",description:"Treasury backing & base rate"},{id:"productive-debt",label:"Productive Debt",icon:"4",description:"Spread compression & benefits"},{id:"tranches",label:"Tranches & Liquidity",icon:"5",description:"Connected liquidity model"},{id:"interest-cascade",label:"Interest Cascade",icon:"6",description:"How interest flows"},{id:"liquidations",label:"Liquidations",icon:"7",description:"Liquidation mechanics"},{id:"advanced",label:"Advanced Tools",icon:"8",description:"Bad debt, comparisons & more"}];function R0({activeSection:a,onSectionChange:c,visitedSections:u}){const[h,m]=V.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>m(!h),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-lotus-grey-800 border border-lotus-grey-700 rounded-lg text-lotus-grey-100 hover:bg-lotus-grey-700 transition-colors","aria-label":h?"Open navigation":"Close navigation",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("aside",{className:`fixed left-0 top-0 h-full bg-lotus-grey-800 border-r border-lotus-grey-700 z-40 transition-transform duration-300 ${h?"-translate-x-full lg:translate-x-0":"translate-x-0"} w-72 lg:w-64`,children:[r.jsx("div",{className:"p-6 border-b border-lotus-grey-700",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lotus-grey-100 font-medium",children:"Lotus Protocol"}),r.jsx("p",{className:"text-xs text-lotus-grey-300",children:"Interactive Docs"})]})]})}),r.jsx("nav",{className:"p-4 overflow-y-auto h-[calc(100%-120px)]",children:r.jsx("div",{className:"space-y-1",children:E0.map(g=>{const p=a===g.id,w=u.has(g.id);return r.jsx("button",{onClick:()=>{c(g.id),m(!0)},className:`w-full text-left px-3 py-3 rounded-lg transition-all group ${p?"bg-lotus-purple-900/50 border border-lotus-purple-500":"hover:bg-lotus-grey-700 border border-transparent"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium flex-shrink-0 ${p?"bg-lotus-purple-500 text-white":w?"bg-lotus-purple-800 text-lotus-purple-300":"bg-lotus-grey-700 text-lotus-grey-300"}`,children:w&&!p?r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}):g.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`text-sm font-medium truncate ${p?"text-lotus-purple-300":"text-lotus-grey-200 group-hover:text-lotus-grey-100"}`,children:g.label}),r.jsx("div",{className:"text-xs text-lotus-grey-300 truncate mt-0.5",children:g.description})]})]})},g.id)})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-lotus-grey-700 bg-lotus-grey-800",children:r.jsxs("a",{href:"https://docs.lotus.finance",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-lotus-grey-300 hover:text-lotus-purple-400 transition-colors",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View full documentation"]})})]}),!h&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>m(!0)})]})}function D0({number:a,title:c,headline:u,subtitle:h,learningPoints:m,transitionText:g,nextSection:p,onNavigate:w,children:S}){return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"border-b border-lotus-grey-700 pb-6",children:[r.jsx("div",{className:"flex items-center gap-3 mb-3",children:r.jsxs("span",{className:"text-sm font-medium text-lotus-purple-400 bg-lotus-purple-900/30 px-3 py-1 rounded-full",children:["Section ",a,"  ",c]})}),r.jsx("h1",{className:"text-3xl font-bold text-lotus-grey-100 mb-2",children:u}),r.jsx("p",{className:"text-lg text-lotus-grey-300",children:h})]}),r.jsxs("div",{className:"bg-lotus-grey-800/50 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-3",children:"What you'll learn:"}),r.jsx("ul",{className:"space-y-2",children:m.map((y,N)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm text-lotus-grey-300",children:[r.jsx("svg",{className:"w-4 h-4 text-lotus-purple-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),y]},N))})]}),S,p&&r.jsxs("div",{className:"border-t border-lotus-grey-700 pt-6 mt-8",children:[g&&r.jsx("p",{className:"text-lotus-grey-300 italic mb-4",children:g}),r.jsxs("button",{onClick:()=>w(p.id),className:"group flex items-center gap-2 text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors",children:[r.jsxs("span",{children:["Next: ",p.label]}),r.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}const Fs=[{title:"Navigation",description:"Use the sidebar to navigate between sections. Each section builds on the previous one."},{title:"Interactive Elements",description:"Adjust sliders and inputs to see how changes affect the protocol mechanics in real-time."},{title:"Learning Points",description:"Each section starts with key concepts you'll learn. Use these to track your progress."}];function P0({onComplete:a}){const[c,u]=V.useState(0),h=()=>{c<Fs.length-1?u(c+1):a()},m=()=>{a()},g=Fs[c];return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-lotus-grey-800 rounded-xl p-6 max-w-sm mx-4 border border-lotus-grey-700 shadow-2xl",children:[r.jsx("div",{className:"flex gap-1 mb-4",children:Fs.map((p,w)=>r.jsx("div",{className:`h-1 flex-1 rounded-full ${w<=c?"bg-lotus-purple-500":"bg-lotus-grey-600"}`},w))}),r.jsx("h3",{className:"text-lg font-semibold text-lotus-grey-100 mb-2",children:g.title}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-6",children:g.description}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:m,className:"flex-1 py-2 px-4 text-lotus-grey-300 hover:text-lotus-grey-300 text-sm transition-colors",children:"Skip Tour"}),r.jsx("button",{onClick:h,className:"flex-1 py-2 px-4 bg-lotus-purple-600 hover:bg-lotus-purple-500 text-white text-sm font-medium rounded-lg transition-colors",children:c<Fs.length-1?"Next":"Get Started"})]})]})})}function M0({onStartTour:a,onSkip:c}){return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-lotus-grey-800 rounded-xl p-8 max-w-md mx-4 border border-lotus-grey-700 shadow-2xl",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-lotus-purple-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),r.jsx("h2",{className:"text-2xl font-bold text-lotus-grey-100 mb-2",children:"Welcome to Lotus Protocol"}),r.jsx("p",{className:"text-lotus-grey-300",children:"Learn how tranches, connected liquidity, and productive debt work together."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:a,className:"w-full py-3 px-4 bg-lotus-purple-600 hover:bg-lotus-purple-500 text-white font-medium rounded-lg transition-colors",children:"Take the Guided Tour"}),r.jsx("button",{onClick:c,className:"w-full py-3 px-4 bg-lotus-grey-700 hover:bg-lotus-grey-600 text-lotus-grey-300 font-medium rounded-lg transition-colors",children:"Skip and Explore"})]})]})})}function ud(){return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-900/50 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h4",{className:"font-medium text-emerald-300",children:"Lenders"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-200 mb-2",children:[r.jsx("span",{className:"px-2 py-0.5 bg-emerald-900/50 rounded text-xs font-mono",children:"USDC"}),r.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),r.jsx("span",{className:"text-emerald-300",children:"Deposit & earn yield"})]}),r.jsx("div",{className:"text-xs text-emerald-400",children:"Choose tranche based on desired risk/yield balance."})]}),r.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-900/50 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),r.jsx("h4",{className:"font-medium text-blue-300",children:"Borrowers"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-200 mb-2",children:[r.jsx("span",{className:"text-blue-300",children:"Borrow"}),r.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),r.jsx("span",{className:"px-2 py-0.5 bg-blue-900/50 rounded text-xs font-mono",children:"USDC"})]}),r.jsx("div",{className:"text-xs text-blue-400",children:"Choose tranche based on desired leverage level."})]})]}),r.jsx("div",{className:"bg-lotus-grey-700/50 rounded-lg p-3 border border-lotus-grey-600",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-lotus-purple-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("p",{className:"text-xs text-lotus-grey-300",children:[r.jsx("span",{className:"text-lotus-grey-300 font-medium",children:"USDC auto-conversion:"})," When you deposit or withdraw, USDC is automatically converted to/from LotusUSD by the protocol. You always interact with USDC."]})]})})]})}const z0={lltv:{term:"LLTV",shortDef:"Loan-to-Liquidation-Value  the maximum percentage you can borrow against your collateral before liquidation.",fullDef:"LLTV determines when a position becomes liquidatable. An 80% LLTV means if you deposit $10,000 collateral, you can borrow up to $8,000 before risking liquidation. Higher LLTVs offer more leverage but leave less buffer before liquidation.",formula:"LLTV = Max Borrow / Collateral Value",example:"At 80% LLTV with $10,000 collateral: max borrow = $8,000, liquidation buffer = 20%",related:["health-factor","liquidation","tranche-seniority"]},"health-factor":{term:"Health Factor",shortDef:"A measure of position safety. Above 1 = safe, below 1 = liquidatable.",fullDef:"Health Factor compares your current loan-to-value against the tranche's LLTV limit. A health factor of 1.5 means your collateral could drop 33% before liquidation. Below 1.0, your position can be liquidated.",formula:"Health Factor = LLTV / Current LTV",example:"Current LTV 60%, LLTV 80%  Health Factor = 0.80/0.60 = 1.33 (safe)",related:["lltv","liquidation"]},"tranche-seniority":{term:"Tranche Seniority",shortDef:"Senior tranches (lower LLTV) are safer and earn less. Junior tranches (higher LLTV) earn more but absorb losses first.",fullDef:"Think of tranches like floors in a building during a flood. Senior tranches are higher floors  water (losses) reaches them last. Junior tranches are ground floor  they absorb losses first, but earn higher yields to compensate for this risk.",example:"75% LLTV = senior (safer, ~4% yield), 95% LLTV = junior (riskier, ~8% yield)",related:["lltv","cascade","bad-debt"]},liquidation:{term:"Liquidation",shortDef:"When your collateral is seized and sold to repay your debt because your position became too risky.",fullDef:"Liquidation protects lenders by ensuring debt is repaid before collateral value falls too far. When your LTV exceeds the tranche's LLTV, liquidators can repay your debt and receive your collateral at a discount. You lose your collateral but your debt is cleared.",example:"If collateral drops from $10,000 to $8,500 and you borrowed $8,000 at 95% LLTV, liquidators can seize your collateral.",related:["lltv","health-factor","bad-debt"]},"bad-debt":{term:"Bad Debt",shortDef:"Debt that cannot be fully recovered from liquidation  the shortfall is absorbed by lenders.",fullDef:"Bad debt occurs when collateral value drops so fast that even after liquidation, there's not enough to cover the debt. This shortfall cascades through tranches from senior to junior, with junior tranches absorbing whatever senior tranches couldn't.",example:"Borrower owes $10,000, collateral liquidates for $9,000  $1,000 bad debt absorbed by tranches",related:["liquidation","cascade","tranche-seniority"]},cascade:{term:"Cascade",shortDef:"How interest and bad debt flow through tranches  from senior to junior.",fullDef:"The cascade mechanism distributes interest and absorbs bad debt proportionally based on supply utilization at each tranche level. Interest generated at each level cascades down to more junior tranches. Bad debt follows the same path, being absorbed proportionally at each level.",formula:"Absorbed = (Local Interest + Cascaded In)  Supply Utilization",related:["tranche-seniority","supply-utilization"]},"supply-utilization":{term:"Supply Utilization",shortDef:"The percentage of lender deposits that are currently being borrowed.",fullDef:"Supply utilization determines how much of each tranche's supply is actually being used. Higher utilization means more of your deposit is earning the full borrow rate. Lower utilization means more is earning only the productive debt base rate.",formula:"Supply Utilization = Borrowed Amount / Available Supply",example:"If $8M is borrowed from $10M supplied, utilization = 80%",related:["supply-rate","cascade"]},spread:{term:"Spread",shortDef:"The gap between what borrowers pay and what lenders earn  protocol overhead.",fullDef:`In traditional lending, the spread is "lost" value  borrowers pay more than lenders receive. Lotus's productive debt mechanism compresses this spread by ensuring idle supply earns treasury yields, reducing the gap between borrow and supply rates.`,formula:"Spread = Borrow Rate - Supply Rate",example:"Borrowers pay 8%, lenders earn 6%  spread = 2%",related:["supply-rate","borrow-rate","productive-debt"]},"productive-debt":{term:"Productive Debt",shortDef:"Yield earned by idle supply from treasury-backed assets, even when not being borrowed.",fullDef:"Unlike traditional lending where unborrowed funds earn nothing, Lotus backs its stablecoin with US Treasuries. This treasury yield flows to all lenders as a base rate, meaning your deposits earn yield even when utilization is low.",formula:"Productive Debt Rate = Treasury Rate  Treasury Allocation",example:"Treasury rate 4%, allocation 80%  base rate = 3.2% for all lenders",related:["lotususd","spread","supply-rate"]},"connected-liquidity":{term:"Connected Liquidity",shortDef:"Liquidity shared across tranches, unlike isolated pools where each market is separate.",fullDef:"In isolated lending pools, each market has its own liquidity that can't be shared. Lotus connects tranches so unused junior supply can support senior borrowers, and interest flows back down. This creates deeper markets and more efficient rates.",example:"Unused 95% LLTV supply cascades up to support 75% LLTV borrowers if needed",related:["cascade","tranche-seniority"]},"vault-manager":{term:"Vault Manager",shortDef:"A strategist who allocates vault deposits across tranches to optimize risk and yield.",fullDef:"Vault managers make allocation decisions so depositors don't need to actively manage positions. They monitor market conditions, rebalance across tranches, and follow the vault's risk parameters. Depositors simply deposit and earn the blended yield.",example:'A "Balanced" vault manager might allocate 30% to senior, 40% to mid, 30% to junior tranches',related:["tranche-seniority"]},lotususd:{term:"LotusUSD",shortDef:"Lotus's stablecoin, backed by USDC and US Treasuries.",fullDef:"LotusUSD is the loan token used in Lotus Protocol. It's backed by a mix of USDC (for instant redemptions) and US Treasury bills (for yield generation). The treasury portion generates the productive debt base rate that benefits all lenders.",example:"80% treasury allocation + 4% treasury rate = 3.2% base rate for all supply",related:["productive-debt"]},"supply-rate":{term:"Supply Rate",shortDef:"The yield lenders earn on their deposits.",fullDef:"Supply rate combines the productive debt base rate (from treasury yields) plus a share of borrow interest based on utilization. Higher utilization means more of your deposit earns the full borrow rate.",formula:"Supply Rate = Productive Debt Rate + (Spread  Utilization)",related:["borrow-rate","productive-debt","spread"]},"borrow-rate":{term:"Borrow Rate",shortDef:"The interest rate borrowers pay on their loans.",fullDef:"Borrow rate is determined by the Interest Rate Model (IRM) based on utilization. In Lotus, the borrow rate builds on top of the productive debt base rate, with the spread adjusting based on demand.",formula:"Borrow Rate = Productive Debt Rate + Spread",related:["supply-rate","productive-debt","spread"]},collateral:{term:"Collateral",shortDef:"Assets you deposit to secure a loan  seized if you can't repay.",fullDef:"Collateral is your security deposit when borrowing. You deposit valuable assets (like wstETH) and can borrow against a percentage of their value. If your collateral value drops too much relative to your debt, it can be liquidated.",example:"Deposit $10,000 wstETH as collateral to borrow up to $8,000 LotusUSD at 80% LLTV",related:["lltv","liquidation"]},leverage:{term:"Leverage",shortDef:"Borrowing to amplify your position  higher LLTV = more leverage.",fullDef:"Leverage lets you control a larger position than your capital alone would allow. At 80% LLTV, you can achieve 5x leverage (1 / (1 - 0.80) = 5). Higher leverage amplifies both gains and losses.",formula:"Max Leverage = 1 / (1 - LLTV)",example:"75% LLTV = 4x max leverage, 95% LLTV = 20x max leverage",related:["lltv","liquidation"]}};function dd(a){return z0[a]}function fr({concepts:a,defaultExpanded:c=!1}){const[u,h]=V.useState(c),m=a.map(g=>dd(g)).filter(g=>g!==void 0);return m.length===0?null:r.jsxs("div",{className:"bg-lotus-grey-800/50 rounded-lg border border-lotus-grey-700 overflow-hidden",children:[r.jsxs("button",{onClick:()=>h(!u),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-lotus-grey-800/80 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("span",{className:"text-sm font-medium text-lotus-grey-300",children:["Key Concepts (",m.length,")"]})]}),r.jsx("svg",{className:`w-4 h-4 text-lotus-grey-300 transition-transform ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&r.jsx("div",{className:"px-4 pb-4 space-y-3",children:m.map(g=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-lotus-purple-400 mt-2 flex-shrink-0"}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm font-medium text-lotus-purple-300",children:[g.term,":"]})," ",r.jsx("span",{className:"text-sm text-lotus-grey-300",children:g.shortDef})]})]},g.term))})]})}var cd=sd();function Fe({term:a,children:c}){const[u,h]=V.useState(!1),[m,g]=V.useState(!1),[p,w]=V.useState({top:0,left:0}),S=V.useRef(null),y=V.useRef(null),N=dd(a);if(V.useEffect(()=>{if(u&&S.current){const z=S.current.getBoundingClientRect(),R=z.top<200;w({top:R?z.bottom+8:z.top-8,left:Math.min(z.left+z.width/2,window.innerWidth-180)})}},[u]),V.useEffect(()=>{if(!u)return;const z=R=>{S.current&&!S.current.contains(R.target)&&y.current&&!y.current.contains(R.target)&&(h(!1),g(!1))};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[u]),!N)return r.jsx("span",{children:c});const L=z=>{z.preventDefault(),h(!u)},M=u&&r.jsxs("div",{ref:y,className:"fixed z-[9999] px-4 py-3 text-sm bg-lotus-grey-900 text-white rounded-lg shadow-xl border border-lotus-grey-700",style:{top:p.top,left:p.left,transform:p.top<200?"translateX(-50%)":"translate(-50%, -100%)",maxWidth:"320px",width:"max-content"},children:[r.jsx("div",{className:"font-medium text-lotus-purple-300 mb-1",children:N.term}),r.jsx("p",{className:"text-lotus-grey-300 text-xs leading-relaxed",children:N.shortDef}),m&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-lotus-grey-700",children:[r.jsx("p",{className:"text-lotus-grey-300 text-xs leading-relaxed mb-2",children:N.fullDef}),N.formula&&r.jsx("code",{className:"block text-xs font-mono text-lotus-purple-400 bg-lotus-grey-800 px-2 py-1 rounded mt-2",children:N.formula}),N.example&&r.jsxs("p",{className:"text-xs text-lotus-grey-300 mt-2 italic",children:["Example: ",N.example]})]}),!m&&N.fullDef!==N.shortDef&&r.jsx("button",{onClick:()=>g(!0),className:"mt-2 text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors",children:"Learn more..."}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-8 border-transparent",style:p.top<200?{bottom:"100%",borderBottomColor:"#1a1625"}:{top:"100%",borderTopColor:"#1a1625"}})]});return r.jsxs(r.Fragment,{children:[r.jsx("span",{ref:S,className:"border-b border-dotted border-lotus-grey-500 hover:border-lotus-purple-400 cursor-help transition-colors",onMouseEnter:()=>h(!0),onMouseLeave:()=>{m||h(!1)},onClick:L,children:c}),typeof document<"u"&&cd.createPortal(M,document.body)]})}function _0({onNavigate:a}){return r.jsxs("div",{className:"space-y-8",children:[r.jsx(fr,{concepts:["connected-liquidity","productive-debt","tranche-seniority"]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Two Ways to Participate"}),r.jsx(ud,{})]}),r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-6 border border-lotus-purple-700/50",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"The Lotus Difference"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:r.jsx(Fe,{term:"connected-liquidity",children:"Connected Liquidity"})}),r.jsx("span",{className:"text-lotus-grey-300",children:"  Unlike isolated pools, liquidity flows between tranches creating deeper markets and more efficient rates."})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:r.jsx(Fe,{term:"productive-debt",children:"Productive Debt"})}),r.jsxs("span",{className:"text-lotus-grey-300",children:["  Idle liquidity earns yield from treasury-backed assets, compressing ",r.jsx(Fe,{term:"spread",children:"spreads"})," and reducing rate volatility."]})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:"Risk-Tiered Tranches"}),r.jsxs("span",{className:"text-lotus-grey-300",children:["  Choose your risk exposure. ",r.jsx(Fe,{term:"tranche-seniority",children:"Senior tranches"})," offer safety, junior tranches offer higher yields."]})]})]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-2",children:"Ready to explore?"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Start with Vaults to see how deposits are aggregated and allocated across tranches."}),r.jsxs("button",{onClick:()=>a("vaults"),className:"inline-flex items-center gap-2 px-6 py-3 bg-lotus-purple-600 hover:bg-lotus-purple-500 text-white font-medium rounded-lg transition-colors",children:[r.jsx("span",{children:"Start with Vaults"}),r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}const Ur=.9,Ku=.25,B0=4;function A0(a){return a<=Ur?Ku+(1-Ku)*(a/Ur):1+(B0-1)*((a-Ur)/(1-Ur))}function I0(a){const{targetBorrowRate90:c,baseRate:u,utilization:h}=a,m=Math.max(c-u,0),g=A0(h),p=m*g,w=u+p,S=c*g,y=u+p*h,N=S*h,L=c,M=u+m*Ur,z=c*Ur;let R=null,A=null,T=null,C=null;return c>0&&(R=(w-c)/c,A=(S-c)/c),M>0&&(T=(y-M)/M),z>0&&(C=(N-z)/z),{spread90:m,spreadAtU:p,borrowRatePD:w,borrowRateNoPD:S,supplyRatePD:y,supplyRateNoPD:N,targetBorrow90:L,targetSupplyPD90:M,targetSupplyNoPD90:z,borrowDeviationPD:R,borrowDeviationNoPD:A,supplyDeviationPD:T,supplyDeviationNoPD:C,spreadIsZero:m===0}}function F0(a,c,u=100){const h=[];for(let m=0;m<=u;m++){const g=m/u,p=I0({targetBorrowRate90:a,baseRate:c,utilization:g});h.push({utilization:g,borrowPD:p.borrowRatePD,borrowNoPD:p.borrowRateNoPD,supplyPD:p.supplyRatePD,supplyNoPD:p.supplyRateNoPD})}return h}function be(a,c=2){return`${(a*100).toFixed(c)}%`}function U0(){const a=[{title:"Minimum Rate for Lenders",description:"Lenders earn at least the base rate from productive assets, even when utilization is low.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{title:"Spread Compression",description:"The gap between borrow and supply rates narrows, creating a more efficient market.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})},{title:"Volatility Reduction",description:"The IRM only prices the spread, not the base rate  resulting in smaller rate swings.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}];return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Benefits of Productive Debt"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map((c,u)=>r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700 hover:border-lotus-purple-500/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"text-lotus-purple-400",children:c.icon}),r.jsx("h4",{className:"font-medium text-lotus-grey-100",children:c.title})]}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:c.description})]},u))})]})}function V0({baseRate:a,spread:c,onSpreadChange:u}){const h=a+c;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Borrow Rate Composition"}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-6 text-center max-w-xl mx-auto",children:"With productive debt, the borrow rate decomposes into a base component (from productive assets) plus a spread component (set by the market)."}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[r.jsxs("div",{className:"bg-emerald-900/30 border border-emerald-700 rounded-lg px-5 py-4 text-center min-w-[140px]",children:[r.jsx("div",{className:"text-xs text-emerald-400 mb-1 font-medium",children:"Base Rate"}),r.jsx("div",{className:"text-2xl font-mono font-semibold text-emerald-300",children:be(a)}),r.jsx("div",{className:"text-xs text-emerald-500 mt-1",children:"from LotusUSD"})]}),r.jsx("div",{className:"text-3xl font-light text-lotus-grey-600",children:"+"}),r.jsxs("div",{className:"bg-lotus-purple-900/30 border border-lotus-purple-700 rounded-lg px-5 py-4 text-center min-w-[140px]",children:[r.jsx("div",{className:"text-xs text-lotus-purple-400 mb-1 font-medium",children:"Spread"}),r.jsx("input",{type:"number",value:(c*100).toFixed(1),onChange:m=>u(parseFloat(m.target.value)/100||0),step:"0.1",min:"0",max:"50",className:"w-20 text-2xl font-mono font-semibold text-lotus-purple-300 bg-transparent text-center border-b-2 border-lotus-purple-500 focus:border-lotus-purple-400 focus:outline-none"}),r.jsx("span",{className:"text-2xl font-mono font-semibold text-lotus-purple-300",children:"%"}),r.jsx("div",{className:"text-xs text-lotus-purple-500 mt-1",children:"market-determined"})]}),r.jsx("div",{className:"text-3xl font-light text-lotus-grey-600",children:"="}),r.jsxs("div",{className:"bg-lotus-grey-700 border border-lotus-grey-600 rounded-lg px-5 py-4 text-center min-w-[140px]",children:[r.jsx("div",{className:"text-xs text-lotus-grey-300 mb-1 font-medium",children:"Borrow Rate"}),r.jsx("div",{className:"text-2xl font-mono font-semibold text-lotus-grey-100",children:be(h)}),r.jsx("div",{className:"text-xs text-lotus-grey-300 mt-1",children:"total rate"})]})]})]})]})}function W0({baseRate:a,spread:c,utilization:u,onUtilizationChange:h}){const[m,g]=V.useState(.5),[p,w]=V.useState(!1),S=a+c,y=S,N=S*u,L=S*(1-u),M=u>0?a*(1-u)/u:0,z=Math.max(c-(1-m)*M,0),R=a+z,A=a+z*u,T=z*(1-u),C=y-R,I=A-N,H=Math.max(y,R,N,A)*1.1;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Spread Compression"}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("div",{className:"bg-lotus-purple-900/20 rounded-lg p-3 border border-lotus-purple-700/50 mb-6",children:r.jsx("p",{className:"text-sm text-lotus-purple-200",children:"Productive debt lets idle liquidity earn the base rate, so lenders don't rely entirely on utilization to earn yield. This compresses the borrow-lend spread."})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Utilization"}),r.jsxs("span",{className:"text-lg font-mono font-semibold text-lotus-grey-100",children:[(u*100).toFixed(0),"%"]})]}),r.jsx("input",{type:"range",value:u*100,onChange:ne=>h(parseFloat(ne.target.value)/100),min:"10",max:"100",step:"5",className:"w-full"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-2",children:"Lower utilization = bigger PD advantage."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Borrowers"}),r.jsxs("span",{className:"text-sm font-medium text-lotus-grey-300",children:[((1-m)*100).toFixed(0),"% / ",(m*100).toFixed(0),"%"]}),r.jsx("span",{className:"text-sm font-medium text-emerald-400",children:"Lenders"})]}),r.jsx("input",{type:"range",value:m*100,onChange:ne=>g(parseFloat(ne.target.value)/100),min:"0",max:"100",step:"5",className:"w-full"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-2",children:"How efficiency gains are distributed."})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Borrow Rate"}),C>5e-5&&r.jsxs("span",{className:"text-xs font-medium text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded",children:[be(C)," savings"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300 w-16",children:"No PD"}),r.jsx("div",{className:"flex-1 h-8 bg-lotus-grey-700 rounded-lg overflow-hidden relative",children:r.jsx("div",{className:"h-full bg-lotus-grey-500 rounded-lg flex items-center justify-end pr-2",style:{width:`${y/H*100}%`},children:r.jsx("span",{className:"text-xs font-mono text-lotus-grey-100 font-medium",children:be(y)})})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-blue-400 w-16 font-medium",children:"With PD"}),r.jsx("div",{className:"flex-1 h-8 bg-blue-900/30 rounded-lg overflow-hidden relative",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-lg flex items-center justify-end pr-2",style:{width:`${R/H*100}%`},children:r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:be(R)})})})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Supply Rate"}),I>5e-5&&r.jsxs("span",{className:"text-xs font-medium text-emerald-400 bg-emerald-900/30 px-2 py-0.5 rounded",children:["+",be(I)," yield"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300 w-16",children:"No PD"}),r.jsx("div",{className:"flex-1 h-8 bg-lotus-grey-700 rounded-lg overflow-hidden relative",children:r.jsx("div",{className:"h-full bg-lotus-grey-500 rounded-lg flex items-center justify-end pr-2",style:{width:`${N/H*100}%`},children:r.jsx("span",{className:"text-xs font-mono text-lotus-grey-100 font-medium",children:be(N)})})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-emerald-400 w-16 font-medium",children:"With PD"}),r.jsx("div",{className:"flex-1 h-8 bg-emerald-900/30 rounded-lg overflow-hidden relative",children:r.jsx("div",{className:"h-full bg-emerald-500 rounded-lg flex items-center justify-end pr-2",style:{width:`${A/H*100}%`},children:r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:be(A)})})})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Borrow-Lend Spread"}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"(inefficiency in the market)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300 w-16",children:"No PD"}),r.jsx("div",{className:"flex-1 h-8 bg-lotus-grey-700 rounded-lg overflow-hidden relative",children:r.jsx("div",{className:"h-full bg-red-500/80 rounded-lg flex items-center justify-end pr-2",style:{width:`${L/H*100}%`},children:r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:be(L)})})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-emerald-400 w-16 font-medium",children:"With PD"}),r.jsx("div",{className:"flex-1 h-8 bg-emerald-900/30 rounded-lg overflow-hidden relative",children:r.jsx("div",{className:"h-full bg-emerald-500/80 rounded-lg flex items-center justify-end pr-2",style:{width:`${T/H*100}%`},children:r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:be(T)})})})]})]})]})]}),r.jsxs("div",{className:"mt-6 border-t border-lotus-grey-700 pt-4",children:[r.jsxs("button",{onClick:()=>w(!p),className:"flex items-center gap-2 text-sm text-lotus-grey-300 hover:text-lotus-grey-300",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform ${p?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),p?"Hide formulas":"Show formulas"]}),p&&r.jsxs("div",{className:"mt-3 p-3 bg-lotus-grey-900 rounded-lg text-sm font-mono",children:[r.jsxs("p",{className:"text-emerald-400",children:[r.jsx("span",{className:"text-emerald-300",children:"Supply Rate (with PD)"})," = Base Rate + (Spread  Utilization)"]}),r.jsxs("p",{className:"text-lotus-grey-300 mt-1",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"Supply Rate (no PD)"})," = Borrow Rate  Utilization"]}),r.jsxs("p",{className:"text-lotus-grey-300 mt-2",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"B-L Spread"})," = Borrow Rate  Supply Rate"]})]})]})]})]})}function O0({baseRate:a,spread:c}){const[u,h]=V.useState(!1),m=a+c,g=V.useMemo(()=>F0(m,a),[m,a]),p={u0:a+c*.25,u100:a+c*4},w={u0:m*.25,u100:m*4},S=p.u100-p.u0,y=w.u100-w.u0,N=y>0?(y-S)/y*100:0;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Volatility Reduction"}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("div",{className:"bg-lotus-purple-900/20 rounded-lg p-3 border border-lotus-purple-700/50 mb-6",children:r.jsxs("p",{className:"text-sm text-lotus-purple-200",children:["The IRM only prices the ",r.jsx("strong",{children:"spread"}),", not the base rate. This means rate swings are proportionally smaller with productive debt."]})}),r.jsx($0,{data:g,baseRate:a,spread:c}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 text-center border border-lotus-grey-600",children:[r.jsx("div",{className:"text-xs text-lotus-grey-300 uppercase tracking-wide mb-1",children:"Without PD Range"}),r.jsxs("div",{className:"text-xl font-mono font-semibold text-lotus-grey-300",children:[be(w.u0),"  ",be(w.u100)]}),r.jsxs("div",{className:"text-xs text-lotus-grey-300 mt-1",children:[" ",be(y)]})]}),r.jsxs("div",{className:"bg-orange-900/30 rounded-lg p-4 text-center border border-orange-700",children:[r.jsx("div",{className:"text-xs text-orange-400 uppercase tracking-wide mb-1",children:"With PD Range"}),r.jsxs("div",{className:"text-xl font-mono font-semibold text-orange-300",children:[be(p.u0),"  ",be(p.u100)]}),r.jsxs("div",{className:"text-xs text-orange-500 mt-1",children:[" ",be(S)]})]}),r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 text-center border border-emerald-700",children:[r.jsx("div",{className:"text-xs text-emerald-400 uppercase tracking-wide mb-1",children:"Volatility Reduced"}),r.jsxs("div",{className:"text-xl font-mono font-semibold text-emerald-300",children:[N.toFixed(0),"%"]}),r.jsx("div",{className:"text-xs text-emerald-500 mt-1",children:"smaller rate swings"})]})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-x-8 gap-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"0% util:"}),r.jsx("span",{className:"font-mono text-orange-400",children:be(p.u0)}),r.jsx("span",{className:"text-lotus-grey-600",children:"vs"}),r.jsx("span",{className:"font-mono text-lotus-grey-300",children:be(w.u0)})]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-lotus-grey-700 rounded-full",children:[r.jsx("span",{className:"text-lotus-grey-300 font-medium",children:"90% util:"}),r.jsx("span",{className:"font-mono text-lotus-grey-100",children:be(m)}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"(equal)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"100% util:"}),r.jsx("span",{className:"font-mono text-orange-400",children:be(p.u100)}),r.jsx("span",{className:"text-lotus-grey-600",children:"vs"}),r.jsx("span",{className:"font-mono text-lotus-grey-300",children:be(w.u100)})]})]}),r.jsxs("div",{className:"mt-6 border-t border-lotus-grey-700 pt-4",children:[r.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 text-sm text-lotus-grey-300 hover:text-lotus-grey-300",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform ${u?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),u?"Hide formulas":"Show formulas"]}),u&&r.jsxs("div",{className:"mt-3 p-3 bg-lotus-grey-900 rounded-lg text-sm font-mono space-y-2",children:[r.jsxs("p",{className:"text-orange-400",children:["With PD: Rate = Base + Spread  factor(u) = ",be(a)," + ",be(c),"  factor"]}),r.jsxs("p",{className:"text-lotus-grey-300",children:["Without PD: Rate = BorrowRate  factor(u) = ",be(m),"  factor"]}),r.jsx("p",{className:"text-lotus-grey-600 text-xs mt-2",children:"factor(u): 0.25 at 0%, 1 at 90%, 4 at 100%"})]})]})]})]})}function $0({data:a,baseRate:c,spread:u}){const g={top:20,right:20,bottom:45,left:55},p=560-g.left-g.right,w=300-g.top-g.bottom;let S=0;for(const T of a)T.borrowPD!==void 0&&(S=Math.max(S,T.borrowPD)),T.borrowNoPD!==void 0&&(S=Math.max(S,T.borrowNoPD));S=Math.ceil(S*100)/100,S===0&&(S=.2);const y=T=>g.left+T*p,N=T=>g.top+w-T/S*w,L=T=>`M${a.filter(I=>T(I)!==void 0).map(I=>`${y(I.utilization)},${N(T(I))}`).join(" L")}`,M=5,z=Array.from({length:M},(T,C)=>S*C/(M-1)),R=[0,.25,.5,.75,.9,1],A=c+u;return r.jsxs("div",{className:"bg-lotus-grey-900 rounded-xl p-4 border border-lotus-grey-700",children:[r.jsxs("svg",{width:560,height:300,className:"overflow-visible mx-auto block",children:[r.jsx("rect",{x:g.left,y:g.top,width:p,height:w,fill:"#191621",rx:"4"}),z.map((T,C)=>r.jsx("line",{x1:g.left,y1:N(T),x2:560-g.right,y2:N(T),stroke:"#27232F",strokeWidth:"1"},`y-grid-${C}`)),r.jsx("line",{x1:y(.9),y1:g.top,x2:y(.9),y2:300-g.bottom,stroke:"#454052",strokeWidth:"1",strokeDasharray:"4,4"}),r.jsx("rect",{x:g.left,y:N(c),width:p,height:w-(w-c/S*w),fill:"#10b981",opacity:"0.1"}),r.jsx("line",{x1:g.left,y1:N(c),x2:560-g.right,y2:N(c),stroke:"#10b981",strokeWidth:"1.5",strokeDasharray:"3,3",opacity:"0.6"}),r.jsx("path",{d:L(T=>T.borrowNoPD),fill:"none",stroke:"#736D7F",strokeWidth:"2",strokeDasharray:"6,4"}),r.jsx("path",{d:L(T=>T.borrowPD),fill:"none",stroke:"#f97316",strokeWidth:"2.5"}),r.jsx("circle",{cx:y(.9),cy:N(A),r:"4",fill:"#f97316",stroke:"#191621",strokeWidth:"2"}),z.map((T,C)=>r.jsxs("text",{x:g.left-8,y:N(T),textAnchor:"end",dominantBaseline:"middle",className:"text-xs fill-lotus-grey-500",children:[(T*100).toFixed(0),"%"]},`y-label-${C}`)),R.map((T,C)=>r.jsxs("text",{x:y(T),y:300-g.bottom+16,textAnchor:"middle",className:`text-xs ${T===.9?"fill-lotus-grey-300 font-medium":"fill-lotus-grey-500"}`,children:[(T*100).toFixed(0),"%"]},`x-label-${C}`)),r.jsx("text",{x:560/2,y:294,textAnchor:"middle",className:"text-xs fill-lotus-grey-500",children:"Utilization"}),r.jsx("text",{x:14,y:300/2,textAnchor:"middle",transform:`rotate(-90, 14, ${300/2})`,className:"text-xs fill-lotus-grey-500",children:"Borrow Rate"}),r.jsxs("text",{x:560-g.right-4,y:N(c)-6,textAnchor:"end",className:"text-xs fill-emerald-400 font-medium",children:["Base ",be(c)]})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mt-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-0.5 bg-orange-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"With PD"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{width:"20",height:"2",children:r.jsx("line",{x1:"0",y1:"1",x2:"20",y2:"1",stroke:"#736D7F",strokeWidth:"2",strokeDasharray:"4,2"})}),r.jsx("span",{className:"text-lotus-grey-300",children:"Without PD"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{width:"20",height:"2",children:r.jsx("line",{x1:"0",y1:"1",x2:"20",y2:"1",stroke:"#10b981",strokeWidth:"1.5",strokeDasharray:"3,3",opacity:"0.6"})}),r.jsx("span",{className:"text-emerald-400",children:"Base Rate"})]})]})]})}function H0({baseRate:a,spread:c,utilization:u,onSpreadChange:h,onUtilizationChange:m}){return r.jsxs("div",{className:"space-y-8",children:[r.jsx(fr,{concepts:["productive-debt","spread","supply-rate","borrow-rate"]}),r.jsx(U0,{}),r.jsx(V0,{baseRate:a,spread:c,onSpreadChange:h}),r.jsx(W0,{baseRate:a,spread:c,utilization:u,onUtilizationChange:m}),r.jsx(O0,{baseRate:a,spread:c})]})}function q0({label:a,value:c,onChange:u,description:h,min:m=0,max:g=1,step:p=.001}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-lotus-grey-300",children:a}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:(c*100).toFixed(2),onChange:w=>{const S=parseFloat(w.target.value)/100;!isNaN(S)&&S>=m&&S<=g&&u(S)},className:"w-full px-3 py-2 pr-8 bg-lotus-grey-700 border border-lotus-grey-600 rounded-lg text-lotus-grey-100 font-mono focus:border-lotus-purple-500 focus:ring-1 focus:ring-lotus-purple-500 text-sm",step:(p*100).toString(),min:(m*100).toString(),max:(g*100).toString()}),r.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-lotus-grey-300 text-sm",children:"%"})]}),h&&r.jsx("p",{className:"text-xs text-lotus-grey-300",children:h})]})}function $o({title:a="Try this:",children:c}){return r.jsx("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:a}),r.jsxs("span",{className:"text-lotus-purple-200",children:[" ",c]})]})]})})}const Q0={info:{container:"bg-blue-900/20 border-blue-700/50",icon:"text-blue-400 bg-blue-900/50",text:"text-blue-200"},warning:{container:"bg-amber-900/20 border-amber-700/50",icon:"text-amber-400 bg-amber-900/50",text:"text-amber-200"},success:{container:"bg-emerald-900/20 border-emerald-700/50",icon:"text-emerald-400 bg-emerald-900/50",text:"text-emerald-200"}},Y0={info:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),success:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})};function St({show:a,variant:c,children:u}){if(!a)return null;const h=Q0[c];return r.jsx("div",{className:`rounded-lg p-4 border ${h.container} animate-fadeIn`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${h.icon}`,children:Y0[c]}),r.jsx("div",{className:`text-sm ${h.text}`,children:u})]})})}function K0({treasuryAllocation:a}){const c=1-a,u=200,h=u/2,m=80,g=a*2*Math.PI,p=c*2*Math.PI,w=-Math.PI/2,S=w+g,y=Ju(h,h,m,w,S),N=S+p,L=Ju(h,h,m,S,N);return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsxs("svg",{width:u,height:u,viewBox:`0 0 ${u} ${u}`,children:[a>0&&r.jsx("path",{d:y,fill:"#10b981",stroke:"#0D0A14",strokeWidth:"2"}),c>0&&r.jsx("path",{d:L,fill:"#3b82f6",stroke:"#0D0A14",strokeWidth:"2"}),r.jsx("circle",{cx:h,cy:h,r:m*.5,fill:"#191621"}),r.jsx("text",{x:h,y:h-8,textAnchor:"middle",className:"fill-lotus-grey-200 text-xs font-medium",children:"LotusUSD"}),r.jsx("text",{x:h,y:h+8,textAnchor:"middle",className:"fill-lotus-grey-400 text-xs",children:"Backing"})]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-sm bg-blue-500"}),r.jsxs("span",{className:"text-sm text-lotus-grey-300",children:["USDC (",(c*100).toFixed(0),"%)"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-sm bg-emerald-500"}),r.jsxs("span",{className:"text-sm text-lotus-grey-300",children:["Treasuries (",(a*100).toFixed(0),"%)"]})]})]})]})}function Ju(a,c,u,h,m){const g=Vo(a,c,u,h),p=Vo(a,c,u,m),w=m-h,S=w>Math.PI?1:0;if(Math.abs(w-2*Math.PI)<.001){const y=Vo(a,c,u,h+Math.PI);return["M",g.x,g.y,"A",u,u,0,0,1,y.x,y.y,"A",u,u,0,0,1,g.x,g.y,"L",a,c,"Z"].join(" ")}return["M",g.x,g.y,"A",u,u,0,S,1,p.x,p.y,"L",a,c,"Z"].join(" ")}function Vo(a,c,u,h){return{x:a+u*Math.cos(h),y:c+u*Math.sin(h)}}function J0({value:a,onChange:c}){return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"block text-sm font-medium text-lotus-grey-300",children:"Treasury Allocation"}),r.jsxs("span",{className:"text-sm font-mono text-emerald-400",children:[(a*100).toFixed(0),"%"]})]}),r.jsx("input",{type:"range",value:a*100,onChange:u=>c(parseFloat(u.target.value)/100),min:"0",max:"100",step:"1",className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-lotus-grey-300",children:[r.jsx("span",{children:"0% (All USDC)"}),r.jsx("span",{children:"50%"}),r.jsx("span",{children:"100% (All Treasuries)"})]})]})}function G0({treasuryAllocation:a,treasuryRate:c,onTreasuryAllocationChange:u,onTreasuryRateChange:h}){const m=V.useMemo(()=>c*a,[c,a]),g=p=>`${(p*100).toFixed(2)}%`;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(fr,{concepts:["lotususd","productive-debt"]}),r.jsx("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50 mb-4",children:r.jsxs("p",{className:"text-sm text-emerald-200",children:[r.jsx(Fe,{term:"lotususd",children:"LotusUSD"})," is backed by USDC and US Treasuries. The treasury yield generates the base rate for ",r.jsx(Fe,{term:"productive-debt",children:"productive debt"}),", allowing idle liquidity to earn yield even when not being borrowed."]})}),r.jsx($o,{children:"Move the treasury allocation slider to 100% to see the maximum possible base rate. Then try 0% to see what happens when everything is held in USDC."}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700 flex items-center justify-center",children:r.jsx(K0,{treasuryAllocation:a})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-4",children:"Inputs"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(J0,{value:a,onChange:u}),r.jsx(q0,{label:"US Treasury Rate",value:c,onChange:h,description:"Current yield on US Treasury bills"})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-3",children:"Output"}),r.jsxs("div",{className:"p-4 bg-emerald-900/30 rounded-lg border border-emerald-700",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-emerald-300 font-medium",children:"Productive Debt Rate"}),r.jsx("span",{className:"text-2xl font-mono font-bold text-emerald-400",children:g(m)})]}),r.jsx("p",{className:"text-xs text-emerald-500 mt-2",children:"= Treasury Rate x Treasury Allocation"}),r.jsxs("p",{className:"text-xs text-emerald-500",children:["= ",g(c)," x ",(a*100).toFixed(0),"%"]})]})]})]})]}),r.jsxs(St,{show:a>=.95,variant:"info",children:[r.jsx("strong",{children:"Maximum Treasury Exposure:"})," At near-100% treasury allocation, the productive debt rate equals the full treasury rate. However, this leaves minimal USDC reserves for instant redemptions."]}),r.jsxs(St,{show:a<=.05,variant:"warning",children:[r.jsx("strong",{children:"Minimal Yield:"})," With treasury allocation near 0%, the productive debt rate approaches zero. All backing is in USDC which earns no yield, but provides maximum liquidity for redemptions."]}),r.jsxs(St,{show:a>=.5&&a<=.85,variant:"success",children:[r.jsx("strong",{children:"Balanced Allocation:"})," This range balances yield generation with redemption liquidity. Most protocols target 70-80% treasury allocation."]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-3",children:"How It Works"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"p-3 bg-blue-900/30 rounded-lg border border-blue-700/50",children:[r.jsx("div",{className:"font-medium text-blue-300 mb-1",children:"USDC Reserve"}),r.jsx("p",{className:"text-blue-400 text-xs",children:"Held as instant liquidity for redemptions. Earns 0% yield but provides stability."})]}),r.jsxs("div",{className:"p-3 bg-emerald-900/30 rounded-lg border border-emerald-700/50",children:[r.jsx("div",{className:"font-medium text-emerald-300 mb-1",children:"Treasury Holdings"}),r.jsx("p",{className:"text-emerald-400 text-xs",children:"Invested in US Treasury bills to generate yield for the productive debt base rate."})]}),r.jsxs("div",{className:"p-3 bg-lotus-purple-900/30 rounded-lg border border-lotus-purple-700/50",children:[r.jsx("div",{className:"font-medium text-lotus-purple-300 mb-1",children:"Productive Debt Rate"}),r.jsx("p",{className:"text-lotus-purple-400 text-xs",children:"The rate earned by idle supply. Used in the next section to compress spreads."})]})]})]}),r.jsxs("details",{className:"bg-lotus-grey-800 rounded-lg border border-lotus-grey-700",children:[r.jsx("summary",{className:"px-4 py-3 cursor-pointer text-sm font-medium text-lotus-grey-300 hover:text-lotus-grey-100",children:"Show Formula"}),r.jsxs("div",{className:"px-4 pb-4 text-sm text-lotus-grey-300 font-mono space-y-2",children:[r.jsx("p",{children:"productiveDebtRate = treasuryRate x treasuryAllocation"}),r.jsxs("p",{children:["productiveDebtRate = ",g(c)," x ",a.toFixed(2)," = ",g(m)]})]})]})]})}function Zt({formula:a,description:c,children:u}){const[h,m]=V.useState(!1),[g,p]=V.useState({top:0,left:0}),w=V.useRef(null);V.useEffect(()=>{if(h&&w.current){const y=w.current.getBoundingClientRect(),N=y.top<120;p({top:N?y.bottom+8:y.top-8,left:y.left+y.width/2})}},[h]);const S=h&&r.jsxs("div",{className:"fixed z-[9999] px-3 py-2 text-sm bg-lotus-grey-900 text-white rounded-lg shadow-xl max-w-xs border border-lotus-grey-700",style:{top:g.top,left:g.left,transform:g.top<120?"translateX(-50%)":"translate(-50%, -100%)"},children:[r.jsx("code",{className:"font-mono text-xs text-lotus-purple-300 block",children:a}),c&&r.jsx("p",{className:"mt-1 text-xs text-lotus-grey-300",children:c}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-8 border-transparent",style:g.top<120?{bottom:"100%",borderBottomColor:"#0D0A14"}:{top:"100%",borderTopColor:"#0D0A14"}})]});return r.jsxs(r.Fragment,{children:[r.jsxs("span",{ref:w,className:"inline-flex items-center cursor-help",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[u,r.jsx("svg",{className:"ml-1 w-3.5 h-3.5 text-lotus-grey-300 hover:text-lotus-purple-400 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),typeof document<"u"&&cd.createPortal(S,document.body)]})}const er={jrSupply:{formula:"jrSupply[i] = (supply[j]) for j  i",description:"Sum of supply from this tranche and all junior tranches."},jrBorrow:{formula:"jrBorrow[i] = (borrow[j]) for j  i",description:"Sum of borrows from this tranche and all junior tranches."},jrNetSupply:{formula:"jrNetSupply[i] = max(0, jrSupply[i]  jrBorrow[i])",description:"Unused junior supply after accounting for junior borrows."},freeSupply:{formula:"freeSupply[i] = min(jrNetSupply[j]) for j  i",description:"Constrained by the minimum jrNetSupply of all senior tranches."},availableSupply:{formula:"availableSupply[i] = jrNetSupply[i] + borrow[i]",description:"Total supply that was available to this tranche before borrowing."},supplyUtil:{formula:"supplyUtil[i] = supply[i] / availableSupply[i]",description:"Share of available supply from this tranche. Used for interest/bad debt allocation."},borrowUtil:{formula:"borrowUtil[i] = 1  freeSupply[i] / jrSupply[i]",description:"Fraction of junior supply being utilized. Used by interest rate models."},supplyRate:{formula:"Cascading: (cascade + interest)  supplyUtil  allocated",description:"Interest cascades from senior to junior, allocated by supply utilization at each level."}};function X0({tranches:a,onTrancheChange:c,productiveDebtRate:u}){return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4 p-3 bg-emerald-900/30 rounded-lg border border-emerald-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-emerald-300",children:"Productive Debt Rate (from LotusUSD)"}),r.jsx("span",{className:"text-lg font-mono font-semibold text-emerald-400",children:we(u,2)})]}),r.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:"This base rate is added to the spread to get the total borrow rate."})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm min-w-[900px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800 border-r border-lotus-grey-700 sticky left-0 z-10",children:r.jsx(Fe,{term:"lltv",children:"LLTV"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Supply"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Borrow"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:"Spread"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-300 bg-orange-900/30",children:"Borrow Rate"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:r.jsx(Zt,{...er.jrSupply,children:"Jr Supply"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:r.jsx(Zt,{...er.jrBorrow,children:"Jr Borrow"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:r.jsx(Zt,{...er.jrNetSupply,children:"Jr Net"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-300 bg-emerald-900/30",children:r.jsx(Zt,{...er.freeSupply,children:"Free Supply"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-300 bg-emerald-900/30",children:r.jsx(Zt,{...er.availableSupply,children:"Available"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:r.jsx(Zt,{...er.supplyUtil,children:"Supply Util"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:r.jsx(Zt,{...er.borrowUtil,children:"Borrow Util"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-teal-300 bg-teal-900/30",children:r.jsx(Zt,{...er.supplyRate,children:"Supply Rate"})})]})}),r.jsx("tbody",{children:a.map(h=>r.jsxs("tr",{className:"border-b border-lotus-grey-700/50 hover:bg-lotus-grey-700/30 transition-colors",children:[r.jsx("td",{className:"py-2 px-2 bg-lotus-grey-800 border-r border-lotus-grey-700 sticky left-0 z-10",children:r.jsxs("span",{className:"font-medium text-lotus-grey-200",children:[h.lltv,"%"]})}),r.jsx("td",{className:"py-2 px-2",children:r.jsx("input",{type:"number",value:h.supplyAssets,onChange:m=>c(h.id,"supplyAssets",parseFloat(m.target.value)||0),min:0,step:100,className:`w-20 px-2 py-1 text-sm text-right bg-lotus-grey-700 border border-lotus-grey-600 rounded font-mono text-lotus-grey-100
                      focus:outline-none focus:ring-1 focus:ring-lotus-purple-500 focus:border-lotus-purple-500`})}),r.jsx("td",{className:"py-2 px-2",children:r.jsx("input",{type:"number",value:h.borrowAssets,onChange:m=>c(h.id,"borrowAssets",parseFloat(m.target.value)||0),min:0,step:100,className:`w-20 px-2 py-1 text-sm text-right bg-lotus-grey-700 border border-lotus-grey-600 rounded font-mono text-lotus-grey-100
                      focus:outline-none focus:ring-1 focus:ring-lotus-purple-500 focus:border-lotus-purple-500`})}),r.jsx("td",{className:"py-2 px-2 bg-lotus-purple-900/20",children:r.jsxs("div",{className:"flex items-center justify-end",children:[r.jsx("input",{type:"number",value:(h.borrowRate*100).toFixed(1),onChange:m=>c(h.id,"borrowRate",(parseFloat(m.target.value)||0)/100),min:0,max:100,step:.5,className:`w-16 px-2 py-1 text-sm text-right bg-lotus-grey-700 border border-lotus-purple-600 rounded font-mono text-lotus-purple-200
                        focus:outline-none focus:ring-1 focus:ring-lotus-purple-500 focus:border-lotus-purple-500`}),r.jsx("span",{className:"ml-1 text-lotus-grey-300",children:"%"})]})}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/20",children:we(u+h.borrowRate,2)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:ve(h.jrSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:ve(h.jrBorrow,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:ve(h.jrNetSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-emerald-400 bg-emerald-900/20",children:ve(h.freeSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-emerald-400 bg-emerald-900/20",children:ve(h.availableSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right bg-lotus-purple-900/20",children:r.jsx(Gu,{value:h.supplyUtilization,color:"purple"})}),r.jsx("td",{className:"py-2 px-2 text-right bg-lotus-purple-900/20",children:r.jsx(Gu,{value:h.borrowUtilization,color:"blue"})}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-teal-400 bg-teal-900/20",children:h.supplyRate!==null?we(u+h.supplyRate,2):"-"})]},h.id))})]})}),r.jsxs("div",{className:"mt-4 px-3 py-2 bg-lotus-grey-800 rounded text-xs text-lotus-grey-300",children:[r.jsx("span",{className:"font-medium",children:"Lower LLTV = More Senior"})," | Higher LLTV = More Junior (higher risk, higher yield)"]})]})}function Gu({value:a,color:c="purple"}){if(a===null)return r.jsx("span",{className:"text-lotus-grey-600",children:"-"});const u=a*100,h=g=>g>=90?"bg-red-500":g>=70?"bg-amber-500":c==="purple"?"bg-lotus-purple-500":"bg-blue-500",m=c==="purple"?"text-lotus-purple-400":"text-blue-400";return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-8 h-1.5 bg-lotus-grey-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${h(u)} transition-all duration-200`,style:{width:`${Math.min(100,u)}%`}})}),r.jsx("span",{className:`font-mono ${m}`,children:we(a,0)})]})}function Vs({title:a,icon:c,description:u,children:h,defaultExpanded:m=!1}){const[g,p]=V.useState(m);return r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg border border-lotus-grey-700 overflow-hidden",children:[r.jsxs("button",{onClick:()=>p(!g),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-lotus-grey-700 transition-colors text-left",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[c&&r.jsx("span",{className:"text-xl",children:c}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-lotus-grey-100",children:a}),u&&r.jsx("p",{className:"text-sm text-lotus-grey-300 mt-0.5",children:u})]})]}),r.jsx("svg",{className:`w-5 h-5 text-lotus-grey-300 transition-transform flex-shrink-0 ${g?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&r.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-lotus-grey-700",children:h})]})}function Z0({tranches:a,productiveDebtRate:c,onTrancheChange:u}){const h=V.useMemo(()=>Math.max(...a.map(p=>p.jrSupply)),[a]),m=V.useMemo(()=>Math.max(...a.map(p=>p.jrBorrow)),[a]),g=V.useMemo(()=>Math.max(...a.map(p=>Math.abs(p.jrNetSupply))),[a]);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(fr,{concepts:["lltv","tranche-seniority","cascade","supply-utilization"]}),r.jsx("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:r.jsxs("p",{className:"text-sm text-lotus-purple-200",children:["Tranches allow lenders to choose their risk/reward profile. Lower ",r.jsx(Fe,{term:"lltv",children:"LLTV"})," = more ",r.jsx(Fe,{term:"tranche-seniority",children:"senior"})," (safer), higher LLTV = more junior (higher yield). Liquidity flows between tranches, creating ",r.jsx(Fe,{term:"connected-liquidity",children:"connected markets"}),"."]})}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"How Lenders & Borrowers Use Tranches"}),r.jsx(ud,{})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"The Liquidity Cascade"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Unlike isolated pools, Lotus tranches share liquidity through a cascade mechanism. Liquidity cascades from junior to senior tranches, while interest flows from senior to junior."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[r.jsxs("div",{className:"bg-emerald-900/10 rounded-xl p-5 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),r.jsx("h4",{className:"font-semibold text-emerald-300",children:"Liquidity Flows (Junior to Senior)"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border-2 border-emerald-600",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-lg font-semibold text-emerald-300",children:"75% LLTV"}),r.jsx("span",{className:"ml-2 text-xs text-emerald-400 bg-emerald-900/50 px-2 py-0.5 rounded",children:"Most Senior"})]})}),r.jsx("p",{className:"text-sm text-emerald-200/70 mt-1",children:"Can borrow from all tranches below"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-emerald-500 rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"bg-amber-900/30 rounded-lg p-3 border border-amber-700",children:[r.jsx("div",{className:"text-amber-300 font-medium",children:"85% LLTV"}),r.jsx("p",{className:"text-xs text-amber-200/70",children:"Unused supply cascades to senior"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-emerald-500 rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"bg-red-900/30 rounded-lg p-3 border border-red-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-red-300 font-medium",children:"95% LLTV"}),r.jsx("span",{className:"text-xs text-red-400 bg-red-900/50 px-2 py-0.5 rounded",children:"Most Junior"})]}),r.jsx("p",{className:"text-xs text-red-200/70",children:"Supplies liquidity first"})]})]})]}),r.jsxs("div",{className:"bg-blue-900/10 rounded-xl p-5 border border-blue-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),r.jsx("h4",{className:"font-semibold text-blue-300",children:"Interest Flows (Senior to Junior)"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-3 border border-emerald-700",children:[r.jsx("div",{className:"text-emerald-300 font-medium",children:"75% LLTV"}),r.jsx("p",{className:"text-xs text-emerald-200/70",children:"Keeps portion based on supply utilization"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"bg-amber-900/30 rounded-lg p-3 border border-amber-700",children:[r.jsx("div",{className:"text-amber-300 font-medium",children:"85% LLTV"}),r.jsx("p",{className:"text-xs text-amber-200/70",children:"Excess interest cascades to junior"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"bg-red-900/30 rounded-lg p-4 border-2 border-red-600",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("span",{className:"text-lg font-semibold text-red-300",children:"95% LLTV"})}),r.jsx("p",{className:"text-sm text-red-200/70 mt-1",children:"Receives 100% of remaining interest"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),r.jsx("span",{className:"font-medium text-emerald-300",children:"Capital Efficiency"})]}),r.jsx("p",{className:"text-sm text-emerald-200/80",children:"Unused junior supply automatically supports senior borrowers, maximizing utilization."})]}),r.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{className:"font-medium text-blue-300",children:"Fair Distribution"})]}),r.jsx("p",{className:"text-sm text-blue-200/80",children:"Interest flows to all suppliers whose liquidity was used, proportionally."})]}),r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),r.jsx("span",{className:"font-medium text-lotus-purple-300",children:"Junior Benefits"})]}),r.jsx("p",{className:"text-sm text-lotus-purple-200/80",children:"Junior lenders earn from multiple tranches when their liquidity cascades to senior tranches."})]})]}),r.jsxs(St,{show:!0,variant:"info",children:[r.jsx("strong",{children:"Why this matters:"})," Unlike isolated pools where unused capital sits idle, connected liquidity means your supply can earn yield across multiple tranches. Junior tranches absorb losses first  that's why they earn higher yields to compensate for the risk."]})]}),r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700 overflow-x-auto",children:r.jsx(X0,{tranches:a,productiveDebtRate:c,onTrancheChange:u})}),r.jsx(Vs,{title:"Understanding Junior Metrics",icon:"",description:"How supply and borrow cascade across tranches",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Supply"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:"Junior Supply at tranche i = Sum of all supply from this tranche and more junior tranches."}),r.jsx("div",{className:"space-y-2",children:a.map(p=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[p.lltv,"%"]}),r.jsx("div",{className:"flex-1 h-4 bg-lotus-grey-700 rounded overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${h>0?p.jrSupply/h*100:0}%`}})}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-300 w-16 text-right",children:p.jrSupply.toLocaleString()})]},p.id))})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Borrow"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:"Junior Borrow at tranche i = Sum of all borrows at or above this risk level."}),r.jsx("div",{className:"space-y-2",children:a.map(p=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[p.lltv,"%"]}),r.jsx("div",{className:"flex-1 h-4 bg-lotus-grey-700 rounded overflow-hidden",children:r.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${m>0?p.jrBorrow/m*100:0}%`}})}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-300 w-16 text-right",children:p.jrBorrow.toLocaleString()})]},p.id))})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Net Supply"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:'Jr Net = Jr Supply - Jr Borrow. This shows the "excess" supply available at each level.'}),r.jsx("div",{className:"space-y-2",children:a.map(p=>{const w=p.jrNetSupply>=0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[p.lltv,"%"]}),r.jsx("div",{className:"flex-1 h-4 bg-lotus-grey-700 rounded overflow-hidden relative",children:r.jsx("div",{className:`h-full transition-all ${w?"bg-emerald-500":"bg-red-500"}`,style:{width:`${g>0?Math.abs(p.jrNetSupply)/g*100:0}%`}})}),r.jsx("span",{className:`text-xs font-mono w-16 text-right ${w?"text-emerald-400":"text-red-400"}`,children:p.jrNetSupply.toLocaleString()})]},p.id)})})]})]})}),r.jsx(Vs,{title:"Utilization Metrics",icon:"",description:"How supply and borrow utilization are calculated",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:[r.jsx("h4",{className:"font-medium text-lotus-purple-200 mb-2",children:"Supply Utilization"}),r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg px-3 py-2 mb-2",children:r.jsx("code",{className:"text-sm font-mono text-lotus-purple-300",children:"SupplyUtil = Supply / AvailableSupply"})}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"How much of the available supply at this tranche is being used. Higher = more capital deployed at this risk level."})]}),r.jsxs("div",{className:"bg-orange-900/20 rounded-lg p-4 border border-orange-700/50",children:[r.jsx("h4",{className:"font-medium text-orange-200 mb-2",children:"Borrow Utilization"}),r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg px-3 py-2 mb-2",children:r.jsx("code",{className:"text-sm font-mono text-orange-300",children:"BorrowUtil = 1 - (FreeSupply / JrSupply)"})}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"How much of the junior supply is being borrowed against. Higher = more of the supply is earning interest."})]})]}),r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:[r.jsx("h4",{className:"font-medium text-lotus-purple-200 mb-3",children:"Supply Utilization by Tranche"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-purple-700/50",children:[r.jsx("th",{className:"text-left py-2 px-3 text-lotus-grey-200 font-medium",children:"LLTV"}),r.jsx("th",{className:"text-right py-2 px-3 text-blue-300 font-medium",children:"Supply"}),r.jsx("th",{className:"text-right py-2 px-3 text-emerald-300 font-medium",children:"Available"}),r.jsx("th",{className:"text-right py-2 px-3 text-lotus-purple-300 font-medium",children:"Supply Util"}),r.jsx("th",{className:"text-left py-2 px-3 text-lotus-grey-200 font-medium",children:"Calculation"})]})}),r.jsx("tbody",{children:a.map(p=>{const w=p.availableSupply>0?p.supplyAssets/p.availableSupply:0;return r.jsxs("tr",{className:"border-b border-lotus-purple-800/30 hover:bg-lotus-purple-900/20",children:[r.jsxs("td",{className:"py-2 px-3 font-medium text-white",children:[p.lltv,"%"]}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-blue-200",children:p.supplyAssets.toLocaleString()}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-emerald-200",children:p.availableSupply.toLocaleString()}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono font-semibold text-lotus-purple-200",children:[(w*100).toFixed(1),"%"]}),r.jsxs("td",{className:"py-2 px-3 text-sm text-lotus-grey-300 font-mono",children:[p.supplyAssets.toLocaleString()," / ",p.availableSupply.toLocaleString()]})]},p.id)})})]})})]}),r.jsxs("div",{className:"bg-orange-900/20 rounded-lg p-4 border border-orange-700/50",children:[r.jsx("h4",{className:"font-medium text-orange-200 mb-3",children:"Borrow Utilization by Tranche"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-orange-700/50",children:[r.jsx("th",{className:"text-left py-2 px-3 text-lotus-grey-200 font-medium",children:"LLTV"}),r.jsx("th",{className:"text-right py-2 px-3 text-emerald-300 font-medium",children:"Free Supply"}),r.jsx("th",{className:"text-right py-2 px-3 text-blue-300 font-medium",children:"Jr Supply"}),r.jsx("th",{className:"text-right py-2 px-3 text-orange-300 font-medium",children:"Borrow Util"}),r.jsx("th",{className:"text-left py-2 px-3 text-lotus-grey-200 font-medium",children:"Calculation"})]})}),r.jsx("tbody",{children:a.map(p=>{const w=p.jrSupply>0?1-p.freeSupply/p.jrSupply:0;return r.jsxs("tr",{className:"border-b border-orange-800/30 hover:bg-orange-900/20",children:[r.jsxs("td",{className:"py-2 px-3 font-medium text-white",children:[p.lltv,"%"]}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-emerald-200",children:p.freeSupply.toLocaleString()}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-blue-200",children:p.jrSupply.toLocaleString()}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono font-semibold text-orange-200",children:[(w*100).toFixed(1),"%"]}),r.jsxs("td",{className:"py-2 px-3 text-sm text-lotus-grey-300 font-mono",children:["1 - ",p.freeSupply.toLocaleString()," / ",p.jrSupply.toLocaleString()]})]},p.id)})})]})})]}),r.jsx("div",{className:"p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-amber-300",children:[r.jsx("span",{className:"font-medium",children:"Key insight:"})," Supply utilization determines how much interest stays at this tranche vs cascading to more junior tranches. Higher supply utilization means more of the interest is kept at this level."]})})]})})]})}function em({tranches:a}){const[c,u]=V.useState(()=>a.map(()=>0)),h=(p,w)=>{var N;const S=((N=a[p])==null?void 0:N.borrowAssets)??0,y=[...c];y[p]=Math.min(Math.max(0,w),S),u(y)},m=V.useMemo(()=>c.map((p,w)=>({trancheIndex:w,amount:p})).filter(p=>p.amount>0),[c]),g=V.useMemo(()=>S0(a,m.length>0?m:[{trancheIndex:0,amount:0}]),[a,m]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-red-900/30 rounded-lg p-4 border border-red-700/50",children:[r.jsx("div",{className:"text-sm text-red-400",children:"Total Bad Debt"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-red-300",children:["$",ve(g.totalBadDebt,0)]})]}),r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border border-emerald-700/50",children:[r.jsx("div",{className:"text-sm text-emerald-400",children:"Total Absorbed"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-emerald-300",children:["$",ve(g.totalAbsorbed,0)]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"text-sm text-lotus-grey-300",children:"Unabsorbed"}),r.jsxs("div",{className:`text-2xl font-mono font-semibold ${g.unabsorbedBadDebt>0?"text-red-400":"text-lotus-grey-300"}`,children:["$",ve(g.unabsorbedBadDebt,0)]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-600",children:[r.jsx("th",{className:"text-left py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Tranche"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Borrow (Max)"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-red-400 bg-red-900/20",children:"Local Bad Debt"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:"+"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-400 bg-orange-900/20",children:"Cascaded In"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:"="}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Total"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:""}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/20",children:"Supply Util"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:"="}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/20",children:"Absorbed"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-400 bg-orange-900/20",children:"Cascaded Out"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-400 bg-emerald-900/20",children:"Supply Left"})]})}),r.jsx("tbody",{children:g.tranches.map((p,w)=>{const S=a[w],y=p.badDebtCascadedIn+p.badDebtLocal,N=w===g.tranches.length-1,L=p.badDebtLocal>0;return r.jsxs("tr",{className:`border-b border-lotus-grey-700 ${p.badDebtAbsorbed>0?"bg-red-900/10":""}`,children:[r.jsxs("td",{className:"py-2 px-2 font-medium text-lotus-grey-300 bg-lotus-grey-800/50",children:[p.lltv,"%"]}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-lotus-grey-300 bg-lotus-grey-800/50",children:["$",ve(S.borrowAssets,0)]}),r.jsx("td",{className:"py-2 px-2 bg-red-900/10",children:r.jsx("input",{type:"number",min:"0",max:S.borrowAssets,value:c[w]||0,onChange:M=>h(w,Number(M.target.value)),className:`w-20 px-2 py-1 text-sm font-mono border rounded focus:outline-none focus:ring-2 focus:ring-red-500 text-right bg-lotus-grey-900 text-lotus-grey-100 ${L?"border-red-500":"border-lotus-grey-600"}`})}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:"+"}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/10",children:["$",ve(p.badDebtCascadedIn,0)]}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:"="}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-lotus-grey-300 bg-lotus-grey-800/30",children:["$",ve(y,0)]}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:""}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-lotus-purple-300 bg-lotus-purple-900/10",children:we(p.supplyUtilization,0)}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:"="}),r.jsx("td",{className:"py-2 px-2 text-right font-mono font-medium text-lotus-purple-300 bg-lotus-purple-900/10",children:p.badDebtAbsorbed>0?`$${ve(p.badDebtAbsorbed,0)}`:"-"}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/10",children:!N&&p.badDebtCascadedOut>0?`$${ve(p.badDebtCascadedOut,0)}`:"-"}),r.jsxs("td",{className:"py-2 px-2 text-right bg-emerald-900/10",children:[r.jsxs("span",{className:`font-mono ${p.wipedOut?"text-red-400 font-medium":"text-emerald-400"}`,children:["$",ve(p.remainingSupply,0)]}),p.wipedOut&&r.jsx("span",{className:"ml-1 text-xs text-red-400",children:"(wiped)"})]})]},p.index)})})]})}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-3 text-sm text-lotus-grey-300",children:[r.jsx("code",{className:"font-mono text-lotus-purple-300",children:"absorbed = (local + cascadedIn)  supplyUtil"}),r.jsx("span",{className:"mx-2",children:"|"}),r.jsx("code",{className:"font-mono text-lotus-purple-300",children:"cascadedOut = (local + cascadedIn)  (1  supplyUtil)"}),r.jsx("span",{className:"mx-2",children:"|"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Local bad debt capped at borrow amount"})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-2",children:"How Bad Debt is Absorbed"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-lotus-grey-300 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Default occurs:"})," Enter bad debt amounts for tranches where borrowers default"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Senior to junior:"})," Bad debt cascades from senior to junior (same as interest)"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Allocation:"})," At each tranche: Total Bad Debt  Supply Utilization  absorbed by lenders"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Cascade:"})," Remaining bad debt (1  Supply Util) flows to the next junior tranche"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Final:"})," Most junior tranche (95% LLTV) absorbs 100% of remaining bad debt"]})]})]})]})}function tm({tranches:a,computedTranches:c}){const[u,h]=V.useState(1e4),[m,g]=V.useState(7500),p=V.useMemo(()=>a.map(y=>{const N=y.lltv/100,L=m/u,M=N/L,z=u*N,R=z-m,A=m/N/u*u,T=Math.max(0,(1-L/N)*100),C=1/(1-N);return{lltv:y.lltv,currentLtv:L,healthFactor:M,maxBorrow:z,remainingBorrowCapacity:R,liquidationPrice:A,priceDropToLiquidation:T,leverage:C,isHealthy:M>1,isWarning:M<=1.2&&M>1,isLiquidatable:M<=1}}),[u,m,a]),w=y=>y<=1?"text-red-400":y<=1.2?"text-amber-400":"text-emerald-400",S=y=>y<=1?"bg-red-900/20 border-red-700":y<=1.2?"bg-amber-900/20 border-amber-700":"bg-emerald-900/20 border-emerald-700";return r.jsxs("div",{className:"space-y-8",children:[r.jsx(fr,{concepts:["lltv","health-factor","liquidation","bad-debt"]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:["What Triggers ",r.jsx(Fe,{term:"liquidation",children:"Liquidation"}),"?"]}),r.jsxs("p",{className:"text-lotus-grey-300 mb-6",children:["Liquidation occurs when your position's Loan-to-Value (LTV) ratio exceeds the tranche's ",r.jsx(Fe,{term:"lltv",children:"LLTV"})," threshold."]}),r.jsxs("div",{className:"bg-lotus-grey-900/50 rounded-xl p-6 border border-lotus-grey-700",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6",children:[r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"px-8 py-4 bg-lotus-grey-700 rounded-xl border border-lotus-grey-600",children:[r.jsx("div",{className:"text-sm text-lotus-grey-300 mb-2",children:"Your LTV"}),r.jsxs("div",{className:"text-3xl font-mono font-bold text-lotus-grey-100",children:[r.jsx("span",{className:"text-lotus-purple-400",children:"Debt"}),r.jsx("span",{className:"mx-2 text-lotus-grey-300",children:"/"}),r.jsx("span",{className:"text-blue-400",children:"Collateral"})]})]})}),r.jsx("div",{className:"text-4xl font-bold text-lotus-grey-300",children:">"}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"px-8 py-4 bg-lotus-purple-900/30 rounded-xl border-2 border-lotus-purple-600",children:[r.jsx("div",{className:"text-sm text-lotus-purple-400 mb-2",children:"Tranche LLTV"}),r.jsx("div",{className:"text-3xl font-mono font-bold text-lotus-purple-300",children:"75% - 95%"})]})}),r.jsx("div",{className:"text-4xl font-bold text-lotus-grey-300",children:"="}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"px-8 py-4 bg-red-900/30 rounded-xl border-2 border-red-600",children:[r.jsx("div",{className:"text-sm text-red-400 mb-2",children:"Result"}),r.jsx("div",{className:"text-2xl font-bold text-red-300",children:"Liquidatable"})]})})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-lotus-grey-300",children:["This can happen when ",r.jsx("span",{className:"text-lotus-purple-300",children:"collateral price drops"})," or ",r.jsx("span",{className:"text-lotus-purple-300",children:"interest accrues on debt"})]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Per-Tranche Liquidation Thresholds"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Each tranche has a different LLTV threshold. Higher LLTV means more leverage but less buffer before liquidation."}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[r.jsx("span",{className:"text-emerald-400 font-medium",children:"Lower Risk / Lower Leverage"}),r.jsx("span",{className:"text-red-400 font-medium",children:"Higher Risk / Higher Leverage"})]}),r.jsx("div",{className:"h-4 bg-gradient-to-r from-emerald-600 via-amber-500 to-red-600 rounded-full"}),r.jsx("div",{className:"flex justify-between mt-1",children:a.map(y=>r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"text-xs font-mono text-lotus-grey-300",children:[y.lltv,"%"]})},y.lltv))})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-3 px-4 text-lotus-grey-300 font-medium",children:"Tranche"}),r.jsx("th",{className:"text-center py-3 px-4 text-lotus-grey-300 font-medium",children:"LLTV"}),r.jsx("th",{className:"text-center py-3 px-4 text-lotus-grey-300 font-medium",children:"Max Leverage"}),r.jsx("th",{className:"text-center py-3 px-4 text-lotus-grey-300 font-medium",children:"Liquidation Buffer"}),r.jsx("th",{className:"text-center py-3 px-4 text-lotus-grey-300 font-medium",children:"Risk Profile"})]})}),r.jsx("tbody",{children:a.map((y,N)=>{const L=1/(1-y.lltv/100),M=100-y.lltv,z=N<2,R=N>=2&&N<4,A=z?"Lower":R?"Medium":"Higher",T=z?"text-emerald-400":R?"text-amber-400":"text-red-400",C=z?"bg-emerald-900/10":R?"bg-amber-900/10":"bg-red-900/10";return r.jsxs("tr",{className:`border-b border-lotus-grey-700/50 ${C}`,children:[r.jsxs("td",{className:"py-3 px-4 font-medium text-lotus-grey-100",children:[y.lltv,"% LLTV"]}),r.jsxs("td",{className:"py-3 px-4 text-center font-mono text-lotus-purple-400",children:[y.lltv,"%"]}),r.jsxs("td",{className:"py-3 px-4 text-center font-mono text-lotus-grey-200",children:[L.toFixed(1),"x"]}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-16 h-2 bg-lotus-grey-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${z?"bg-emerald-500":R?"bg-amber-500":"bg-red-500"}`,style:{width:`${M*4}%`}})}),r.jsxs("span",{className:"font-mono text-lotus-grey-300 text-xs",children:[M,"%"]})]})}),r.jsx("td",{className:`py-3 px-4 text-center font-medium ${T}`,children:A})]},y.lltv)})})]})}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-4",children:"Liquidation buffer = 100% - LLTV. This is the maximum collateral price drop you can sustain if borrowing at max LTV."}),r.jsxs(St,{show:!0,variant:"info",children:[r.jsx("strong",{children:"Why this matters:"})," Higher LLTV gives you more leverage, but leaves less room for error. A 95% LLTV position can be liquidated by just a 5% price drop, while a 75% LLTV position can withstand a 25% drop."]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:[r.jsx(Fe,{term:"health-factor",children:"Health Factor"})," Calculator"]}),r.jsxs("p",{className:"text-lotus-grey-300 mb-4",children:["Enter your position to see health metrics across ",r.jsx("span",{className:"text-lotus-purple-400 font-medium",children:"all tranches simultaneously"}),"."]}),r.jsx($o,{children:"Try the preset scenarios below, then adjust the values to see how collateral drops affect different tranches."}),r.jsxs("div",{className:"flex flex-wrap gap-3 my-4",children:[r.jsx("button",{onClick:()=>{h(1e4),g(7e3)},className:"px-4 py-2 bg-emerald-900/30 border border-emerald-700 rounded-lg text-emerald-300 hover:bg-emerald-900/50 transition-colors text-sm font-medium",children:"Safe Position"}),r.jsx("button",{onClick:()=>{h(1e4),g(8200)},className:"px-4 py-2 bg-amber-900/30 border border-amber-700 rounded-lg text-amber-300 hover:bg-amber-900/50 transition-colors text-sm font-medium",children:"At Risk"}),r.jsx("button",{onClick:()=>{h(1e4),g(9200)},className:"px-4 py-2 bg-red-900/30 border border-red-700 rounded-lg text-red-300 hover:bg-red-900/50 transition-colors text-sm font-medium",children:"Liquidatable"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-lotus-grey-300 mb-2",children:"Collateral Value (USD)"}),r.jsx("input",{type:"number",value:u,onChange:y=>h(Math.max(1,Number(y.target.value))),className:"w-full px-4 py-3 bg-lotus-grey-700 border border-lotus-grey-600 rounded-lg text-lotus-grey-100 font-mono text-lg focus:border-lotus-purple-500 focus:ring-1 focus:ring-lotus-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-lotus-grey-300 mb-2",children:"Debt Value (USD)"}),r.jsx("input",{type:"number",value:m,onChange:y=>g(Math.max(0,Number(y.target.value))),className:"w-full px-4 py-3 bg-lotus-grey-700 border border-lotus-grey-600 rounded-lg text-lotus-grey-100 font-mono text-lg focus:border-lotus-purple-500 focus:ring-1 focus:ring-lotus-purple-500"})]})]}),r.jsx("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"Your Current LTV"}),r.jsxs("span",{className:"text-2xl font-mono font-bold text-lotus-purple-400",children:[(m/u*100).toFixed(1),"%"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-3 px-3 text-lotus-grey-300 font-medium",children:"Tranche"}),r.jsx("th",{className:"text-center py-3 px-3 text-lotus-grey-300 font-medium",children:"LLTV"}),r.jsx("th",{className:"text-center py-3 px-3 text-lotus-grey-300 font-medium",children:"Health Factor"}),r.jsx("th",{className:"text-center py-3 px-3 text-lotus-grey-300 font-medium",children:"Status"}),r.jsx("th",{className:"text-center py-3 px-3 text-lotus-grey-300 font-medium",children:"Price Drop to Liquidation"}),r.jsx("th",{className:"text-center py-3 px-3 text-lotus-grey-300 font-medium",children:"Buffer to LLTV"})]})}),r.jsx("tbody",{children:p.map(y=>{const N=((y.healthFactor-1)*100).toFixed(1),L=y.isLiquidatable?"Liquidatable":y.isWarning?"At Risk":"Healthy",M=y.isLiquidatable?"text-red-400 bg-red-900/30":y.isWarning?"text-amber-400 bg-amber-900/30":"text-emerald-400 bg-emerald-900/30";return r.jsxs("tr",{className:`border-b border-lotus-grey-700/50 ${S(y.healthFactor)}`,children:[r.jsxs("td",{className:"py-3 px-3 font-medium text-lotus-grey-100",children:[y.lltv,"%"]}),r.jsxs("td",{className:"py-3 px-3 text-center font-mono text-lotus-purple-400",children:[y.lltv,"%"]}),r.jsx("td",{className:"py-3 px-3 text-center",children:r.jsx("span",{className:`text-lg font-mono font-bold ${w(y.healthFactor)}`,children:y.healthFactor.toFixed(2)})}),r.jsx("td",{className:"py-3 px-3 text-center",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M}`,children:L})}),r.jsx("td",{className:"py-3 px-3 text-center",children:y.priceDropToLiquidation>0?r.jsxs("span",{className:`font-mono ${y.priceDropToLiquidation<10?"text-red-400":y.priceDropToLiquidation<25?"text-amber-400":"text-emerald-400"}`,children:[y.priceDropToLiquidation.toFixed(1),"%"]}):r.jsx("span",{className:"text-red-400 font-mono",children:"-"})}),r.jsx("td",{className:"py-3 px-3 text-center",children:r.jsx("span",{className:`font-mono ${Number(N)>0?"text-emerald-400":"text-red-400"}`,children:Number(N)>0?`+${N}%`:`${N}%`})})]},y.lltv)})})]})}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-4",children:"Health Factor = LLTV / Current LTV. Values > 1 are healthy, < 1 means liquidatable."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs(St,{show:p.some(y=>y.isLiquidatable),variant:"warning",children:[r.jsx("strong",{children:"Liquidation Risk:"})," At this LTV, positions in the"," ",p.filter(y=>y.isLiquidatable).map(y=>`${y.lltv}%`).join(", ")," ","tranche(s) would be liquidatable. Junior tranches liquidate first because they have higher LLTVs."]}),r.jsxs(St,{show:p.every(y=>y.isHealthy&&!y.isWarning),variant:"success",children:[r.jsx("strong",{children:"Healthy Position:"})," This position is safe across all tranches. Even in the most aggressive 95% LLTV tranche, you have a buffer before liquidation."]}),r.jsxs(St,{show:p.some(y=>y.isWarning)&&!p.some(y=>y.isLiquidatable),variant:"info",children:[r.jsx("strong",{children:"Approaching Risk Zone:"})," Some tranches are showing health factors below 1.2. Consider reducing debt or adding collateral to increase your safety margin."]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"How Liquidation Protects Lenders"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Liquidation ensures lenders can recover their funds when borrower positions become risky."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-lotus-purple-400 font-bold",children:"1"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Detection"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Position flagged when LTV exceeds LLTV"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-lotus-purple-400 font-bold",children:"2"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Collateral Seized"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Liquidators repay debt & receive collateral at discount"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-lotus-purple-400 font-bold",children:"3"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Debt Cleared"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Borrower's debt removed from protocol"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-lotus-purple-400 font-bold",children:"4"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Bad Debt Absorbed"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Any shortfall absorbed by tranches via cascade"})]})]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:["Understanding ",r.jsx(Fe,{term:"bad-debt",children:"Bad Debt"})]}),r.jsx("div",{className:"bg-red-900/20 rounded-lg p-4 border border-red-700/50 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-300 mb-1",children:"What is Bad Debt?"}),r.jsx("p",{className:"text-sm text-red-200",children:"Bad debt occurs when a position's collateral value is less than the debt owed after liquidation. This shortfall must be absorbed by the protocol's lenders."})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-4",children:"Common Causes"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("svg",{className:"w-6 h-6 text-lotus-purple-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),r.jsx("h5",{className:"font-medium text-lotus-grey-100 mb-1",children:"Rapid Price Drops"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Price falls faster than liquidators can act"})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("svg",{className:"w-6 h-6 text-lotus-purple-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("h5",{className:"font-medium text-lotus-grey-100 mb-1",children:"Oracle Delays"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Price feeds lag behind actual market prices"})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("svg",{className:"w-6 h-6 text-lotus-purple-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})}),r.jsx("h5",{className:"font-medium text-lotus-grey-100 mb-1",children:"Low Liquidator Incentive"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Bonus doesn't cover gas and risk"})]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-5 border border-lotus-grey-600",children:[r.jsxs("h4",{className:"font-medium text-lotus-grey-200 mb-4",children:["How Bad Debt is Absorbed (",r.jsx(Fe,{term:"cascade",children:"Cascade"}),")"]}),r.jsxs("p",{className:"text-sm text-lotus-grey-300 mb-4",children:["Bad debt cascades ",r.jsx("span",{className:"text-lotus-purple-300 font-medium",children:"from senior to junior"})," (same direction as interest). At each tranche, bad debt is absorbed proportionally to ",r.jsx(Fe,{term:"supply-utilization",children:"supply utilization"}),"."]}),r.jsx("div",{className:"bg-lotus-grey-900/50 rounded-lg p-5 border border-lotus-grey-700",children:r.jsxs("div",{className:"flex flex-col items-center gap-3 max-w-md mx-auto",children:[r.jsxs("div",{className:"w-full bg-red-900/30 border-2 border-red-600 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-red-400 font-medium mb-1",children:"Bad Debt Event"}),r.jsx("div",{className:"text-sm text-red-200/70",children:"Occurs at any tranche"})]}),r.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),r.jsxs("div",{className:"w-full bg-emerald-900/30 border border-emerald-700 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-emerald-300 font-medium",children:"75% LLTV (Senior)"}),r.jsx("div",{className:"text-xs text-emerald-200/70",children:"Absorbs based on supply utilization"})]}),r.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),r.jsxs("div",{className:"w-full bg-amber-900/30 border border-amber-700 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-amber-300 font-medium",children:"85% LLTV (Mid)"}),r.jsx("div",{className:"text-xs text-amber-200/70",children:"Remaining cascades to junior"})]}),r.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),r.jsxs("div",{className:"w-full bg-red-900/30 border-2 border-red-600 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-red-300 font-medium",children:"95% LLTV (Junior)"}),r.jsx("div",{className:"text-sm text-red-200/70",children:"Absorbs 100% of remaining bad debt"})]})]})}),r.jsx("div",{className:"mt-5 p-4 bg-lotus-purple-900/20 border border-lotus-purple-700/50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-lotus-purple-200",children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:"Key insight:"})," Junior tranches bear more risk because they absorb whatever bad debt cascades to them from senior tranches. This is why they earn higher yields  risk and reward are aligned."]})})]})]}),c&&r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Bad Debt Simulation"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Explore how bad debt is absorbed by tranches. Enter bad debt amounts to see how losses cascade from senior to junior tranches."}),r.jsx(em,{tranches:c})]})]})}const rm=["1week","1month","3months","1year"];function nm({tranches:a,productiveDebtRate:c}){const[u,h]=V.useState("1month"),[m,g]=V.useState(!1),p=V.useMemo(()=>k0(a,u),[a,u]);return r.jsxs("div",{className:"space-y-4",children:[r.jsx(fr,{concepts:["cascade","supply-rate","supply-utilization"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Time Period:"}),r.jsx("div",{className:"flex gap-1",children:rm.map(w=>r.jsx("button",{onClick:()=>h(w),className:`px-3 py-1.5 text-sm rounded-md transition-colors
                  ${u===w?"bg-lotus-purple-600 text-white":"bg-lotus-grey-700 text-lotus-grey-300 hover:bg-lotus-grey-600"}`,children:Yu(w)},w))})]}),r.jsx("button",{onClick:()=>g(!m),className:`px-3 py-1.5 text-sm rounded-md transition-colors
            ${m?"bg-blue-600 text-white":"bg-lotus-grey-700 text-lotus-grey-300 hover:bg-lotus-grey-600"}`,children:m?"Hide Cascade":"Show Cascade"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border border-emerald-700",children:[r.jsx("div",{className:"text-sm text-emerald-400",children:"Total Interest Generated"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-emerald-300",children:["$",ve(p.totalInterestGenerated,2)]})]}),r.jsxs("div",{className:"bg-blue-900/30 rounded-lg p-4 border border-blue-700",children:[r.jsx("div",{className:"text-sm text-blue-400",children:"Total Interest Received"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-blue-300",children:["$",ve(p.totalInterestReceived,2)]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"text-sm text-lotus-grey-300",children:"Time Period"}),r.jsx("div",{className:"text-2xl font-semibold text-lotus-grey-200",children:Yu(u)})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(()=>{let w=0;const S=p.tranches.map((y,N)=>{const L=w,M=L+y.interestGenerated,z=a[N].supplyUtilization??1,R=M*(1-z);return w=R,{...y,cascadeIn:L,cascadeOut:R,supplyUtil:z}});return r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Tranche"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:"Supply Utilization"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-300 bg-emerald-900/30",children:"Interest Generated"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:"Interest Cascaded In"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-teal-300 bg-teal-900/30",children:"Interest Received"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-300 bg-orange-900/30",children:"Interest Cascaded Out"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Supply Rate"})]})}),r.jsx("tbody",{children:S.map((y,N)=>r.jsxs("tr",{className:"border-b border-lotus-grey-700/50 hover:bg-lotus-grey-700/30",children:[r.jsxs("td",{className:"py-2 px-2 font-medium text-lotus-grey-200 bg-lotus-grey-800",children:[y.lltv,"%"]}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-lotus-purple-400 bg-lotus-purple-900/20",children:we(y.supplyUtil,0)}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-emerald-400 bg-emerald-900/20",children:["$",ve(y.interestGenerated,2)]}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:["$",ve(y.cascadeIn,2)]}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono font-medium text-teal-300 bg-teal-900/20",children:["$",ve(y.interestReceived,2)]}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/20",children:N<S.length-1?`$${ve(y.cascadeOut,2)}`:"-"}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-lotus-grey-300 bg-lotus-grey-800/50",children:y.impliedSupplyRate!==null?we(c+y.impliedSupplyRate,2):"-"})]},y.index))})]})})()}),r.jsxs("div",{className:"bg-lotus-grey-900 rounded-lg p-3 text-sm text-lotus-grey-300",children:[r.jsx("code",{className:"font-mono",children:"intReceived = (cascadedIn + intGen)  supplyUtil"}),r.jsx("span",{className:"mx-2 text-lotus-grey-600",children:"|"}),r.jsx("code",{className:"font-mono",children:"cascadedOut = (cascadedIn + intGen)  (1 - supplyUtil)"})]}),m&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-3",children:"Interest Cascade Flow"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-4",children:"Interest flows from senior to junior tranches. At each level, lenders receive a share based on their supply utilization, and the remainder cascades to the next junior tranche."}),r.jsx(sm,{tranches:a,simulation:p})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-2",children:"How Interest Flows"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-lotus-grey-300 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Generation:"})," Each tranche generates interest = Borrow Amount  Borrow Rate  Time"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Cascade Start:"})," Starting from the most senior tranche (75% LLTV)"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Allocation:"})," At each tranche: Total Interest  Supply Utilization  allocated to lenders"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Cascade:"})," Remaining interest (1 - Supply Util) flows to the next junior tranche"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Final:"})," Most junior tranche (95% LLTV) receives 100% of cascaded interest"]})]})]})]})}function sm({tranches:a,simulation:c}){const u=V.useMemo(()=>{let m=0;return c.tranches.map((g,p)=>{const w=m+g.interestGenerated,S=a[p].supplyUtilization??1,y=w*S,N=w*(1-S);return m=N,{lltv:g.lltv,inFlow:w,allocated:y,outFlow:N,supplyUtil:S}})},[c,a]),h=Math.max(...u.map(m=>Math.max(m.inFlow,m.allocated)));return r.jsxs("div",{className:"space-y-2",children:[u.map((m,g)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"w-20 text-right text-sm font-medium text-lotus-grey-300",children:[m.lltv,"% LLTV"]}),r.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[m.inFlow>0&&r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"h-6 bg-blue-500 rounded-l flex items-center justify-end pr-1",style:{width:`${h>0?m.inFlow/h*100:0}px`,minWidth:m.inFlow>0?"20px":"0"},children:r.jsxs("span",{className:"text-xs text-white font-mono",children:["$",m.inFlow.toFixed(0)]})})}),r.jsxs("div",{className:"relative flex-shrink-0 w-32 bg-emerald-900/50 border border-emerald-700 rounded px-2 py-1 text-center",children:[r.jsxs("div",{className:"text-xs text-emerald-400",children:["Keeps ",we(m.supplyUtil,0)]}),r.jsxs("div",{className:"text-sm font-mono font-medium text-emerald-300",children:["$",m.allocated.toFixed(0)]})]}),g<u.length-1&&m.outFlow>0&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 text-lotus-grey-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r.jsx("div",{className:"h-4 bg-blue-400 rounded-r flex items-center justify-start pl-1",style:{width:`${h>0?m.outFlow/h*60:0}px`,minWidth:m.outFlow>0?"15px":"0"},children:r.jsxs("span",{className:"text-xs text-blue-100 font-mono",children:["$",m.outFlow.toFixed(0)]})})]})]})]},m.lltv)),r.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-lotus-grey-700",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"Interest Flowing"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 bg-emerald-600 border border-emerald-500 rounded"}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"Interest Allocated to Lenders"})]})]})]})}function lm({tranches:a,productiveDebtRate:c}){const u=V.useMemo(()=>a.map(m=>{const g=m.borrowRate,p=c+g,w=m.supplyAssets,S=m.borrowAssets,y=m.freeSupply,N=w>0?y/w:1,L=c+(m.supplyRate??0),M=w*(1-N),z=Math.min(S,Math.max(0,M)),R=w>0?(w-z)/w:1,A=w>0?z/w:0,T=p*A;return{lltv:m.lltv,borrowRate:p,supply:w,lotusBorrowAmount:S,lotusSupplyRate:L,lotusFreeSupply:y,lotusLiquidityPercent:N,isoBorrowAmount:z,isoSupplyRate:T,isoLiquidityPercent:R,borrowAmountDiff:S-z}}),[a,c]),h=V.useMemo(()=>{const m=u.reduce((y,N)=>y+N.supply,0),g=u.reduce((y,N)=>y+N.lotusBorrowAmount,0),p=u.reduce((y,N)=>y+N.isoBorrowAmount,0),w=u.reduce((y,N)=>y+N.lotusSupplyRate*N.supply,0)/m,S=u.reduce((y,N)=>y+N.isoSupplyRate*N.supply,0)/m;return{totalSupply:m,lotusTotalBorrow:g,isoTotalBorrow:p,borrowDiff:g-p,borrowDiffPercent:p>0?(g-p)/p:0,lotusAvgSupplyRate:w,isoAvgSupplyRate:S,supplyRateDiff:w-S}},[u]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-3",children:"What This Comparison Shows"}),r.jsxs("div",{className:"text-sm text-lotus-grey-300 space-y-2",children:[r.jsxs("p",{children:["We compare Lotus's connected liquidity to ",r.jsx("strong",{className:"text-lotus-grey-300",children:"hypothetical isolated markets"})," while holding ",r.jsx("strong",{className:"text-lotus-grey-300",children:"borrow rate"})," and ",r.jsx("strong",{className:"text-lotus-grey-300",children:"supply"})," constant at each LLTV."]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded p-3 border border-lotus-grey-700 my-3",children:[r.jsx("p",{className:"font-medium text-lotus-grey-200 mb-2",children:"Key Constraint:"}),r.jsxs("p",{className:"text-sm text-lotus-grey-300",children:["To maintain the same ",r.jsx("strong",{className:"text-lotus-grey-300",children:"lender liquidity"})," (% of supply that can be withdrawn instantly), isolated markets must limit how much can be borrowed."]}),r.jsxs("div",{className:"font-mono text-xs mt-2 space-y-1 text-lotus-grey-300",children:[r.jsx("p",{children:"Lotus liquidity = freeSupply  supply"}),r.jsx("p",{children:"Isolated liquidity = (supply  borrow)  supply"}),r.jsx("p",{className:"text-emerald-400",children:" isoBorrow = min(demand, supply  (1  freeSupply  supply))"})]})]}),r.jsx("p",{className:"font-medium text-lotus-grey-200",children:"Result:"}),r.jsxs("p",{children:["Isolated markets support ",r.jsx("strong",{className:"text-lotus-grey-300",children:"less borrowing"})," and therefore generate",r.jsx("strong",{className:"text-lotus-grey-300",children:" lower supply rates"})," for lenders, even at the same borrow rate."]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-lotus-purple-900/30 rounded-lg p-4 border border-lotus-purple-700/50",children:[r.jsx("div",{className:"text-xs text-lotus-purple-300",children:"Lotus Total Borrow"}),r.jsxs("div",{className:"text-xl font-mono font-semibold text-lotus-purple-300",children:["$",ve(h.lotusTotalBorrow,0)]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Isolated Total Borrow"}),r.jsxs("div",{className:"text-xl font-mono font-semibold text-lotus-grey-300",children:["$",ve(h.isoTotalBorrow,0)]})]}),r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border border-emerald-700/50",children:[r.jsx("div",{className:"text-xs text-emerald-400",children:"Lotus Avg Supply Rate"}),r.jsx("div",{className:"text-xl font-mono font-semibold text-emerald-300",children:we(h.lotusAvgSupplyRate,2)})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Isolated Avg Supply Rate"}),r.jsx("div",{className:"text-xl font-mono font-semibold text-lotus-grey-300",children:we(h.isoAvgSupplyRate,2)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"bg-lotus-purple-900/20 rounded-lg p-3 border border-lotus-purple-700/50",children:r.jsxs("div",{className:"text-sm text-lotus-purple-300",children:[r.jsx("strong",{children:"More Borrowing:"})," Lotus enables"," ",r.jsxs("span",{className:"font-mono",children:["$",ve(h.borrowDiff,0)]})," ","(",we(h.borrowDiffPercent,0),") more borrowing at the same liquidity level"]})}),r.jsx("div",{className:"bg-emerald-900/20 rounded-lg p-3 border border-emerald-700/50",children:r.jsxs("div",{className:"text-sm text-emerald-300",children:[r.jsx("strong",{children:"Higher Yield:"})," Lenders earn"," ",r.jsx("span",{className:"font-mono",children:we(h.supplyRateDiff,2)})," ","more on average due to higher utilization"]})})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-4",children:"Rates by LLTV"}),r.jsx(om,{data:u})]}),r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg border border-lotus-grey-700 overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700 bg-lotus-grey-800",children:[r.jsx("th",{className:"text-left py-2 px-3 font-semibold text-lotus-grey-300",children:"LLTV"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-lotus-grey-300",children:"Borrow Rate"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-lotus-grey-300",children:"Supply"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-lotus-purple-300",children:"Lotus Borrow"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-lotus-grey-300",children:"Iso Borrow"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-lotus-purple-300",children:"Liquidity %"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-emerald-400",children:"Lotus Supply Rate"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold text-lotus-grey-300",children:"Iso Supply Rate"})]})}),r.jsx("tbody",{children:u.map(m=>r.jsxs("tr",{className:"border-b border-lotus-grey-700 hover:bg-lotus-grey-700/30",children:[r.jsxs("td",{className:"py-2 px-3 font-medium text-lotus-grey-300",children:[m.lltv,"%"]}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-lotus-grey-300",children:we(m.borrowRate,2)}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono text-lotus-grey-300",children:["$",ve(m.supply,0)]}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono text-lotus-purple-300",children:["$",ve(m.lotusBorrowAmount,0)]}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono text-lotus-grey-300",children:["$",ve(m.isoBorrowAmount,0)]}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-lotus-purple-300",children:we(m.lotusLiquidityPercent,0)}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-emerald-400",children:we(m.lotusSupplyRate,2)}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-lotus-grey-300",children:we(m.isoSupplyRate,2)})]},m.lltv))})]})}),r.jsx("div",{className:"bg-lotus-grey-700/50 rounded-lg p-3 text-sm text-lotus-grey-300",children:r.jsxs("div",{className:"font-mono text-xs space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Borrow Rate:"})," baseRate + spread (constant for both)"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Iso Borrow:"})," min(lotusBorrow, supply  (1  freeSupply  supply))"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Iso Supply Rate:"})," (baseRate + spread)  (isoBorrow  supply)"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Lotus Supply Rate:"})," from cascade mechanism (includes base rate)"]})]})}),r.jsxs("div",{className:"bg-amber-900/20 rounded-lg p-4 border border-amber-700/50",children:[r.jsx("h4",{className:"font-medium text-amber-300 mb-3",children:"Why Isolated Markets Can't Efficiently Serve High-Risk Borrowers"}),r.jsxs("div",{className:"text-sm text-amber-200/80 space-y-3",children:[r.jsxs("p",{children:["In practice, isolated lending markets converge toward a ",r.jsx("strong",{className:"text-amber-300",children:"single equilibrium LLTV per asset pair"}),". This is a game-theoretical result:"]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[r.jsxs("li",{children:[r.jsx("strong",{className:"text-amber-300",children:"Lenders concentrate in the safest market"}),"  Given a choice between isolated markets at 75%, 80%, 85%, etc., risk-averse lenders prefer the lower LLTV for less default exposure."]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-amber-300",children:"Liquidity fragments and dries up"}),"  With lenders concentrated in safe tiers, higher-LLTV markets have insufficient supply, driving up rates until borrowing becomes uneconomical."]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-amber-300",children:"Equilibrium: one market wins"}),"  The market converges to a single LLTV that balances lender risk appetite with borrower demand. Higher-risk tiers simply don't exist in equilibrium."]})]}),r.jsx("p",{className:"font-medium text-amber-300 mt-3",children:"Lotus solves this by pooling liquidity across tranches. Lenders at any LLTV benefit from the full stack's liquidity, enabling sustainable markets at higher LLTVs (85%, 90%, 95%) that would be impossible with isolated pools."})]})]})]})}function om({data:a}){const h={top:30,right:140,bottom:50,left:60},m=600-h.left-h.right,g=320-h.top-h.bottom;let p=1/0,w=0;for(const C of a)p=Math.min(p,C.isoSupplyRate,C.lotusSupplyRate),w=Math.max(w,C.borrowRate,C.lotusSupplyRate,C.isoSupplyRate);p=Math.max(0,p-.005),w=w+.01;const S=a.map(C=>C.lltv),y=Math.min(...S),L=Math.max(...S)-y,M=C=>h.left+(C-y)/L*m,z=C=>h.top+g-(C-p)/(w-p)*g,R=C=>`M${a.map(H=>`${M(H.lltv)},${z(C(H))}`).join(" L")}`,A=6,T=Array.from({length:A},(C,I)=>p+I/(A-1)*(w-p));return r.jsx("div",{children:r.jsxs("svg",{width:600,height:320,className:"overflow-visible mx-auto block",children:[T.map((C,I)=>r.jsx("line",{x1:h.left,y1:z(C),x2:600-h.right,y2:z(C),stroke:"#27232F",strokeWidth:"1"},`y-grid-${I}`)),r.jsx("path",{d:R(C=>C.borrowRate),fill:"none",stroke:"#f97316",strokeWidth:"2.5"}),r.jsx("path",{d:R(C=>C.lotusSupplyRate),fill:"none",stroke:"#10b981",strokeWidth:"2.5"}),r.jsx("path",{d:R(C=>C.isoSupplyRate),fill:"none",stroke:"#736D7F",strokeWidth:"2",strokeDasharray:"6,4"}),a.map(C=>r.jsxs("g",{children:[r.jsx("circle",{cx:M(C.lltv),cy:z(C.borrowRate),r:"4",fill:"#f97316"}),r.jsx("circle",{cx:M(C.lltv),cy:z(C.lotusSupplyRate),r:"4",fill:"#10b981"}),r.jsx("circle",{cx:M(C.lltv),cy:z(C.isoSupplyRate),r:"3",fill:"#736D7F"})]},C.lltv)),r.jsx("line",{x1:h.left,y1:h.top,x2:h.left,y2:320-h.bottom,stroke:"#736D7F",strokeWidth:"1"}),r.jsx("line",{x1:h.left,y1:320-h.bottom,x2:600-h.right,y2:320-h.bottom,stroke:"#736D7F",strokeWidth:"1"}),T.map((C,I)=>r.jsxs("text",{x:h.left-8,y:z(C),textAnchor:"end",dominantBaseline:"middle",className:"text-xs fill-lotus-grey-400",children:[(C*100).toFixed(1),"%"]},`y-label-${I}`)),S.map(C=>r.jsxs("text",{x:M(C),y:320-h.bottom+16,textAnchor:"middle",className:"text-xs fill-lotus-grey-400",children:[C,"%"]},`x-label-${C}`)),r.jsx("text",{x:(h.left+600-h.right)/2,y:312,textAnchor:"middle",className:"text-xs fill-lotus-grey-300 font-medium",children:"LLTV"}),r.jsx("text",{x:16,y:320/2,textAnchor:"middle",transform:`rotate(-90, 16, ${320/2})`,className:"text-xs fill-lotus-grey-300 font-medium",children:"Rate (APR)"}),r.jsxs("g",{transform:`translate(${600-h.right+10}, ${h.top+20})`,children:[r.jsxs("g",{children:[r.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"#f97316",strokeWidth:"2.5"}),r.jsx("circle",{cx:"10",cy:"0",r:"3",fill:"#f97316"}),r.jsx("text",{x:"28",y:"0",dominantBaseline:"middle",className:"text-xs fill-lotus-grey-300",children:"Borrow Rate"})]}),r.jsxs("g",{transform:"translate(0, 24)",children:[r.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"#10b981",strokeWidth:"2.5"}),r.jsx("circle",{cx:"10",cy:"0",r:"3",fill:"#10b981"}),r.jsx("text",{x:"28",y:"0",dominantBaseline:"middle",className:"text-xs fill-lotus-grey-300",children:"Lotus Supply"})]}),r.jsxs("g",{transform:"translate(0, 48)",children:[r.jsx("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:"#736D7F",strokeWidth:"2",strokeDasharray:"4,3"}),r.jsx("circle",{cx:"10",cy:"0",r:"3",fill:"#736D7F"}),r.jsx("text",{x:"28",y:"0",dominantBaseline:"middle",className:"text-xs fill-lotus-grey-300",children:"Iso Supply"})]})]})]})})}const im=`
This visualization shows the Dynamic Loan Mix - how each lender tranche's supply
is allocated across borrower tranches. Junior tranche supply can fund borrowers
in their own tranche and all more senior tranches. The allocation follows the
cascading logic where unutilized liquidity flows to more senior tranches.
`.trim();function am(a,c=!0){const u=a.length,h=ld(a,c),m=od(a),g=id(h,m),p=ad(g,a),w=Array.from({length:u},()=>new Array(u).fill(0)),S=new Array(u).fill(0);for(let L=0;L<u;L++){const M=a[L].supplyAssets+(c?a[L].pendingInterest:0);if(M===0)continue;let z=M;for(let R=L;R>=0&&!(z<=0);R--){if(p[R]<=0)continue;const A=a[R].borrowAssets;if(A<=0)continue;const C=z/p[R]*A,I=C/M;w[R][L]=I,S[L]+=I,z-=C}}const y=[];let N=0;for(let L=0;L<u;L++){const M=a[L].supplyAssets+(c?a[L].pendingInterest:0);for(let z=0;z<u;z++){const R=w[z][L];if(R>0){const A=R*M,T=a[z].borrowAssets;y.push({lenderIndex:L,borrowerIndex:z,amount:A,percentOfLenderSupply:R,percentOfBorrowerBorrow:T>0?A/T:0}),N+=A}}}return{matrix:w,entries:y,totalFunded:N,capitalAllocated:S}}function um(a){let c=0;for(const u of a)for(const h of u)h>c&&(c=h);return c}const Xu=["#8E62FF","#C4B2FF","#10b981","#f97316","#3b82f6"];function dm({tranches:a,includePendingInterest:c}){var ne,fe,he,Me,Ue,ot,De;const[u,h]=V.useState(null),[m,g]=V.useState(!1),[p,w]=V.useState(!1),[S,y]=V.useState(0),[N,L]=V.useState(0),M=V.useMemo(()=>am(a,c),[a,c]),z=V.useMemo(()=>um(M.matrix),[M.matrix]);V.useEffect(()=>{u&&(y(u.borrowerIdx),L(u.lenderIdx))},[u]);const R=V.useMemo(()=>{var pe;const X=S,J=((pe=a[X])==null?void 0:pe.borrowAssets)||0;if(J===0)return[];const xe=[];for(let ae=X;ae<a.length;ae++){const ce=a[ae].supplyAssets+(c?a[ae].pendingInterest:0),F=M.matrix[X][ae]*ce;F>0&&xe.push({trancheIdx:ae,lltv:a[ae].lltv,percent:F/J})}return xe},[a,M.matrix,S,c]),A=V.useMemo(()=>{var ae;const X=N,J=[];for(let ce=0;ce<=X;ce++){const me=M.matrix[ce][X];me>0&&J.push({trancheIdx:ce,lltv:a[ce].lltv,percent:me})}const pe=1-(((ae=M.capitalAllocated)==null?void 0:ae[X])||0);return pe>.001&&J.push({trancheIdx:-1,lltv:0,percent:pe,isUnallocated:!0}),J},[a,M.matrix,N,M.capitalAllocated]),T=X=>{if(X===0)return"bg-lotus-grey-800";const J=Math.sqrt(X/Math.max(z,.01));return J>.8?"bg-lotus-purple-500 text-white":J>.6?"bg-lotus-purple-500/80 text-white":J>.4?"bg-lotus-purple-500/60 text-white":J>.2?"bg-lotus-purple-500/40 text-lotus-grey-100":"bg-lotus-purple-500/20 text-lotus-grey-200"},C=(X,J)=>{const xe=M.matrix[J][X];h({lenderIdx:X,borrowerIdx:J,percent:xe,lenderLltv:a[X].lltv,borrowerLltv:a[J].lltv})};if(a.length===0)return null;const I=Zu(R),H=Zu(A);return r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-lotus-grey-200",children:"Dynamic Loan Mix"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>w(!p),className:"text-xs text-lotus-purple-400 hover:text-lotus-purple-300 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:p?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})}),p?"Hide":"Show"," Calculation Details"]}),r.jsxs("button",{onClick:()=>g(!m),className:"text-xs text-lotus-grey-300 hover:text-lotus-grey-300 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"About"]})]})]}),m&&r.jsx("div",{className:"mb-4 p-3 bg-lotus-grey-700/50 border border-lotus-grey-600 rounded-lg text-xs text-lotus-grey-300",children:im}),p&&r.jsxs("div",{className:"mb-4 p-4 bg-lotus-purple-900/20 border border-lotus-purple-700/50 rounded-lg text-xs text-lotus-grey-300 space-y-3",children:[r.jsxs("div",{children:[r.jsx("strong",{className:"text-lotus-purple-300",children:"Matrix Calculation:"}),r.jsxs("p",{className:"mt-1",children:["Each cell shows what percentage of a ",r.jsx("em",{children:"lender tranche's supply"})," is allocated to fund a ",r.jsx("em",{children:"borrower tranche"}),". The calculation cascades from junior to senior: each lender's supply first funds their own tranche's borrowers, then any remaining supply cascades to fund more senior tranches proportionally."]}),r.jsx("p",{className:"mt-1 font-mono text-xs bg-lotus-grey-800 px-2 py-1 rounded border border-lotus-grey-700",children:"matrix[borrower][lender] = (lender's share of available supply)  (borrower's borrow) / (lender's supply)"})]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-lotus-purple-300",children:"Borrower Perspective (left pie):"}),r.jsx("p",{className:"mt-1",children:"Shows where a borrower's funds come from. For each lender that can fund this borrower (same or more junior tranche):"}),r.jsx("p",{className:"mt-1 font-mono text-xs bg-lotus-grey-800 px-2 py-1 rounded border border-lotus-grey-700",children:"% from lender = (matrix[borrower][lender]  lender's supply) / borrower's total borrow"})]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-lotus-purple-300",children:"Lender Perspective (right pie):"}),r.jsx("p",{className:"mt-1",children:`Shows where a lender's supply goes. This is simply the column values from the matrix for that lender. The "Allocated" row shows the total % of supply actively funding loans.`}),r.jsx("p",{className:"mt-1 font-mono text-xs bg-lotus-grey-800 px-2 py-1 rounded border border-lotus-grey-700",children:"% to borrower = matrix[borrower][lender] (directly from matrix)"})]})]}),r.jsxs("div",{className:"flex gap-6 flex-wrap",children:[r.jsxs("div",{children:[r.jsxs("table",{className:"text-xs",children:[r.jsxs("thead",{children:[r.jsxs("tr",{children:[r.jsx("th",{className:"w-6"}),r.jsx("th",{className:"p-2"}),r.jsx("th",{colSpan:a.length,className:"p-2 text-center text-lotus-grey-300 font-medium border-b border-lotus-grey-700",children:"Lender Tranche (supply source) "})]}),r.jsxs("tr",{children:[r.jsx("th",{className:"w-6"}),r.jsx("th",{className:"p-2"}),a.map((X,J)=>r.jsxs("th",{className:`px-4 py-2 text-center font-medium cursor-pointer transition-colors
                      ${N===J?"text-lotus-purple-300 bg-lotus-purple-900/30":"text-lotus-grey-300 hover:bg-lotus-grey-700/50"}`,onClick:()=>L(J),children:[X.lltv,"%"]},J))]})]}),r.jsxs("tbody",{children:[a.map((X,J)=>r.jsxs("tr",{children:[J===0&&r.jsx("th",{rowSpan:a.length,className:"pr-1 text-lotus-grey-300 font-medium text-xs",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:" Borrower"}),r.jsxs("th",{className:`px-3 py-2 text-right font-medium cursor-pointer transition-colors
                      ${S===J?"text-lotus-purple-300 bg-lotus-purple-900/30":"text-lotus-grey-300 hover:bg-lotus-grey-700/50"}`,onClick:()=>y(J),children:[X.lltv,"%"]}),a.map((xe,pe)=>{const ae=M.matrix[J][pe],ce=J<=pe,me=(u==null?void 0:u.lenderIdx)===pe&&(u==null?void 0:u.borrowerIdx)===J,F=S===J&&N===pe;return r.jsx("td",{className:`px-4 py-2 text-center transition-all duration-150 cursor-pointer
                          ${ce?T(ae):"bg-lotus-grey-900 text-lotus-grey-600 cursor-not-allowed"}
                          ${me||F?"ring-2 ring-lotus-purple-500 ring-inset":""}`,onMouseEnter:()=>ce&&C(pe,J),onMouseLeave:()=>h(null),onClick:()=>{ce&&(y(J),L(pe))},title:ce?void 0:"Cannot fund: lender is senior to borrower",children:ce?ae>0?we(ae):"-":r.jsx("span",{className:"text-lotus-grey-600",children:""})},pe)})]},J)),r.jsxs("tr",{className:"border-t-2 border-lotus-grey-600",children:[r.jsx("td",{}),r.jsx("th",{className:"px-3 py-2 text-right font-medium text-emerald-400 whitespace-nowrap",children:"Allocated"}),(ne=M.capitalAllocated)==null?void 0:ne.map((X,J)=>r.jsx("td",{className:"px-4 py-2 text-center font-mono text-emerald-400 bg-emerald-900/20",children:we(X)},J))]})]})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"Color scale:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-3 bg-lotus-purple-500/20 rounded"}),r.jsx("div",{className:"w-4 h-3 bg-lotus-purple-500/40 rounded"}),r.jsx("div",{className:"w-4 h-3 bg-lotus-purple-500/70 rounded"}),r.jsx("div",{className:"w-4 h-3 bg-lotus-purple-500 rounded"})]}),r.jsx("span",{className:"text-lotus-grey-300",children:"Low  High"})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"flex-shrink-0",children:[r.jsx("div",{className:"text-xs font-semibold text-lotus-grey-200 mb-1",children:"Borrower Perspective"}),r.jsxs("div",{className:"text-xs text-lotus-grey-300 mb-2",children:["Where does ",(fe=a[S])==null?void 0:fe.lltv,"% borrow come from?"]}),((he=a[S])==null?void 0:he.borrowAssets)>0?r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ed,{slices:I,size:120}),r.jsx(td,{slices:I})]}):r.jsxs("div",{className:"text-xs text-lotus-grey-300 italic py-8",children:["No borrows in ",(Me=a[S])==null?void 0:Me.lltv,"% tranche"]})]}),r.jsxs("div",{className:"flex-shrink-0",children:[r.jsx("div",{className:"text-xs font-semibold text-lotus-grey-200 mb-1",children:"Lender Perspective"}),r.jsxs("div",{className:"text-xs text-lotus-grey-300 mb-2",children:["Where does ",(Ue=a[N])==null?void 0:Ue.lltv,"% supply go?"]}),H.length>0?r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ed,{slices:H,size:120}),r.jsx(td,{slices:H})]}):r.jsxs("div",{className:"text-xs text-lotus-grey-300 italic py-8",children:["No supply allocated from ",(ot=a[N])==null?void 0:ot.lltv,"% tranche"]}),r.jsxs("div",{className:"mt-2 text-xs text-lotus-grey-300",children:["Total allocated: ",r.jsx("span",{className:"font-mono font-medium text-emerald-400",children:we(((De=M.capitalAllocated)==null?void 0:De[N])||0)})]})]})]})]})]})}function Zu(a){let h=-Math.PI/2;return a.map(m=>{const g=h,p=m.percent*2*Math.PI;h+=p;const w=h,S=60+50*Math.cos(g),y=60+50*Math.sin(g),N=60+50*Math.cos(w),L=60+50*Math.sin(w),M=p>Math.PI?1:0,z=m.percent>=.9999?`M 60 10 A 50 50 0 1 1 ${60-.01} 10 Z`:`M 60 60 L ${S} ${y} A 50 50 0 ${M} 1 ${N} ${L} Z`;return{...m,path:z,color:m.isUnallocated?"#27232F":Xu[m.trancheIdx%Xu.length],isUnallocated:m.isUnallocated}})}function ed({slices:a,size:c}){return r.jsxs("svg",{width:c,height:c,viewBox:"0 0 120 120",className:"flex-shrink-0",children:[r.jsx("defs",{children:r.jsxs("pattern",{id:"stripes",patternUnits:"userSpaceOnUse",width:"6",height:"6",patternTransform:"rotate(45)",children:[r.jsx("rect",{width:"3",height:"6",fill:"#27232F"}),r.jsx("rect",{x:"3",width:"3",height:"6",fill:"#191621"})]})}),a.map((u,h)=>r.jsx("path",{d:u.path,fill:u.isUnallocated?"url(#stripes)":u.color,stroke:u.isUnallocated?"#736D7F":"none",strokeWidth:u.isUnallocated?1:0,className:"transition-opacity hover:opacity-80",children:r.jsxs("title",{children:[u.isUnallocated?"Unallocated":`${u.lltv}%`,": ",we(u.percent)]})},h))]})}function td({slices:a}){return r.jsxs("div",{className:"text-xs space-y-1",children:[a.map((c,u)=>r.jsxs("div",{className:"flex items-center gap-2",children:[c.isUnallocated?r.jsxs("svg",{width:"10",height:"10",className:"flex-shrink-0",children:[r.jsx("defs",{children:r.jsxs("pattern",{id:`legend-stripes-${u}`,patternUnits:"userSpaceOnUse",width:"4",height:"4",patternTransform:"rotate(45)",children:[r.jsx("rect",{width:"2",height:"4",fill:"#27232F"}),r.jsx("rect",{x:"2",width:"2",height:"4",fill:"#191621"})]})}),r.jsx("rect",{width:"10",height:"10",rx:"2",fill:`url(#legend-stripes-${u})`,stroke:"#736D7F",strokeWidth:"0.5"})]}):r.jsx("div",{className:"w-2.5 h-2.5 rounded-sm flex-shrink-0",style:{backgroundColor:c.color}}),r.jsxs("span",{className:"text-lotus-grey-300",children:[c.isUnallocated?"Unallocated":`${c.lltv}%`,":"]}),r.jsx("span",{className:"font-mono text-lotus-grey-300",children:we(c.percent)})]},u)),a.length===0&&r.jsx("div",{className:"text-lotus-grey-300 italic",children:"None"})]})}function cm({tranches:a,productiveDebtRate:c}){const u=V.useMemo(()=>{let I=0;return a.forEach(H=>{const ne=c+H.borrowRate,fe=H.supplyRate!==null?c+H.supplyRate:null;ne>I&&(I=ne),fe!==null&&fe>I&&(I=fe)}),I=Math.max(I*1.2,.05),{maxRate:I}},[a,c]);if(a.length===0)return null;const h=500,m=200,g=50,p=20,w=20,S=40,y=h-g-p,N=m-w-S,L=y/(a.length-1||1),M=I=>g+I*L,z=I=>w+N-I/u.maxRate*N,R=a.map((I,H)=>({x:M(H),y:z(c+I.borrowRate),totalRate:c+I.borrowRate})),A=a.map((I,H)=>I.supplyRate!==null?{x:M(H),y:z(c+I.supplyRate),totalRate:c+I.supplyRate}:null).filter(I=>I!==null),T=I=>I.length===0?"":I.map((H,ne)=>`${ne===0?"M":"L"} ${H.x} ${H.y}`).join(" "),C=[0,.25,.5,.75,1].map(I=>I*u.maxRate);return r.jsx("div",{className:"bg-lotus-grey-900 rounded-xl p-4 border border-lotus-grey-700",children:r.jsxs("div",{className:"flex gap-6 items-start",children:[r.jsxs("svg",{width:h,height:m,className:"overflow-visible",children:[r.jsx("rect",{x:g,y:w,width:y,height:N,fill:"#191621",rx:"4"}),C.map((I,H)=>r.jsxs("g",{children:[r.jsx("line",{x1:g,y1:z(I),x2:h-p,y2:z(I),stroke:"#27232F",strokeWidth:1}),r.jsx("text",{x:g-8,y:z(I),textAnchor:"end",alignmentBaseline:"middle",className:"text-xs fill-lotus-grey-500",children:we(I)})]},H)),a.map((I,H)=>r.jsxs("text",{x:M(H),y:m-S+20,textAnchor:"middle",className:"text-xs fill-lotus-grey-400 font-medium",children:[I.lltv,"%"]},H)),r.jsx("text",{x:g+y/2,y:m-5,textAnchor:"middle",className:"text-xs fill-lotus-grey-500",children:"LLTV"}),r.jsx("path",{d:T(R),fill:"none",stroke:"#f97316",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),A.length>0&&r.jsx("path",{d:T(A),fill:"none",stroke:"#14b8a6",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),R.map((I,H)=>r.jsxs("g",{children:[r.jsx("circle",{cx:I.x,cy:I.y,r:5,fill:"#f97316",className:"cursor-pointer"}),r.jsxs("title",{children:["Total Borrow Rate: ",we(I.totalRate)]})]},`borrow-${H}`)),A.map((I,H)=>r.jsxs("g",{children:[r.jsx("circle",{cx:I.x,cy:I.y,r:5,fill:"#14b8a6",className:"cursor-pointer"}),r.jsxs("title",{children:["Total Supply Rate: ",we(I.totalRate)]})]},`supply-${H}`))]}),r.jsxs("div",{className:"flex flex-col gap-2 text-xs pt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-0.5 bg-orange-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Total Borrow Rate"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-0.5 bg-teal-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Total Supply Rate"})]}),r.jsxs("div",{className:"text-lotus-grey-300 mt-1 text-[10px]",children:["(includes ",we(c)," PD rate)"]})]})]})})}const Us=[{name:"Conservative",description:"Prioritizes capital preservation with majority allocation to senior tranches.",allocations:[{lltv:75,percent:60},{lltv:80,percent:20},{lltv:85,percent:15},{lltv:90,percent:5},{lltv:95,percent:0}],riskScore:2},{name:"Balanced",description:"Balanced exposure across tranches for moderate risk/reward.",allocations:[{lltv:75,percent:30},{lltv:80,percent:25},{lltv:85,percent:25},{lltv:90,percent:15},{lltv:95,percent:5}],riskScore:5},{name:"Aggressive",description:"Maximizes yield by concentrating in junior tranches.",allocations:[{lltv:75,percent:10},{lltv:80,percent:15},{lltv:85,percent:25},{lltv:90,percent:30},{lltv:95,percent:20}],riskScore:8}];function mm({tranches:a,productiveDebtRate:c}){const[u,h]=V.useState("Balanced"),[m,g]=V.useState({75:30,80:25,85:25,90:15,95:5}),[p,w]=V.useState(!1),S=V.useMemo(()=>{if(p)return Object.entries(m).map(([A,T])=>({lltv:parseInt(A),percent:T}));const R=Us.find(A=>A.name===u);return(R==null?void 0:R.allocations)||[]},[p,m,u]),y=V.useMemo(()=>S.reduce((R,A)=>R+A.percent,0),[S]),N=V.useMemo(()=>{let R=0;for(const A of S){const T=a.find(C=>C.lltv===A.lltv);if(T&&T.supplyRate!==null){const C=c+T.supplyRate;R+=C*(A.percent/100)}}return R},[S,a,c]),L=V.useMemo(()=>{var R;if(p){let A=0;for(const T of S){const C=(T.lltv-70)/5;A+=C*(T.percent/100)}return Math.min(10,Math.max(0,A))}return((R=Us.find(A=>A.name===u))==null?void 0:R.riskScore)||5},[p,S,u]),M=(R,A)=>{w(!0),g(T=>({...T,[R]:Math.max(0,Math.min(100,A))}))},z=R=>{h(R),w(!1);const A=Us.find(T=>T.name===R);if(A){const T={};A.allocations.forEach(C=>{T[C.lltv]=C.percent}),g(T)}};return r.jsxs("div",{className:"space-y-8",children:[r.jsx(fr,{concepts:["vault-manager","tranche-seniority","lltv"]}),r.jsx("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:r.jsxs("p",{className:"text-sm text-lotus-purple-200",children:["Vaults are smart contracts that aggregate user deposits and deploy them across tranches according to a strategy. ",r.jsx(Fe,{term:"vault-manager",children:"Vault managers"})," make allocation decisions so depositors can earn yield without actively managing positions."]})}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"How Vaults Work"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center mb-3",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"1. Deposit"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Users deposit loan tokens (e.g., LotusUSD) into a vault and receive vault shares."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center mb-3",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"2. Allocate"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Vault manager allocates deposits across tranches based on the vault's strategy."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center mb-3",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"3. Earn Yield"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Interest earned accrues to the vault. Vault shares appreciate in value over time."})]})]}),r.jsx("div",{className:"bg-lotus-grey-900/50 rounded-lg p-6 border border-lotus-grey-700",children:r.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-lg mx-auto",children:[r.jsxs("div",{className:"w-full bg-blue-900/30 border-2 border-blue-600 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("span",{className:"text-lg font-semibold text-blue-300",children:"User Deposits USDC"})]}),r.jsx("p",{className:"text-sm text-blue-200/70",children:"Auto-converted to LotusUSD"})]}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"w-full bg-lotus-purple-900/30 border-2 border-lotus-purple-600 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-6 h-6 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),r.jsx("span",{className:"text-lg font-semibold text-lotus-purple-300",children:"Vault"})]}),r.jsx("p",{className:"text-sm text-lotus-purple-200/70",children:"Aggregates all deposits"})]}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"w-full bg-amber-900/30 border-2 border-amber-600 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsxs("svg",{className:"w-6 h-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-lg font-semibold text-amber-300",children:"Vault Manager"})]}),r.jsx("p",{className:"text-sm text-amber-200/70",children:"Allocates across tranches"})]}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("span",{className:"text-sm font-medium text-emerald-400",children:[r.jsx(Fe,{term:"tranche-seniority",children:"Senior"})," (Lower Risk)"]}),r.jsx("span",{className:"text-sm font-medium text-red-400",children:"Junior (Higher Yield)"})]}),r.jsx("div",{className:"flex items-center gap-2",children:[75,80,85,90,95].map((R,A)=>{const T=["bg-emerald-900/40 border-emerald-600","bg-emerald-900/30 border-emerald-700","bg-amber-900/30 border-amber-700","bg-orange-900/30 border-orange-700","bg-red-900/30 border-red-700"],C=["text-emerald-300","text-emerald-400","text-amber-400","text-orange-400","text-red-400"];return r.jsx("div",{className:`flex-1 py-3 rounded-lg border-2 text-center ${T[A]}`,children:r.jsxs("div",{className:`font-mono font-semibold ${C[A]}`,children:[R,"%"]})},R)})})]})]})})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Allocation Strategies"}),r.jsx("p",{className:"text-lotus-grey-300 mb-4",children:"Vault managers choose strategies based on risk tolerance. Compare strategies or customize your own allocation."}),r.jsx($o,{children:"Click each strategy card to see how APY and risk change. Then try adjusting the sliders to create your own allocation."}),r.jsx("div",{className:"h-4"}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:Us.map(R=>{const A=u===R.name&&!p,T=R.allocations.reduce((C,I)=>{const H=a.find(ne=>ne.lltv===I.lltv);if(H&&H.supplyRate!==null){const ne=c+H.supplyRate;return C+ne*(I.percent/100)}return C},0);return r.jsxs("button",{onClick:()=>z(R.name),className:`p-5 rounded-xl border-2 text-left transition-all ${A?"bg-lotus-purple-900/30 border-lotus-purple-500 shadow-lg shadow-lotus-purple-500/20":"bg-lotus-grey-700/30 border-lotus-grey-600 hover:border-lotus-purple-500/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-lg font-semibold text-lotus-grey-100",children:R.name}),A&&r.jsx("div",{className:"w-6 h-6 bg-lotus-purple-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-2xl font-mono font-bold text-emerald-400",children:[(T*100).toFixed(2),"%"]}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Expected APY"})]}),r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"flex h-4 rounded-lg overflow-hidden",children:R.allocations.map((C,I)=>{const H=["bg-emerald-500","bg-emerald-400","bg-amber-500","bg-orange-500","bg-red-500"];return C.percent===0?null:r.jsx("div",{className:`${H[I]} transition-all`,style:{width:`${C.percent}%`},title:`${C.lltv}% LLTV: ${C.percent}%`},C.lltv)})})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"Risk"}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:10}).map((C,I)=>r.jsx("div",{className:`w-2 h-2 rounded-full ${I<R.riskScore?R.riskScore<=3?"bg-emerald-500":R.riskScore<=6?"bg-amber-500":"bg-red-500":"bg-lotus-grey-600"}`},I))})]}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-3",children:R.description})]},R.name)})}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-xl p-5 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lotus-grey-100 mb-1",children:p?"Custom Allocation":`${u} Strategy`}),r.jsx("p",{className:"text-xs text-lotus-grey-300",children:"Adjust sliders to customize allocation"})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("span",{className:`px-3 py-1.5 rounded-lg text-sm font-mono font-semibold ${y===100?"bg-emerald-900/30 text-emerald-400 border border-emerald-700":"bg-amber-900/30 text-amber-400 border border-amber-700"}`,children:[y,"% allocated"]})})]}),r.jsx("div",{className:"space-y-5",children:[75,80,85,90,95].map((R,A)=>{var fe;const T=((fe=S.find(he=>he.lltv===R))==null?void 0:fe.percent)||0,C=a.find(he=>he.lltv===R),I=(C==null?void 0:C.supplyRate)!==null?(c+((C==null?void 0:C.supplyRate)||0))*100:0,H=["emerald","emerald","amber","orange","red"],ne=["Senior","Senior","Mid","Junior","Junior"];return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"w-24",children:[r.jsxs("div",{className:`text-sm font-medium text-${H[A]}-400`,children:[R,"%"]}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:ne[A]})]}),r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"range",min:"0",max:"100",value:T,onChange:he=>M(R,parseInt(he.target.value)),className:"w-full"})}),r.jsx("div",{className:"w-16 text-right",children:r.jsxs("span",{className:"text-lg font-mono font-semibold text-lotus-grey-100",children:[T,"%"]})}),r.jsxs("div",{className:"w-24 text-right",children:[r.jsxs("span",{className:"text-sm font-mono text-emerald-400",children:[I.toFixed(2),"%"]}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"APY"})]})]},R)})})]}),r.jsxs(St,{show:L>7,variant:"warning",children:[r.jsx("strong",{children:"High Risk Allocation:"})," With a risk score above 7, this strategy concentrates heavily in junior tranches. While yields are higher, these tranches absorb losses first during bad debt events."]}),r.jsxs(St,{show:L<=3&&N>0,variant:"success",children:[r.jsx("strong",{children:"Conservative Approach:"})," This allocation prioritizes capital preservation. Senior tranches have larger liquidation buffers and are last to absorb bad debt."]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded-xl p-5 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-emerald-400",children:"Expected APY"}),r.jsxs("div",{className:"text-3xl font-mono font-bold text-emerald-300",children:[(N*100).toFixed(2),"%"]})]})]}),r.jsx("p",{className:"text-xs text-emerald-200/60",children:"Weighted average of tranche supply rates based on your allocation"})]}),r.jsxs("div",{className:"bg-lotus-grey-700/30 rounded-xl p-5 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-grey-700 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-grey-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-lotus-grey-300",children:"Risk Score"}),r.jsxs("div",{className:`text-3xl font-mono font-bold ${L<=3?"text-emerald-400":L<=6?"text-amber-400":"text-red-400"}`,children:[L.toFixed(1),"/10"]})]})]}),r.jsx("div",{className:"h-3 bg-lotus-grey-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all ${L<=3?"bg-emerald-500":L<=6?"bg-amber-500":"bg-red-500"}`,style:{width:`${L*10}%`}})})]})]})]}),r.jsx(Vs,{title:"The Vault Manager's Role",icon:"",description:"How vault managers optimize allocations",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Monitor & Rebalance"}),r.jsxs("ul",{className:"text-sm text-lotus-grey-300 space-y-1",children:[r.jsx("li",{children:"Track tranche utilization and rates"}),r.jsx("li",{children:"Rebalance when conditions change"}),r.jsx("li",{children:"Move funds to higher-yielding tranches"}),r.jsx("li",{children:"Reduce exposure during volatile periods"})]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Risk Management"}),r.jsxs("ul",{className:"text-sm text-lotus-grey-300 space-y-1",children:[r.jsx("li",{children:"Set allocation limits per tranche"}),r.jsx("li",{children:"Monitor bad debt exposure"}),r.jsx("li",{children:"Ensure liquidity for withdrawals"}),r.jsx("li",{children:"Follow vault's risk parameters"})]})]})]}),r.jsx("div",{className:"p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-amber-300",children:[r.jsx("span",{className:"font-medium",children:"Key insight:"})," Vault managers earn management fees but are responsible for maintaining the vault's risk profile and optimizing returns."]})})]})}),r.jsx(Vs,{title:"Why Use Vaults?",icon:"",description:"Benefits for depositors",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Passive Yield"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Earn optimized yield without actively managing positions across tranches."})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Diversification"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Exposure spread across multiple tranches reduces concentration risk."})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Gas Efficiency"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Single deposit/withdrawal instead of managing multiple tranche positions."})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-lotus-grey-700/30 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"Professional Management"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Vault managers have expertise in risk assessment and market timing."})]})]})]})})]})}const rd="lotus-docs-visited",Wo="lotus-docs-tour-completed";function pm(){const[a,c]=V.useState("intro"),[u,h]=V.useState(()=>{const X=localStorage.getItem(rd);return X?new Set(JSON.parse(X)):new Set}),[m,g]=V.useState(()=>!localStorage.getItem(Wo)),[p,w]=V.useState(!1),[S,y]=V.useState(.8),[N,L]=V.useState(.0375),M=V.useMemo(()=>N*S,[N,S]),[z,R]=V.useState(T0),[A,T]=V.useState(.02),[C,I]=V.useState(.7),H=V.useMemo(()=>b0(z,!1),[z]),ne=V.useCallback((X,J,xe)=>{R(pe=>pe.map(ae=>ae.id===X?{...ae,[J]:xe}:ae))},[]),fe=V.useCallback(X=>{c(X),h(J=>{const xe=new Set(J);return xe.add(X),localStorage.setItem(rd,JSON.stringify([...xe])),xe}),window.location.hash=X,window.scrollTo({top:0,behavior:"smooth"})},[]);V.useEffect(()=>{const X=()=>{const J=window.location.hash.slice(1);J&&["intro","vaults","lotususd","productive-debt","tranches","interest-cascade","liquidations","advanced"].includes(J)&&c(J)};return X(),window.addEventListener("hashchange",X),()=>window.removeEventListener("hashchange",X)},[]),V.useEffect(()=>{u.has("intro")||fe("intro")},[]);const he=()=>{g(!1),w(!0)},Me=()=>{g(!1),localStorage.setItem(Wo,"true")},Ue=()=>{w(!1),localStorage.setItem(Wo,"true")},De={intro:{number:"1",title:"Welcome",headline:"Welcome to Lotus Protocol",subtitle:"Get started with Lotus Protocol",learningPoints:["What Lotus Protocol is and how it works","Key concepts: tranches, connected liquidity, productive debt","How to navigate this documentation"],transitionText:"Now let's see how Lotus organizes risk and reward...",next:{id:"vaults",label:"Vaults"}},vaults:{number:"2",title:"Vaults",headline:"Understanding Vaults",subtitle:"Aggregated yield strategies",learningPoints:["How vaults aggregate user deposits","Vault manager allocation strategies","Risk/reward trade-offs across strategies"],transitionText:"Vaults allocate to tranches. But what powers the rates?",next:{id:"lotususd",label:"LotusUSD"}},lotususd:{number:"3",title:"LotusUSD",headline:"The LotusUSD Base Rate",subtitle:"Understanding treasury backing and base rates",learningPoints:["How LotusUSD is backed by USDC and US Treasuries","How the treasury allocation generates yield","The productive debt rate calculation"],transitionText:"This base rate changes everything for borrowers and lenders...",next:{id:"productive-debt",label:"Productive Debt"}},"productive-debt":{number:"4",title:"Productive Debt",headline:"How Productive Debt Works",subtitle:"Benefits of treasury-backed lending",learningPoints:["How the base rate benefits lenders and borrowers","Spread compression mechanics","Reduced rate volatility"],transitionText:"With rates understood, let's see how liquidity flows...",next:{id:"tranches",label:"Tranches & Liquidity"}},tranches:{number:"5",title:"Tranches",headline:"Tranches & Connected Liquidity",subtitle:"The connected liquidity model",learningPoints:["What tranches are and how they work","Junior vs senior metrics","Utilization calculations"],transitionText:"Interest flows through these tranches. Let's trace it...",next:{id:"interest-cascade",label:"Interest Cascade"}},"interest-cascade":{number:"6",title:"Interest",headline:"How Interest Flows",subtitle:"How interest flows through tranches",learningPoints:["The cascade mechanism explained","How supply rates are calculated","Time-based interest accrual simulation"],transitionText:"What happens when things go wrong?",next:{id:"liquidations",label:"Liquidations"}},liquidations:{number:"7",title:"Liquidations",headline:"Liquidations & Risk",subtitle:"Understanding liquidation mechanics",learningPoints:["What triggers liquidation","Per-tranche liquidation thresholds","Health factor calculator for all tranches","Bad debt cascade and simulation"],transitionText:"Ready to go deeper?",next:{id:"advanced",label:"Advanced Tools"}},advanced:{number:"8",title:"Advanced",headline:"Advanced Tools",subtitle:"Deep dives and comparisons",learningPoints:["Lotus vs Isolated Markets comparison","Funding matrix visualization"]}}[a];return r.jsxs("div",{className:"min-h-screen bg-lotus-grey-900",children:[m&&r.jsx(M0,{onStartTour:he,onSkip:Me}),p&&r.jsx(P0,{onComplete:Ue}),r.jsx(R0,{activeSection:a,onSectionChange:fe,visitedSections:u}),r.jsxs("main",{className:"lg:ml-64 min-h-screen",children:[r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 lg:px-8 lg:py-12",children:r.jsxs(D0,{id:a,number:De.number,title:De.title,headline:De.headline,subtitle:De.subtitle,learningPoints:De.learningPoints,transitionText:De.transitionText,nextSection:De.next,onNavigate:fe,children:[a==="intro"&&r.jsx(_0,{onNavigate:fe}),a==="vaults"&&r.jsx(mm,{tranches:H.map(X=>({lltv:X.lltv,supplyRate:X.supplyRate,borrowRate:X.borrowRate})),productiveDebtRate:M}),a==="lotususd"&&r.jsx(G0,{treasuryAllocation:S,treasuryRate:N,onTreasuryAllocationChange:y,onTreasuryRateChange:L}),a==="productive-debt"&&r.jsx(H0,{baseRate:M,spread:A,utilization:C,onSpreadChange:T,onUtilizationChange:I}),a==="tranches"&&r.jsx(Z0,{tranches:H,productiveDebtRate:M,onTrancheChange:ne}),a==="interest-cascade"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Interest Accrual Simulation"}),r.jsx("p",{className:"text-lotus-grey-400 mb-6",children:"See how interest flows through tranches over different time periods. The cascade mechanism allocates interest based on supply utilization at each level."}),r.jsx(nm,{tranches:H,productiveDebtRate:M})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Rates by LLTV"}),r.jsx(cm,{tranches:H,productiveDebtRate:M})]})]}),a==="liquidations"&&r.jsx(tm,{tranches:H.map(X=>({lltv:X.lltv})),computedTranches:H}),a==="advanced"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Lotus vs Isolated Markets"}),r.jsx("p",{className:"text-lotus-grey-400 mb-6",children:"Compare connected liquidity to traditional isolated lending pools."}),r.jsx(lm,{tranches:H,productiveDebtRate:M})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Dynamic Loan Mix"}),r.jsx("p",{className:"text-lotus-grey-400 mb-6",children:"Visualize how each lender's supply is allocated across borrower tranches."}),r.jsx(dm,{tranches:H,includePendingInterest:!1})]})]})]})}),r.jsx("footer",{className:"border-t border-lotus-grey-800 py-6 px-4 lg:px-8",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center text-sm text-lotus-grey-500",children:r.jsxs("p",{children:["This is an interactive educational simulator. See the"," ",r.jsx("a",{href:"https://docs.lotus.finance",target:"_blank",rel:"noopener noreferrer",className:"text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors",children:"full documentation"})," ","for complete technical details."]})})})]})]})}g0.createRoot(document.getElementById("root")).render(r.jsx(c0.StrictMode,{children:r.jsx(pm,{})}));
