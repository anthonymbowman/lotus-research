(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))x(g);new MutationObserver(g=>{for(const j of g)if(j.type==="childList")for(const m of j.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&x(m)}).observe(document,{childList:!0,subtree:!0});function u(g){const j={};return g.integrity&&(j.integrity=g.integrity),g.referrerPolicy&&(j.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?j.credentials="include":g.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function x(g){if(g.ep)return;g.ep=!0;const j=u(g);fetch(g.href,j)}})();function bd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Oo={exports:{}},Rs={},Ho={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function L0(){if(ed)return K;ed=1;var i=Symbol.for("react.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function M(w){return w===null||typeof w!="object"?null:(w=b&&w[b]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,_={};function H(w,z,G){this.props=w,this.context=z,this.refs=_,this.updater=G||C}H.prototype.isReactComponent={},H.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},H.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ce(){}ce.prototype=H.prototype;function ye(w,z,G){this.props=w,this.context=z,this.refs=_,this.updater=G||C}var ie=ye.prototype=new ce;ie.constructor=ye,I(ie,H.prototype),ie.isPureReactComponent=!0;var T=Array.isArray,F=Object.prototype.hasOwnProperty,ae={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function He(w,z,G){var Z,se={},ne=null,pe=null;if(z!=null)for(Z in z.ref!==void 0&&(pe=z.ref),z.key!==void 0&&(ne=""+z.key),z)F.call(z,Z)&&!me.hasOwnProperty(Z)&&(se[Z]=z[Z]);var ue=arguments.length-2;if(ue===1)se.children=G;else if(1<ue){for(var ve=Array(ue),st=0;st<ue;st++)ve[st]=arguments[st+2];se.children=ve}if(w&&w.defaultProps)for(Z in ue=w.defaultProps,ue)se[Z]===void 0&&(se[Z]=ue[Z]);return{$$typeof:i,type:w,key:ne,ref:pe,props:se,_owner:ae.current}}function xt(w,z){return{$$typeof:i,type:w.type,key:z,ref:w.ref,props:w.props,_owner:w._owner}}function Me(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function oe(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(G){return z[G]})}var Re=/\/+/g;function Ee(w,z){return typeof w=="object"&&w!==null&&w.key!=null?oe(""+w.key):z.toString(36)}function rt(w,z,G,Z,se){var ne=typeof w;(ne==="undefined"||ne==="boolean")&&(w=null);var pe=!1;if(w===null)pe=!0;else switch(ne){case"string":case"number":pe=!0;break;case"object":switch(w.$$typeof){case i:case d:pe=!0}}if(pe)return pe=w,se=se(pe),w=Z===""?"."+Ee(pe,0):Z,T(se)?(G="",w!=null&&(G=w.replace(Re,"$&/")+"/"),rt(se,z,G,"",function(st){return st})):se!=null&&(Me(se)&&(se=xt(se,G+(!se.key||pe&&pe.key===se.key?"":(""+se.key).replace(Re,"$&/")+"/")+w)),z.push(se)),1;if(pe=0,Z=Z===""?".":Z+":",T(w))for(var ue=0;ue<w.length;ue++){ne=w[ue];var ve=Z+Ee(ne,ue);pe+=rt(ne,z,G,ve,se)}else if(ve=M(w),typeof ve=="function")for(w=ve.call(w),ue=0;!(ne=w.next()).done;)ne=ne.value,ve=Z+Ee(ne,ue++),pe+=rt(ne,z,G,ve,se);else if(ne==="object")throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return pe}function Ye(w,z,G){if(w==null)return w;var Z=[],se=0;return rt(w,Z,"","",function(ne){return z.call(G,ne,se++)}),Z}function Xe(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(G){(w._status===0||w._status===-1)&&(w._status=1,w._result=G)},function(G){(w._status===0||w._status===-1)&&(w._status=2,w._result=G)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var Ne={current:null},A={transition:null},X={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:A,ReactCurrentOwner:ae};function W(){throw Error("act(...) is not supported in production builds of React.")}return K.Children={map:Ye,forEach:function(w,z,G){Ye(w,function(){z.apply(this,arguments)},G)},count:function(w){var z=0;return Ye(w,function(){z++}),z},toArray:function(w){return Ye(w,function(z){return z})||[]},only:function(w){if(!Me(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},K.Component=H,K.Fragment=u,K.Profiler=g,K.PureComponent=ye,K.StrictMode=x,K.Suspense=h,K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,K.act=W,K.cloneElement=function(w,z,G){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var Z=I({},w.props),se=w.key,ne=w.ref,pe=w._owner;if(z!=null){if(z.ref!==void 0&&(ne=z.ref,pe=ae.current),z.key!==void 0&&(se=""+z.key),w.type&&w.type.defaultProps)var ue=w.type.defaultProps;for(ve in z)F.call(z,ve)&&!me.hasOwnProperty(ve)&&(Z[ve]=z[ve]===void 0&&ue!==void 0?ue[ve]:z[ve])}var ve=arguments.length-2;if(ve===1)Z.children=G;else if(1<ve){ue=Array(ve);for(var st=0;st<ve;st++)ue[st]=arguments[st+2];Z.children=ue}return{$$typeof:i,type:w.type,key:se,ref:ne,props:Z,_owner:pe}},K.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:j,_context:w},w.Consumer=w},K.createElement=He,K.createFactory=function(w){var z=He.bind(null,w);return z.type=w,z},K.createRef=function(){return{current:null}},K.forwardRef=function(w){return{$$typeof:p,render:w}},K.isValidElement=Me,K.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:Xe}},K.memo=function(w,z){return{$$typeof:N,type:w,compare:z===void 0?null:z}},K.startTransition=function(w){var z=A.transition;A.transition={};try{w()}finally{A.transition=z}},K.unstable_act=W,K.useCallback=function(w,z){return Ne.current.useCallback(w,z)},K.useContext=function(w){return Ne.current.useContext(w)},K.useDebugValue=function(){},K.useDeferredValue=function(w){return Ne.current.useDeferredValue(w)},K.useEffect=function(w,z){return Ne.current.useEffect(w,z)},K.useId=function(){return Ne.current.useId()},K.useImperativeHandle=function(w,z,G){return Ne.current.useImperativeHandle(w,z,G)},K.useInsertionEffect=function(w,z){return Ne.current.useInsertionEffect(w,z)},K.useLayoutEffect=function(w,z){return Ne.current.useLayoutEffect(w,z)},K.useMemo=function(w,z){return Ne.current.useMemo(w,z)},K.useReducer=function(w,z,G){return Ne.current.useReducer(w,z,G)},K.useRef=function(w){return Ne.current.useRef(w)},K.useState=function(w){return Ne.current.useState(w)},K.useSyncExternalStore=function(w,z,G){return Ne.current.useSyncExternalStore(w,z,G)},K.useTransition=function(){return Ne.current.useTransition()},K.version="18.3.1",K}var td;function ti(){return td||(td=1,Ho.exports=L0()),Ho.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function C0(){if(rd)return Rs;rd=1;var i=ti(),d=Symbol.for("react.element"),u=Symbol.for("react.fragment"),x=Object.prototype.hasOwnProperty,g=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function m(p,h,N){var y,b={},M=null,C=null;N!==void 0&&(M=""+N),h.key!==void 0&&(M=""+h.key),h.ref!==void 0&&(C=h.ref);for(y in h)x.call(h,y)&&!j.hasOwnProperty(y)&&(b[y]=h[y]);if(p&&p.defaultProps)for(y in h=p.defaultProps,h)b[y]===void 0&&(b[y]=h[y]);return{$$typeof:d,type:p,key:M,ref:C,props:b,_owner:g.current}}return Rs.Fragment=u,Rs.jsx=m,Rs.jsxs=m,Rs}var sd;function T0(){return sd||(sd=1,Oo.exports=C0()),Oo.exports}var r=T0(),P=ti();const M0=bd(P);var Hn={},qo={exports:{}},tt={},Qo={exports:{}},Yo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function E0(){return nd||(nd=1,(function(i){function d(A,X){var W=A.length;A.push(X);e:for(;0<W;){var w=W-1>>>1,z=A[w];if(0<g(z,X))A[w]=X,A[W]=z,W=w;else break e}}function u(A){return A.length===0?null:A[0]}function x(A){if(A.length===0)return null;var X=A[0],W=A.pop();if(W!==X){A[0]=W;e:for(var w=0,z=A.length,G=z>>>1;w<G;){var Z=2*(w+1)-1,se=A[Z],ne=Z+1,pe=A[ne];if(0>g(se,W))ne<z&&0>g(pe,se)?(A[w]=pe,A[ne]=W,w=ne):(A[w]=se,A[Z]=W,w=Z);else if(ne<z&&0>g(pe,W))A[w]=pe,A[ne]=W,w=ne;else break e}}return X}function g(A,X){var W=A.sortIndex-X.sortIndex;return W!==0?W:A.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;i.unstable_now=function(){return j.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var h=[],N=[],y=1,b=null,M=3,C=!1,I=!1,_=!1,H=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(A){for(var X=u(N);X!==null;){if(X.callback===null)x(N);else if(X.startTime<=A)x(N),X.sortIndex=X.expirationTime,d(h,X);else break;X=u(N)}}function T(A){if(_=!1,ie(A),!I)if(u(h)!==null)I=!0,Xe(F);else{var X=u(N);X!==null&&Ne(T,X.startTime-A)}}function F(A,X){I=!1,_&&(_=!1,ce(He),He=-1),C=!0;var W=M;try{for(ie(X),b=u(h);b!==null&&(!(b.expirationTime>X)||A&&!oe());){var w=b.callback;if(typeof w=="function"){b.callback=null,M=b.priorityLevel;var z=w(b.expirationTime<=X);X=i.unstable_now(),typeof z=="function"?b.callback=z:b===u(h)&&x(h),ie(X)}else x(h);b=u(h)}if(b!==null)var G=!0;else{var Z=u(N);Z!==null&&Ne(T,Z.startTime-X),G=!1}return G}finally{b=null,M=W,C=!1}}var ae=!1,me=null,He=-1,xt=5,Me=-1;function oe(){return!(i.unstable_now()-Me<xt)}function Re(){if(me!==null){var A=i.unstable_now();Me=A;var X=!0;try{X=me(!0,A)}finally{X?Ee():(ae=!1,me=null)}}else ae=!1}var Ee;if(typeof ye=="function")Ee=function(){ye(Re)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Ye=rt.port2;rt.port1.onmessage=Re,Ee=function(){Ye.postMessage(null)}}else Ee=function(){H(Re,0)};function Xe(A){me=A,ae||(ae=!0,Ee())}function Ne(A,X){He=H(function(){A(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(A){A.callback=null},i.unstable_continueExecution=function(){I||C||(I=!0,Xe(F))},i.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<A?Math.floor(1e3/A):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return u(h)},i.unstable_next=function(A){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var W=M;M=X;try{return A()}finally{M=W}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(A,X){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=M;M=A;try{return X()}finally{M=W}},i.unstable_scheduleCallback=function(A,X,W){var w=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?w+W:w):W=w,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,A={id:y++,callback:X,priorityLevel:A,startTime:W,expirationTime:z,sortIndex:-1},W>w?(A.sortIndex=W,d(N,A),u(h)===null&&A===u(N)&&(_?(ce(He),He=-1):_=!0,Ne(T,W-w))):(A.sortIndex=z,d(h,A),I||C||(I=!0,Xe(F))),A},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(A){var X=M;return function(){var W=M;M=X;try{return A.apply(this,arguments)}finally{M=W}}}})(Yo)),Yo}var ld;function z0(){return ld||(ld=1,Qo.exports=E0()),Qo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function D0(){if(od)return tt;od=1;var i=ti(),d=z0();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x=new Set,g={};function j(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(g[e]=t,e=0;e<t.length;e++)x.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function M(e){return h.call(b,e)?!0:h.call(y,e)?!1:N.test(e)?b[e]=!0:(y[e]=!0,!1)}function C(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I(e,t,s,n){if(t===null||typeof t>"u"||C(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _(e,t,s,n,l,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){H[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];H[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){H[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){H[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){H[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){H[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){H[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){H[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){H[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var ce=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ce,ye);H[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ce,ye);H[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ce,ye);H[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){H[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),H.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){H[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function ie(e,t,s,n){var l=H.hasOwnProperty(t)?H[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I(t,s,l,n)&&(s=null),n||l===null?M(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):l.mustUseProperty?e[l.propertyName]=s===null?l.type===3?!1:"":s:(t=l.attributeName,n=l.attributeNamespace,s===null?e.removeAttribute(t):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var T=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),ae=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),He=Symbol.for("react.strict_mode"),xt=Symbol.for("react.profiler"),Me=Symbol.for("react.provider"),oe=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),A=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,w;function z(e){if(w===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var G=!1;function Z(e,t){if(!e||G)return"";G=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var n=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){n=L}e.call(t.prototype)}else{try{throw Error()}catch(L){n=L}e()}}catch(L){if(L&&n&&typeof L.stack=="string"){for(var l=L.stack.split(`
`),o=n.stack.split(`
`),a=l.length-1,c=o.length-1;1<=a&&0<=c&&l[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(l[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||l[a]!==o[c]){var f=`
`+l[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=c);break}}}finally{G=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?z(e):""}function se(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case me:return"Fragment";case ae:return"Portal";case xt:return"Profiler";case He:return"StrictMode";case Ee:return"Suspense";case rt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oe:return(e.displayName||"Context")+".Consumer";case Me:return(e._context.displayName||"Context")+".Provider";case Re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ye:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case Xe:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(t);case 8:return t===He?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function st(e){var t=ve(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ps(e){e._valueTracker||(e._valueTracker=st(e))}function oi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=ve(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jn(e,t){var s=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ii(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=ue(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ai(e,t){t=t.checked,t!=null&&ie(e,"checked",t,!1)}function Gn(e,t){ai(e,t);var s=ue(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kn(e,t.type,s):t.hasOwnProperty("defaultValue")&&Kn(e,t.type,ue(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ui(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Kn(e,t,s){(t!=="number"||_s(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Yr=Array.isArray;function yr(e,t,s,n){if(e=e.options,t){t={};for(var l=0;l<s.length;l++)t["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=t.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ue(s),t=null,l=0;l<e.length;l++){if(e[l].value===s){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Zn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function di(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(u(92));if(Yr(s)){if(1<s.length)throw Error(u(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ue(s)}}function ci(e,t){var s=ue(t.value),n=ue(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function mi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bs,xi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ed=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(e){Ed.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jr[t]=Jr[e]})});function hi(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Jr.hasOwnProperty(e)&&Jr[e]?(""+t).trim():t+"px"}function fi(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,l=hi(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,l):e[s]=l}}var zd=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,t){if(t){if(zd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ll=null,vr=null,jr=null;function gi(e){if(e=ys(e)){if(typeof ll!="function")throw Error(u(280));var t=e.stateNode;t&&(t=ln(t),ll(e.stateNode,e.type,t))}}function yi(e){vr?jr?jr.push(e):jr=[e]:vr=e}function vi(){if(vr){var e=vr,t=jr;if(jr=vr=null,gi(e),t)for(e=0;e<t.length;e++)gi(t[e])}}function ji(e,t){return e(t)}function bi(){}var ol=!1;function wi(e,t,s){if(ol)return e(t,s);ol=!0;try{return ji(e,t,s)}finally{ol=!1,(vr!==null||jr!==null)&&(bi(),vi())}}function Gr(e,t){var s=e.stateNode;if(s===null)return null;var n=ln(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(u(231,t,typeof s));return s}var il=!1;if(p)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){il=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{il=!1}function Dd(e,t,s,n,l,o,a,c,f){var L=Array.prototype.slice.call(arguments,3);try{t.apply(s,L)}catch(D){this.onError(D)}}var Zr=!1,Is=null,As=!1,al=null,Rd={onError:function(e){Zr=!0,Is=e}};function Pd(e,t,s,n,l,o,a,c,f){Zr=!1,Is=null,Dd.apply(Rd,arguments)}function _d(e,t,s,n,l,o,a,c,f){if(Pd.apply(this,arguments),Zr){if(Zr){var L=Is;Zr=!1,Is=null}else throw Error(u(198));As||(As=!0,al=L)}}function nr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ni(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ki(e){if(nr(e)!==e)throw Error(u(188))}function Bd(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(u(188));return t!==e?null:e}for(var s=e,n=t;;){var l=s.return;if(l===null)break;var o=l.alternate;if(o===null){if(n=l.return,n!==null){s=n;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===s)return ki(l),e;if(o===n)return ki(l),t;o=o.sibling}throw Error(u(188))}if(s.return!==n.return)s=l,n=o;else{for(var a=!1,c=l.child;c;){if(c===s){a=!0,s=l,n=o;break}if(c===n){a=!0,n=l,s=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===s){a=!0,s=o,n=l;break}if(c===n){a=!0,n=o,s=l;break}c=c.sibling}if(!a)throw Error(u(189))}}if(s.alternate!==n)throw Error(u(190))}if(s.tag!==3)throw Error(u(188));return s.stateNode.current===s?e:t}function Si(e){return e=Bd(e),e!==null?Li(e):null}function Li(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Li(e);if(t!==null)return t;e=e.sibling}return null}var Ci=d.unstable_scheduleCallback,Ti=d.unstable_cancelCallback,Id=d.unstable_shouldYield,Ad=d.unstable_requestPaint,Se=d.unstable_now,$d=d.unstable_getCurrentPriorityLevel,ul=d.unstable_ImmediatePriority,Mi=d.unstable_UserBlockingPriority,$s=d.unstable_NormalPriority,Fd=d.unstable_LowPriority,Ei=d.unstable_IdlePriority,Fs=null,wt=null;function Ud(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Fs,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Od,Wd=Math.log,Vd=Math.LN2;function Od(e){return e>>>=0,e===0?32:31-(Wd(e)/Vd|0)|0}var Us=64,Ws=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,l=e.suspendedLanes,o=e.pingedLanes,a=s&268435455;if(a!==0){var c=a&~l;c!==0?n=es(c):(o&=a,o!==0&&(n=es(o)))}else a=s&~l,a!==0?n=es(a):o!==0&&(n=es(o));if(n===0)return 0;if(t!==0&&t!==n&&(t&l)===0&&(l=n&-n,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((n&4)!==0&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-ht(t),l=1<<s,n|=e[s],t&=~l;return n}function Hd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qd(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ht(o),c=1<<a,f=l[a];f===-1?((c&s)===0||(c&n)!==0)&&(l[a]=Hd(c,t)):f<=t&&(e.expiredLanes|=c),o&=~c}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zi(){var e=Us;return Us<<=1,(Us&4194240)===0&&(Us=64),e}function cl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ts(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=s}function Qd(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-ht(s),o=1<<l;t[l]=0,n[l]=-1,e[l]=-1,s&=~o}}function ml(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ht(s),l=1<<n;l&t|e[n]&t&&(e[n]|=t),s&=~l}}var de=0;function Di(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ri,pl,Pi,_i,Bi,xl=!1,Os=[],It=null,At=null,$t=null,rs=new Map,ss=new Map,Ft=[],Yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function ns(e,t,s,n,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[l]},t!==null&&(t=ys(t),t!==null&&pl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Xd(e,t,s,n,l){switch(t){case"focusin":return It=ns(It,e,t,s,n,l),!0;case"dragenter":return At=ns(At,e,t,s,n,l),!0;case"mouseover":return $t=ns($t,e,t,s,n,l),!0;case"pointerover":var o=l.pointerId;return rs.set(o,ns(rs.get(o)||null,e,t,s,n,l)),!0;case"gotpointercapture":return o=l.pointerId,ss.set(o,ns(ss.get(o)||null,e,t,s,n,l)),!0}return!1}function Ai(e){var t=lr(e.target);if(t!==null){var s=nr(t);if(s!==null){if(t=s.tag,t===13){if(t=Ni(s),t!==null){e.blockedOn=t,Bi(e.priority,function(){Pi(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);sl=n,s.target.dispatchEvent(n),sl=null}else return t=ys(s),t!==null&&pl(t),e.blockedOn=s,!1;t.shift()}return!0}function $i(e,t,s){Hs(e)&&s.delete(t)}function Jd(){xl=!1,It!==null&&Hs(It)&&(It=null),At!==null&&Hs(At)&&(At=null),$t!==null&&Hs($t)&&($t=null),rs.forEach($i),ss.forEach($i)}function ls(e,t){e.blockedOn===t&&(e.blockedOn=null,xl||(xl=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Jd)))}function os(e){function t(l){return ls(l,e)}if(0<Os.length){ls(Os[0],e);for(var s=1;s<Os.length;s++){var n=Os[s];n.blockedOn===e&&(n.blockedOn=null)}}for(It!==null&&ls(It,e),At!==null&&ls(At,e),$t!==null&&ls($t,e),rs.forEach(t),ss.forEach(t),s=0;s<Ft.length;s++)n=Ft[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ft.length&&(s=Ft[0],s.blockedOn===null);)Ai(s),s.blockedOn===null&&Ft.shift()}var br=T.ReactCurrentBatchConfig,qs=!0;function Gd(e,t,s,n){var l=de,o=br.transition;br.transition=null;try{de=1,hl(e,t,s,n)}finally{de=l,br.transition=o}}function Kd(e,t,s,n){var l=de,o=br.transition;br.transition=null;try{de=4,hl(e,t,s,n)}finally{de=l,br.transition=o}}function hl(e,t,s,n){if(qs){var l=fl(e,t,s,n);if(l===null)Rl(e,t,n,Qs,s),Ii(e,n);else if(Xd(l,e,t,s,n))n.stopPropagation();else if(Ii(e,n),t&4&&-1<Yd.indexOf(e)){for(;l!==null;){var o=ys(l);if(o!==null&&Ri(o),o=fl(e,t,s,n),o===null&&Rl(e,t,n,Qs,s),o===l)break;l=o}l!==null&&n.stopPropagation()}else Rl(e,t,n,null,s)}}var Qs=null;function fl(e,t,s,n){if(Qs=null,e=nl(n),e=lr(e),e!==null)if(t=nr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ni(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Fi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($d()){case ul:return 1;case Mi:return 4;case $s:case Fd:return 16;case Ei:return 536870912;default:return 16}default:return 16}}var Ut=null,gl=null,Ys=null;function Ui(){if(Ys)return Ys;var e,t=gl,s=t.length,n,l="value"in Ut?Ut.value:Ut.textContent,o=l.length;for(e=0;e<s&&t[e]===l[e];e++);var a=s-e;for(n=1;n<=a&&t[s-n]===l[o-n];n++);return Ys=l.slice(e,1<n?1-n:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function Wi(){return!1}function nt(e){function t(s,n,l,o,a){this._reactName=s,this._targetInst=l,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(s=e[c],this[c]=s?s(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Js:Wi,this.isPropagationStopped=Wi,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=nt(wr),is=W({},wr,{view:0,detail:0}),Zd=nt(is),vl,jl,as,Gs=W({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(vl=e.screenX-as.screenX,jl=e.screenY-as.screenY):jl=vl=0,as=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),Vi=nt(Gs),ec=W({},Gs,{dataTransfer:0}),tc=nt(ec),rc=W({},is,{relatedTarget:0}),bl=nt(rc),sc=W({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=nt(sc),lc=W({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oc=nt(lc),ic=W({},wr,{data:0}),Oi=nt(ic),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dc[e])?!!t[e]:!1}function wl(){return cc}var mc=W({},is,{key:function(e){if(e.key){var t=ac[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pc=nt(mc),xc=W({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=nt(xc),hc=W({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),fc=nt(hc),gc=W({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yc=nt(gc),vc=W({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jc=nt(vc),bc=[9,13,27,32],Nl=p&&"CompositionEvent"in window,us=null;p&&"documentMode"in document&&(us=document.documentMode);var wc=p&&"TextEvent"in window&&!us,qi=p&&(!Nl||us&&8<us&&11>=us),Qi=" ",Yi=!1;function Xi(e,t){switch(e){case"keyup":return bc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ji(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function Nc(e,t){switch(e){case"compositionend":return Ji(t);case"keypress":return t.which!==32?null:(Yi=!0,Qi);case"textInput":return e=t.data,e===Qi&&Yi?null:e;default:return null}}function kc(e,t){if(Nr)return e==="compositionend"||!Nl&&Xi(e,t)?(e=Ui(),Ys=gl=Ut=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qi&&t.locale!=="ko"?null:t.data;default:return null}}var Sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sc[e.type]:t==="textarea"}function Ki(e,t,s,n){yi(n),t=rn(t,"onChange"),0<t.length&&(s=new yl("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ds=null,cs=null;function Lc(e){fa(e,0)}function Ks(e){var t=Tr(e);if(oi(t))return e}function Cc(e,t){if(e==="change")return t}var Zi=!1;if(p){var kl;if(p){var Sl="oninput"in document;if(!Sl){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Sl=typeof ea.oninput=="function"}kl=Sl}else kl=!1;Zi=kl&&(!document.documentMode||9<document.documentMode)}function ta(){ds&&(ds.detachEvent("onpropertychange",ra),cs=ds=null)}function ra(e){if(e.propertyName==="value"&&Ks(cs)){var t=[];Ki(t,cs,e,nl(e)),wi(Lc,t)}}function Tc(e,t,s){e==="focusin"?(ta(),ds=t,cs=s,ds.attachEvent("onpropertychange",ra)):e==="focusout"&&ta()}function Mc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(cs)}function Ec(e,t){if(e==="click")return Ks(t)}function zc(e,t){if(e==="input"||e==="change")return Ks(t)}function Dc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Dc;function ms(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var l=s[n];if(!h.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function sa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function na(e,t){var s=sa(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sa(s)}}function la(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?la(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oa(){for(var e=window,t=_s();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=_s(e.document)}return t}function Ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rc(e){var t=oa(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&la(s.ownerDocument.documentElement,s)){if(n!==null&&Ll(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=s.textContent.length,o=Math.min(n.start,l);n=n.end===void 0?o:Math.min(n.end,l),!e.extend&&o>n&&(l=n,n=o,o=l),l=na(s,o);var a=na(s,n);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pc=p&&"documentMode"in document&&11>=document.documentMode,kr=null,Cl=null,ps=null,Tl=!1;function ia(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tl||kr==null||kr!==_s(n)||(n=kr,"selectionStart"in n&&Ll(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ps&&ms(ps,n)||(ps=n,n=rn(Cl,"onSelect"),0<n.length&&(t=new yl("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=kr)))}function Zs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Sr={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},Ml={},aa={};p&&(aa=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function en(e){if(Ml[e])return Ml[e];if(!Sr[e])return e;var t=Sr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in aa)return Ml[e]=t[s];return e}var ua=en("animationend"),da=en("animationiteration"),ca=en("animationstart"),ma=en("transitionend"),pa=new Map,xa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){pa.set(e,t),j(t,[e])}for(var El=0;El<xa.length;El++){var zl=xa[El],_c=zl.toLowerCase(),Bc=zl[0].toUpperCase()+zl.slice(1);Wt(_c,"on"+Bc)}Wt(ua,"onAnimationEnd"),Wt(da,"onAnimationIteration"),Wt(ca,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(ma,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),j("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),j("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),j("onBeforeInput",["compositionend","keypress","textInput","paste"]),j("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ic=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function ha(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,_d(n,t,void 0,e),e.currentTarget=null}function fa(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],l=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],f=c.instance,L=c.currentTarget;if(c=c.listener,f!==o&&l.isPropagationStopped())break e;ha(l,c,L),o=f}else for(a=0;a<n.length;a++){if(c=n[a],f=c.instance,L=c.currentTarget,c=c.listener,f!==o&&l.isPropagationStopped())break e;ha(l,c,L),o=f}}}if(As)throw e=al,As=!1,al=null,e}function he(e,t){var s=t[$l];s===void 0&&(s=t[$l]=new Set);var n=e+"__bubble";s.has(n)||(ga(t,e,2,!1),s.add(n))}function Dl(e,t,s){var n=0;t&&(n|=4),ga(s,e,n,t)}var tn="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[tn]){e[tn]=!0,x.forEach(function(s){s!=="selectionchange"&&(Ic.has(s)||Dl(s,!1,e),Dl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tn]||(t[tn]=!0,Dl("selectionchange",!1,t))}}function ga(e,t,s,n){switch(Fi(t)){case 1:var l=Gd;break;case 4:l=Kd;break;default:l=hl}s=l.bind(null,t,s,e),l=void 0,!il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,s,{capture:!0,passive:l}):e.addEventListener(t,s,!0):l!==void 0?e.addEventListener(t,s,{passive:l}):e.addEventListener(t,s,!1)}function Rl(e,t,s,n,l){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(a===4)for(a=n.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===l||f.nodeType===8&&f.parentNode===l))return;a=a.return}for(;c!==null;){if(a=lr(c),a===null)return;if(f=a.tag,f===5||f===6){n=o=a;continue e}c=c.parentNode}}n=n.return}wi(function(){var L=o,D=nl(s),R=[];e:{var E=pa.get(e);if(E!==void 0){var $=yl,V=e;switch(e){case"keypress":if(Xs(s)===0)break e;case"keydown":case"keyup":$=pc;break;case"focusin":V="focus",$=bl;break;case"focusout":V="blur",$=bl;break;case"beforeblur":case"afterblur":$=bl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=fc;break;case ua:case da:case ca:$=nc;break;case ma:$=yc;break;case"scroll":$=Zd;break;case"wheel":$=jc;break;case"copy":case"cut":case"paste":$=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Hi}var O=(t&4)!==0,Le=!O&&e==="scroll",k=O?E!==null?E+"Capture":null:E;O=[];for(var v=L,S;v!==null;){S=v;var B=S.stateNode;if(S.tag===5&&B!==null&&(S=B,k!==null&&(B=Gr(v,k),B!=null&&O.push(fs(v,B,S)))),Le)break;v=v.return}0<O.length&&(E=new $(E,V,null,s,D),R.push({event:E,listeners:O}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",E&&s!==sl&&(V=s.relatedTarget||s.fromElement)&&(lr(V)||V[Mt]))break e;if(($||E)&&(E=D.window===D?D:(E=D.ownerDocument)?E.defaultView||E.parentWindow:window,$?(V=s.relatedTarget||s.toElement,$=L,V=V?lr(V):null,V!==null&&(Le=nr(V),V!==Le||V.tag!==5&&V.tag!==6)&&(V=null)):($=null,V=L),$!==V)){if(O=Vi,B="onMouseLeave",k="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(O=Hi,B="onPointerLeave",k="onPointerEnter",v="pointer"),Le=$==null?E:Tr($),S=V==null?E:Tr(V),E=new O(B,v+"leave",$,s,D),E.target=Le,E.relatedTarget=S,B=null,lr(D)===L&&(O=new O(k,v+"enter",V,s,D),O.target=S,O.relatedTarget=Le,B=O),Le=B,$&&V)t:{for(O=$,k=V,v=0,S=O;S;S=Lr(S))v++;for(S=0,B=k;B;B=Lr(B))S++;for(;0<v-S;)O=Lr(O),v--;for(;0<S-v;)k=Lr(k),S--;for(;v--;){if(O===k||k!==null&&O===k.alternate)break t;O=Lr(O),k=Lr(k)}O=null}else O=null;$!==null&&ya(R,E,$,O,!1),V!==null&&Le!==null&&ya(R,Le,V,O,!0)}}e:{if(E=L?Tr(L):window,$=E.nodeName&&E.nodeName.toLowerCase(),$==="select"||$==="input"&&E.type==="file")var q=Cc;else if(Gi(E))if(Zi)q=zc;else{q=Mc;var Q=Tc}else($=E.nodeName)&&$.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(q=Ec);if(q&&(q=q(e,L))){Ki(R,q,s,D);break e}Q&&Q(e,E,L),e==="focusout"&&(Q=E._wrapperState)&&Q.controlled&&E.type==="number"&&Kn(E,"number",E.value)}switch(Q=L?Tr(L):window,e){case"focusin":(Gi(Q)||Q.contentEditable==="true")&&(kr=Q,Cl=L,ps=null);break;case"focusout":ps=Cl=kr=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,ia(R,s,D);break;case"selectionchange":if(Pc)break;case"keydown":case"keyup":ia(R,s,D)}var Y;if(Nl)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Nr?Xi(e,s)&&(J="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(J="onCompositionStart");J&&(qi&&s.locale!=="ko"&&(Nr||J!=="onCompositionStart"?J==="onCompositionEnd"&&Nr&&(Y=Ui()):(Ut=D,gl="value"in Ut?Ut.value:Ut.textContent,Nr=!0)),Q=rn(L,J),0<Q.length&&(J=new Oi(J,e,null,s,D),R.push({event:J,listeners:Q}),Y?J.data=Y:(Y=Ji(s),Y!==null&&(J.data=Y)))),(Y=wc?Nc(e,s):kc(e,s))&&(L=rn(L,"onBeforeInput"),0<L.length&&(D=new Oi("onBeforeInput","beforeinput",null,s,D),R.push({event:D,listeners:L}),D.data=Y))}fa(R,t)})}function fs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function rn(e,t){for(var s=t+"Capture",n=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Gr(e,s),o!=null&&n.unshift(fs(e,o,l)),o=Gr(e,t),o!=null&&n.push(fs(e,o,l))),e=e.return}return n}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ya(e,t,s,n,l){for(var o=t._reactName,a=[];s!==null&&s!==n;){var c=s,f=c.alternate,L=c.stateNode;if(f!==null&&f===n)break;c.tag===5&&L!==null&&(c=L,l?(f=Gr(s,o),f!=null&&a.unshift(fs(s,f,c))):l||(f=Gr(s,o),f!=null&&a.push(fs(s,f,c)))),s=s.return}a.length!==0&&e.push({event:t,listeners:a})}var Ac=/\r\n?/g,$c=/\u0000|\uFFFD/g;function va(e){return(typeof e=="string"?e:""+e).replace(Ac,`
`).replace($c,"")}function sn(e,t,s){if(t=va(t),va(e)!==t&&s)throw Error(u(425))}function nn(){}var Pl=null,_l=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,Fc=typeof clearTimeout=="function"?clearTimeout:void 0,ja=typeof Promise=="function"?Promise:void 0,Uc=typeof queueMicrotask=="function"?queueMicrotask:typeof ja<"u"?function(e){return ja.resolve(null).then(e).catch(Wc)}:Il;function Wc(e){setTimeout(function(){throw e})}function Al(e,t){var s=t,n=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0){e.removeChild(l),os(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=l}while(s);os(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ba(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Cr,gs="__reactProps$"+Cr,Mt="__reactContainer$"+Cr,$l="__reactEvents$"+Cr,Vc="__reactListeners$"+Cr,Oc="__reactHandles$"+Cr;function lr(e){var t=e[Nt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Mt]||s[Nt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ba(e);e!==null;){if(s=e[Nt])return s;e=ba(e)}return t}e=s,s=e.parentNode}return null}function ys(e){return e=e[Nt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function ln(e){return e[gs]||null}var Fl=[],Mr=-1;function Ot(e){return{current:e}}function fe(e){0>Mr||(e.current=Fl[Mr],Fl[Mr]=null,Mr--)}function xe(e,t){Mr++,Fl[Mr]=e.current,e.current=t}var Ht={},Ue=Ot(Ht),Je=Ot(!1),or=Ht;function Er(e,t){var s=e.type.contextTypes;if(!s)return Ht;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in s)l[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function on(){fe(Je),fe(Ue)}function wa(e,t,s){if(Ue.current!==Ht)throw Error(u(168));xe(Ue,t),xe(Je,s)}function Na(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(u(108,pe(e)||"Unknown",l));return W({},s,n)}function an(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,or=Ue.current,xe(Ue,e),xe(Je,Je.current),!0}function ka(e,t,s){var n=e.stateNode;if(!n)throw Error(u(169));s?(e=Na(e,t,or),n.__reactInternalMemoizedMergedChildContext=e,fe(Je),fe(Ue),xe(Ue,e)):fe(Je),xe(Je,s)}var Et=null,un=!1,Ul=!1;function Sa(e){Et===null?Et=[e]:Et.push(e)}function Hc(e){un=!0,Sa(e)}function qt(){if(!Ul&&Et!==null){Ul=!0;var e=0,t=de;try{var s=Et;for(de=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Et=null,un=!1}catch(l){throw Et!==null&&(Et=Et.slice(e+1)),Ci(ul,qt),l}finally{de=t,Ul=!1}}return null}var zr=[],Dr=0,dn=null,cn=0,at=[],ut=0,ir=null,zt=1,Dt="";function ar(e,t){zr[Dr++]=cn,zr[Dr++]=dn,dn=e,cn=t}function La(e,t,s){at[ut++]=zt,at[ut++]=Dt,at[ut++]=ir,ir=e;var n=zt;e=Dt;var l=32-ht(n)-1;n&=~(1<<l),s+=1;var o=32-ht(t)+l;if(30<o){var a=l-l%5;o=(n&(1<<a)-1).toString(32),n>>=a,l-=a,zt=1<<32-ht(t)+l|s<<l|n,Dt=o+e}else zt=1<<o|s<<l|n,Dt=e}function Wl(e){e.return!==null&&(ar(e,1),La(e,1,0))}function Vl(e){for(;e===dn;)dn=zr[--Dr],zr[Dr]=null,cn=zr[--Dr],zr[Dr]=null;for(;e===ir;)ir=at[--ut],at[ut]=null,Dt=at[--ut],at[ut]=null,zt=at[--ut],at[ut]=null}var lt=null,ot=null,je=!1,gt=null;function Ca(e,t){var s=pt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Ta(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ir!==null?{id:zt,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=pt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,lt=e,ot=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(je){var t=ot;if(t){var s=t;if(!Ta(e,t)){if(Ol(e))throw Error(u(418));t=Vt(s.nextSibling);var n=lt;t&&Ta(e,t)?Ca(n,s):(e.flags=e.flags&-4097|2,je=!1,lt=e)}}else{if(Ol(e))throw Error(u(418));e.flags=e.flags&-4097|2,je=!1,lt=e}}}function Ma(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function mn(e){if(e!==lt)return!1;if(!je)return Ma(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=ot)){if(Ol(e))throw Ea(),Error(u(418));for(;t;)Ca(e,t),t=Vt(t.nextSibling)}if(Ma(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ot=Vt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?Vt(e.stateNode.nextSibling):null;return!0}function Ea(){for(var e=ot;e;)e=Vt(e.nextSibling)}function Rr(){ot=lt=null,je=!1}function ql(e){gt===null?gt=[e]:gt.push(e)}var qc=T.ReactCurrentBatchConfig;function vs(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(u(309));var n=s.stateNode}if(!n)throw Error(u(147,e));var l=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var c=l.refs;a===null?delete c[o]:c[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(u(284));if(!s._owner)throw Error(u(290,e))}return e}function pn(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){var t=e._init;return t(e._payload)}function Da(e){function t(k,v){if(e){var S=k.deletions;S===null?(k.deletions=[v],k.flags|=16):S.push(v)}}function s(k,v){if(!e)return null;for(;v!==null;)t(k,v),v=v.sibling;return null}function n(k,v){for(k=new Map;v!==null;)v.key!==null?k.set(v.key,v):k.set(v.index,v),v=v.sibling;return k}function l(k,v){return k=er(k,v),k.index=0,k.sibling=null,k}function o(k,v,S){return k.index=S,e?(S=k.alternate,S!==null?(S=S.index,S<v?(k.flags|=2,v):S):(k.flags|=2,v)):(k.flags|=1048576,v)}function a(k){return e&&k.alternate===null&&(k.flags|=2),k}function c(k,v,S,B){return v===null||v.tag!==6?(v=Ao(S,k.mode,B),v.return=k,v):(v=l(v,S),v.return=k,v)}function f(k,v,S,B){var q=S.type;return q===me?D(k,v,S.props.children,B,S.key):v!==null&&(v.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Xe&&za(q)===v.type)?(B=l(v,S.props),B.ref=vs(k,v,S),B.return=k,B):(B=In(S.type,S.key,S.props,null,k.mode,B),B.ref=vs(k,v,S),B.return=k,B)}function L(k,v,S,B){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=$o(S,k.mode,B),v.return=k,v):(v=l(v,S.children||[]),v.return=k,v)}function D(k,v,S,B,q){return v===null||v.tag!==7?(v=fr(S,k.mode,B,q),v.return=k,v):(v=l(v,S),v.return=k,v)}function R(k,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ao(""+v,k.mode,S),v.return=k,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case F:return S=In(v.type,v.key,v.props,null,k.mode,S),S.ref=vs(k,null,v),S.return=k,S;case ae:return v=$o(v,k.mode,S),v.return=k,v;case Xe:var B=v._init;return R(k,B(v._payload),S)}if(Yr(v)||X(v))return v=fr(v,k.mode,S,null),v.return=k,v;pn(k,v)}return null}function E(k,v,S,B){var q=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return q!==null?null:c(k,v,""+S,B);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case F:return S.key===q?f(k,v,S,B):null;case ae:return S.key===q?L(k,v,S,B):null;case Xe:return q=S._init,E(k,v,q(S._payload),B)}if(Yr(S)||X(S))return q!==null?null:D(k,v,S,B,null);pn(k,S)}return null}function $(k,v,S,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(S)||null,c(v,k,""+B,q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return k=k.get(B.key===null?S:B.key)||null,f(v,k,B,q);case ae:return k=k.get(B.key===null?S:B.key)||null,L(v,k,B,q);case Xe:var Q=B._init;return $(k,v,S,Q(B._payload),q)}if(Yr(B)||X(B))return k=k.get(S)||null,D(v,k,B,q,null);pn(v,B)}return null}function V(k,v,S,B){for(var q=null,Q=null,Y=v,J=v=0,Be=null;Y!==null&&J<S.length;J++){Y.index>J?(Be=Y,Y=null):Be=Y.sibling;var le=E(k,Y,S[J],B);if(le===null){Y===null&&(Y=Be);break}e&&Y&&le.alternate===null&&t(k,Y),v=o(le,v,J),Q===null?q=le:Q.sibling=le,Q=le,Y=Be}if(J===S.length)return s(k,Y),je&&ar(k,J),q;if(Y===null){for(;J<S.length;J++)Y=R(k,S[J],B),Y!==null&&(v=o(Y,v,J),Q===null?q=Y:Q.sibling=Y,Q=Y);return je&&ar(k,J),q}for(Y=n(k,Y);J<S.length;J++)Be=$(Y,k,J,S[J],B),Be!==null&&(e&&Be.alternate!==null&&Y.delete(Be.key===null?J:Be.key),v=o(Be,v,J),Q===null?q=Be:Q.sibling=Be,Q=Be);return e&&Y.forEach(function(tr){return t(k,tr)}),je&&ar(k,J),q}function O(k,v,S,B){var q=X(S);if(typeof q!="function")throw Error(u(150));if(S=q.call(S),S==null)throw Error(u(151));for(var Q=q=null,Y=v,J=v=0,Be=null,le=S.next();Y!==null&&!le.done;J++,le=S.next()){Y.index>J?(Be=Y,Y=null):Be=Y.sibling;var tr=E(k,Y,le.value,B);if(tr===null){Y===null&&(Y=Be);break}e&&Y&&tr.alternate===null&&t(k,Y),v=o(tr,v,J),Q===null?q=tr:Q.sibling=tr,Q=tr,Y=Be}if(le.done)return s(k,Y),je&&ar(k,J),q;if(Y===null){for(;!le.done;J++,le=S.next())le=R(k,le.value,B),le!==null&&(v=o(le,v,J),Q===null?q=le:Q.sibling=le,Q=le);return je&&ar(k,J),q}for(Y=n(k,Y);!le.done;J++,le=S.next())le=$(Y,k,J,le.value,B),le!==null&&(e&&le.alternate!==null&&Y.delete(le.key===null?J:le.key),v=o(le,v,J),Q===null?q=le:Q.sibling=le,Q=le);return e&&Y.forEach(function(S0){return t(k,S0)}),je&&ar(k,J),q}function Le(k,v,S,B){if(typeof S=="object"&&S!==null&&S.type===me&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case F:e:{for(var q=S.key,Q=v;Q!==null;){if(Q.key===q){if(q=S.type,q===me){if(Q.tag===7){s(k,Q.sibling),v=l(Q,S.props.children),v.return=k,k=v;break e}}else if(Q.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Xe&&za(q)===Q.type){s(k,Q.sibling),v=l(Q,S.props),v.ref=vs(k,Q,S),v.return=k,k=v;break e}s(k,Q);break}else t(k,Q);Q=Q.sibling}S.type===me?(v=fr(S.props.children,k.mode,B,S.key),v.return=k,k=v):(B=In(S.type,S.key,S.props,null,k.mode,B),B.ref=vs(k,v,S),B.return=k,k=B)}return a(k);case ae:e:{for(Q=S.key;v!==null;){if(v.key===Q)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){s(k,v.sibling),v=l(v,S.children||[]),v.return=k,k=v;break e}else{s(k,v);break}else t(k,v);v=v.sibling}v=$o(S,k.mode,B),v.return=k,k=v}return a(k);case Xe:return Q=S._init,Le(k,v,Q(S._payload),B)}if(Yr(S))return V(k,v,S,B);if(X(S))return O(k,v,S,B);pn(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(s(k,v.sibling),v=l(v,S),v.return=k,k=v):(s(k,v),v=Ao(S,k.mode,B),v.return=k,k=v),a(k)):s(k,v)}return Le}var Pr=Da(!0),Ra=Da(!1),xn=Ot(null),hn=null,_r=null,Ql=null;function Yl(){Ql=_r=hn=null}function Xl(e){var t=xn.current;fe(xn),e._currentValue=t}function Jl(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Br(e,t){hn=e,Ql=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ke=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Ql!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(hn===null)throw Error(u(308));_r=e,hn.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var ur=null;function Gl(e){ur===null?ur=[e]:ur.push(e)}function Pa(e,t,s,n){var l=t.interleaved;return l===null?(s.next=s,Gl(t)):(s.next=l.next,l.next=s),t.interleaved=s,Rt(e,n)}function Rt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Qt=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(re&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,Rt(e,s)}return l=n.interleaved,l===null?(t.next=t,Gl(n)):(t.next=l.next,l.next=t),n.interleaved=t,Rt(e,s)}function fn(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,ml(e,s)}}function Ba(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var l=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var a={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?l=o=a:o=o.next=a,s=s.next}while(s!==null);o===null?l=o=t:o=o.next=t}else l=o=t;s={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function gn(e,t,s,n){var l=e.updateQueue;Qt=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var f=c,L=f.next;f.next=null,a===null?o=L:a.next=L,a=f;var D=e.alternate;D!==null&&(D=D.updateQueue,c=D.lastBaseUpdate,c!==a&&(c===null?D.firstBaseUpdate=L:c.next=L,D.lastBaseUpdate=f))}if(o!==null){var R=l.baseState;a=0,D=L=f=null,c=o;do{var E=c.lane,$=c.eventTime;if((n&E)===E){D!==null&&(D=D.next={eventTime:$,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var V=e,O=c;switch(E=t,$=s,O.tag){case 1:if(V=O.payload,typeof V=="function"){R=V.call($,R,E);break e}R=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=O.payload,E=typeof V=="function"?V.call($,R,E):V,E==null)break e;R=W({},R,E);break e;case 2:Qt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,E=l.effects,E===null?l.effects=[c]:E.push(c))}else $={eventTime:$,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},D===null?(L=D=$,f=R):D=D.next=$,a|=E;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;E=c,c=E.next,E.next=null,l.lastBaseUpdate=E,l.shared.pending=null}}while(!0);if(D===null&&(f=R),l.baseState=f,l.firstBaseUpdate=L,l.lastBaseUpdate=D,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);mr|=a,e.lanes=a,e.memoizedState=R}}function Ia(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=s,typeof l!="function")throw Error(u(191,l));l.call(n)}}}var js={},kt=Ot(js),bs=Ot(js),ws=Ot(js);function dr(e){if(e===js)throw Error(u(174));return e}function Zl(e,t){switch(xe(ws,t),xe(bs,e),xe(kt,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:el(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=el(t,e)}fe(kt),xe(kt,t)}function Ir(){fe(kt),fe(bs),fe(ws)}function Aa(e){dr(ws.current);var t=dr(kt.current),s=el(t,e.type);t!==s&&(xe(bs,e),xe(kt,s))}function eo(e){bs.current===e&&(fe(kt),fe(bs))}var be=Ot(0);function yn(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var vn=T.ReactCurrentDispatcher,so=T.ReactCurrentBatchConfig,cr=0,we=null,ze=null,Pe=null,jn=!1,Ns=!1,ks=0,Qc=0;function We(){throw Error(u(321))}function no(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ft(e[s],t[s]))return!1;return!0}function lo(e,t,s,n,l,o){if(cr=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vn.current=e===null||e.memoizedState===null?Gc:Kc,e=s(n,l),Ns){o=0;do{if(Ns=!1,ks=0,25<=o)throw Error(u(301));o+=1,Pe=ze=null,t.updateQueue=null,vn.current=Zc,e=s(n,l)}while(Ns)}if(vn.current=Nn,t=ze!==null&&ze.next!==null,cr=0,Pe=ze=we=null,jn=!1,t)throw Error(u(300));return e}function oo(){var e=ks!==0;return ks=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?we.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function ct(){if(ze===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Pe===null?we.memoizedState:Pe.next;if(t!==null)Pe=t,ze=e;else{if(e===null)throw Error(u(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Pe===null?we.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ss(e,t){return typeof t=="function"?t(e):t}function io(e){var t=ct(),s=t.queue;if(s===null)throw Error(u(311));s.lastRenderedReducer=e;var n=ze,l=n.baseQueue,o=s.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}n.baseQueue=l=o,s.pending=null}if(l!==null){o=l.next,n=n.baseState;var c=a=null,f=null,L=o;do{var D=L.lane;if((cr&D)===D)f!==null&&(f=f.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),n=L.hasEagerState?L.eagerState:e(n,L.action);else{var R={lane:D,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};f===null?(c=f=R,a=n):f=f.next=R,we.lanes|=D,mr|=D}L=L.next}while(L!==null&&L!==o);f===null?a=n:f.next=c,ft(n,t.memoizedState)||(Ke=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=f,s.lastRenderedState=n}if(e=s.interleaved,e!==null){l=e;do o=l.lane,we.lanes|=o,mr|=o,l=l.next;while(l!==e)}else l===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ao(e){var t=ct(),s=t.queue;if(s===null)throw Error(u(311));s.lastRenderedReducer=e;var n=s.dispatch,l=s.pending,o=t.memoizedState;if(l!==null){s.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);ft(o,t.memoizedState)||(Ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,n]}function $a(){}function Fa(e,t){var s=we,n=ct(),l=t(),o=!ft(n.memoizedState,l);if(o&&(n.memoizedState=l,Ke=!0),n=n.queue,uo(Va.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,Ls(9,Wa.bind(null,s,n,l,t),void 0,null),_e===null)throw Error(u(349));(cr&30)!==0||Ua(s,t,l)}return l}function Ua(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Wa(e,t,s,n){t.value=s,t.getSnapshot=n,Oa(t)&&Ha(e)}function Va(e,t,s){return s(function(){Oa(t)&&Ha(e)})}function Oa(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ft(e,s)}catch{return!0}}function Ha(e){var t=Rt(e,1);t!==null&&bt(t,e,1,-1)}function qa(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t.queue=e,e=e.dispatch=Jc.bind(null,we,e),[t.memoizedState,e]}function Ls(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Qa(){return ct().memoizedState}function bn(e,t,s,n){var l=St();we.flags|=e,l.memoizedState=Ls(1|t,s,void 0,n===void 0?null:n)}function wn(e,t,s,n){var l=ct();n=n===void 0?null:n;var o=void 0;if(ze!==null){var a=ze.memoizedState;if(o=a.destroy,n!==null&&no(n,a.deps)){l.memoizedState=Ls(t,s,o,n);return}}we.flags|=e,l.memoizedState=Ls(1|t,s,o,n)}function Ya(e,t){return bn(8390656,8,e,t)}function uo(e,t){return wn(2048,8,e,t)}function Xa(e,t){return wn(4,2,e,t)}function Ja(e,t){return wn(4,4,e,t)}function Ga(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,s){return s=s!=null?s.concat([e]):null,wn(4,4,Ga.bind(null,t,e),s)}function co(){}function Za(e,t){var s=ct();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&no(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function eu(e,t){var s=ct();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&no(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function tu(e,t,s){return(cr&21)===0?(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=s):(ft(s,t)||(s=zi(),we.lanes|=s,mr|=s,e.baseState=!0),t)}function Yc(e,t){var s=de;de=s!==0&&4>s?s:4,e(!0);var n=so.transition;so.transition={};try{e(!1),t()}finally{de=s,so.transition=n}}function ru(){return ct().memoizedState}function Xc(e,t,s){var n=Kt(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},su(e))nu(t,s);else if(s=Pa(e,t,s,n),s!==null){var l=Qe();bt(s,e,n,l),lu(s,t,n)}}function Jc(e,t,s){var n=Kt(e),l={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(su(e))nu(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,c=o(a,s);if(l.hasEagerState=!0,l.eagerState=c,ft(c,a)){var f=t.interleaved;f===null?(l.next=l,Gl(t)):(l.next=f.next,f.next=l),t.interleaved=l;return}}catch{}finally{}s=Pa(e,t,l,n),s!==null&&(l=Qe(),bt(s,e,n,l),lu(s,t,n))}}function su(e){var t=e.alternate;return e===we||t!==null&&t===we}function nu(e,t){Ns=jn=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function lu(e,t,s){if((s&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,ml(e,s)}}var Nn={readContext:dt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Gc={readContext:dt,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Ya,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,bn(4194308,4,Ga.bind(null,t,e),s)},useLayoutEffect:function(e,t){return bn(4194308,4,e,t)},useInsertionEffect:function(e,t){return bn(4,2,e,t)},useMemo:function(e,t){var s=St();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=St();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xc.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:qa,useDebugValue:co,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=qa(!1),t=e[0];return e=Yc.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=we,l=St();if(je){if(s===void 0)throw Error(u(407));s=s()}else{if(s=t(),_e===null)throw Error(u(349));(cr&30)!==0||Ua(n,t,s)}l.memoizedState=s;var o={value:s,getSnapshot:t};return l.queue=o,Ya(Va.bind(null,n,o,e),[e]),n.flags|=2048,Ls(9,Wa.bind(null,n,o,s,t),void 0,null),s},useId:function(){var e=St(),t=_e.identifierPrefix;if(je){var s=Dt,n=zt;s=(n&~(1<<32-ht(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ks++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Qc++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kc={readContext:dt,useCallback:Za,useContext:dt,useEffect:uo,useImperativeHandle:Ka,useInsertionEffect:Xa,useLayoutEffect:Ja,useMemo:eu,useReducer:io,useRef:Qa,useState:function(){return io(Ss)},useDebugValue:co,useDeferredValue:function(e){var t=ct();return tu(t,ze.memoizedState,e)},useTransition:function(){var e=io(Ss)[0],t=ct().memoizedState;return[e,t]},useMutableSource:$a,useSyncExternalStore:Fa,useId:ru,unstable_isNewReconciler:!1},Zc={readContext:dt,useCallback:Za,useContext:dt,useEffect:uo,useImperativeHandle:Ka,useInsertionEffect:Xa,useLayoutEffect:Ja,useMemo:eu,useReducer:ao,useRef:Qa,useState:function(){return ao(Ss)},useDebugValue:co,useDeferredValue:function(e){var t=ct();return ze===null?t.memoizedState=e:tu(t,ze.memoizedState,e)},useTransition:function(){var e=ao(Ss)[0],t=ct().memoizedState;return[e,t]},useMutableSource:$a,useSyncExternalStore:Fa,useId:ru,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function mo(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:W({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var kn={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Qe(),l=Kt(e),o=Pt(n,l);o.payload=t,s!=null&&(o.callback=s),t=Yt(e,o,l),t!==null&&(bt(t,e,l,n),fn(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Qe(),l=Kt(e),o=Pt(n,l);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Yt(e,o,l),t!==null&&(bt(t,e,l,n),fn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Qe(),n=Kt(e),l=Pt(s,n);l.tag=2,t!=null&&(l.callback=t),t=Yt(e,l,n),t!==null&&(bt(t,e,n,s),fn(t,e,n))}};function ou(e,t,s,n,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!ms(s,n)||!ms(l,o):!0}function iu(e,t,s){var n=!1,l=Ht,o=t.contextType;return typeof o=="object"&&o!==null?o=dt(o):(l=Ge(t)?or:Ue.current,n=t.contextTypes,o=(n=n!=null)?Er(e,l):Ht),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kn,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function au(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&kn.enqueueReplaceState(t,t.state,null)}function po(e,t,s,n){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},Kl(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=dt(o):(o=Ge(t)?or:Ue.current,l.context=Er(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mo(e,t,o,s),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&kn.enqueueReplaceState(l,l.state,null),gn(e,s,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,t){try{var s="",n=t;do s+=se(n),n=n.return;while(n);var l=s}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function xo(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ho(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function uu(e,t,s){s=Pt(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){zn||(zn=!0,Eo=n),ho(e,t)},s}function du(e,t,s){s=Pt(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;s.payload=function(){return n(l)},s.callback=function(){ho(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){ho(e,t),typeof n!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),s}function cu(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new e0;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(s)||(l.add(s),e=x0.bind(null,e,t,s),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pu(e,t,s,n,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Pt(-1,1),t.tag=2,Yt(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var t0=T.ReactCurrentOwner,Ke=!1;function qe(e,t,s,n){t.child=e===null?Ra(t,null,s,n):Pr(t,e.child,s,n)}function xu(e,t,s,n,l){s=s.render;var o=t.ref;return Br(t,l),n=lo(e,t,s,n,o,l),s=oo(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(je&&s&&Wl(t),t.flags|=1,qe(e,t,n,l),t.child)}function hu(e,t,s,n,l){if(e===null){var o=s.type;return typeof o=="function"&&!Io(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,fu(e,t,o,n,l)):(e=In(s.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var a=o.memoizedProps;if(s=s.compare,s=s!==null?s:ms,s(a,n)&&e.ref===t.ref)return _t(e,t,l)}return t.flags|=1,e=er(o,n),e.ref=t.ref,e.return=t,t.child=e}function fu(e,t,s,n,l){if(e!==null){var o=e.memoizedProps;if(ms(o,n)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=n=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,_t(e,t,l)}return fo(e,t,s,n,l)}function gu(e,t,s){var n=t.pendingProps,l=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Fr,it),it|=s;else{if((s&1073741824)===0)return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Fr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:s,xe(Fr,it),it|=n}else o!==null?(n=o.baseLanes|s,t.memoizedState=null):n=s,xe(Fr,it),it|=n;return qe(e,t,l,s),t.child}function yu(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function fo(e,t,s,n,l){var o=Ge(s)?or:Ue.current;return o=Er(t,o),Br(t,l),s=lo(e,t,s,n,o,l),n=oo(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(je&&n&&Wl(t),t.flags|=1,qe(e,t,s,l),t.child)}function vu(e,t,s,n,l){if(Ge(s)){var o=!0;an(t)}else o=!1;if(Br(t,l),t.stateNode===null)Ln(e,t),iu(t,s,n),po(t,s,n,l),n=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var f=a.context,L=s.contextType;typeof L=="object"&&L!==null?L=dt(L):(L=Ge(s)?or:Ue.current,L=Er(t,L));var D=s.getDerivedStateFromProps,R=typeof D=="function"||typeof a.getSnapshotBeforeUpdate=="function";R||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||f!==L)&&au(t,a,n,L),Qt=!1;var E=t.memoizedState;a.state=E,gn(t,n,a,l),f=t.memoizedState,c!==n||E!==f||Je.current||Qt?(typeof D=="function"&&(mo(t,s,D,n),f=t.memoizedState),(c=Qt||ou(t,s,c,n,E,f,L))?(R||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=L,n=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,_a(e,t),c=t.memoizedProps,L=t.type===t.elementType?c:yt(t.type,c),a.props=L,R=t.pendingProps,E=a.context,f=s.contextType,typeof f=="object"&&f!==null?f=dt(f):(f=Ge(s)?or:Ue.current,f=Er(t,f));var $=s.getDerivedStateFromProps;(D=typeof $=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==R||E!==f)&&au(t,a,n,f),Qt=!1,E=t.memoizedState,a.state=E,gn(t,n,a,l);var V=t.memoizedState;c!==R||E!==V||Je.current||Qt?(typeof $=="function"&&(mo(t,s,$,n),V=t.memoizedState),(L=Qt||ou(t,s,L,n,E,V,f)||!1)?(D||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,V,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,V,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=V),a.props=n,a.state=V,a.context=f,n=L):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),n=!1)}return go(e,t,s,n,o,l)}function go(e,t,s,n,l,o){yu(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return l&&ka(t,s,!1),_t(e,t,o);n=t.stateNode,t0.current=t;var c=a&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Pr(t,e.child,null,o),t.child=Pr(t,null,c,o)):qe(e,t,c,o),t.memoizedState=n.state,l&&ka(t,s,!0),t.child}function ju(e){var t=e.stateNode;t.pendingContext?wa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wa(e,t.context,!1),Zl(e,t.containerInfo)}function bu(e,t,s,n,l){return Rr(),ql(l),t.flags|=256,qe(e,t,s,n),t.child}var yo={dehydrated:null,treeContext:null,retryLane:0};function vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function wu(e,t,s){var n=t.pendingProps,l=be.current,o=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),xe(be,l&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=An(a,n,0,null),e=fr(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vo(s),t.memoizedState=yo,e):jo(t,a));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return r0(e,t,a,n,c,l,s);if(o){o=n.fallback,a=t.mode,l=e.child,c=l.sibling;var f={mode:"hidden",children:n.children};return(a&1)===0&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=f,t.deletions=null):(n=er(l,f),n.subtreeFlags=l.subtreeFlags&14680064),c!==null?o=er(c,o):(o=fr(o,a,s,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?vo(s):{baseLanes:a.baseLanes|s,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~s,t.memoizedState=yo,n}return o=e.child,e=o.sibling,n=er(o,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function jo(e,t){return t=An({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sn(e,t,s,n){return n!==null&&ql(n),Pr(t,e.child,null,s),e=jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,s,n,l,o,a){if(s)return t.flags&256?(t.flags&=-257,n=xo(Error(u(422))),Sn(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,l=t.mode,n=An({mode:"visible",children:n.children},l,0,null),o=fr(o,l,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,(t.mode&1)!==0&&Pr(t,e.child,null,a),t.child.memoizedState=vo(a),t.memoizedState=yo,o);if((t.mode&1)===0)return Sn(e,t,a,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(u(419)),n=xo(o,n,void 0),Sn(e,t,a,n)}if(c=(a&e.childLanes)!==0,Ke||c){if(n=_e,n!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(n.suspendedLanes|a))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Rt(e,l),bt(n,e,l,-1))}return Bo(),n=xo(Error(u(421))),Sn(e,t,a,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=h0.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,ot=Vt(l.nextSibling),lt=t,je=!0,gt=null,e!==null&&(at[ut++]=zt,at[ut++]=Dt,at[ut++]=ir,zt=e.id,Dt=e.overflow,ir=t),t=jo(t,n.children),t.flags|=4096,t)}function Nu(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jl(e.return,t,s)}function bo(e,t,s,n,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=s,o.tailMode=l)}function ku(e,t,s){var n=t.pendingProps,l=n.revealOrder,o=n.tail;if(qe(e,t,n.children,s),n=be.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nu(e,s,t);else if(e.tag===19)Nu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xe(be,n),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(s=t.child,l=null;s!==null;)e=s.alternate,e!==null&&yn(e)===null&&(l=s),s=s.sibling;s=l,s===null?(l=t.child,t.child=null):(l=s.sibling,s.sibling=null),bo(t,!1,l,s,o);break;case"backwards":for(s=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&yn(e)===null){t.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}bo(t,!0,s,null,o);break;case"together":bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ln(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,s=er(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=er(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function s0(e,t,s){switch(t.tag){case 3:ju(t),Rr();break;case 5:Aa(t);break;case 1:Ge(t.type)&&an(t);break;case 4:Zl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;xe(xn,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xe(be,be.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?wu(e,t,s):(xe(be,be.current&1),e=_t(e,t,s),e!==null?e.sibling:null);xe(be,be.current&1);break;case 19:if(n=(s&t.childLanes)!==0,(e.flags&128)!==0){if(n)return ku(e,t,s);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),xe(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,gu(e,t,s)}return _t(e,t,s)}var Su,wo,Lu,Cu;Su=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},wo=function(){},Lu=function(e,t,s,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,dr(kt.current);var o=null;switch(s){case"input":l=Jn(e,l),n=Jn(e,n),o=[];break;case"select":l=W({},l,{value:void 0}),n=W({},n,{value:void 0}),o=[];break;case"textarea":l=Zn(e,l),n=Zn(e,n),o=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nn)}tl(s,n);var a;s=null;for(L in l)if(!n.hasOwnProperty(L)&&l.hasOwnProperty(L)&&l[L]!=null)if(L==="style"){var c=l[L];for(a in c)c.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(g.hasOwnProperty(L)?o||(o=[]):(o=o||[]).push(L,null));for(L in n){var f=n[L];if(c=l!=null?l[L]:void 0,n.hasOwnProperty(L)&&f!==c&&(f!=null||c!=null))if(L==="style")if(c){for(a in c)!c.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in f)f.hasOwnProperty(a)&&c[a]!==f[a]&&(s||(s={}),s[a]=f[a])}else s||(o||(o=[]),o.push(L,s)),s=f;else L==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(o=o||[]).push(L,f)):L==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(L,""+f):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(g.hasOwnProperty(L)?(f!=null&&L==="onScroll"&&he("scroll",e),o||c===f||(o=[])):(o=o||[]).push(L,f))}s&&(o=o||[]).push("style",s);var L=o;(t.updateQueue=L)&&(t.flags|=4)}},Cu=function(e,t,s,n){s!==n&&(t.flags|=4)};function Cs(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var l=e.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function n0(e,t,s){var n=t.pendingProps;switch(Vl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ge(t.type)&&on(),Ve(t),null;case 3:return n=t.stateNode,Ir(),fe(Je),fe(Ue),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gt!==null&&(Ro(gt),gt=null))),wo(e,t),Ve(t),null;case 5:eo(t);var l=dr(ws.current);if(s=t.type,e!==null&&t.stateNode!=null)Lu(e,t,s,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ve(t),null}if(e=dr(kt.current),mn(t)){n=t.stateNode,s=t.type;var o=t.memoizedProps;switch(n[Nt]=t,n[gs]=o,e=(t.mode&1)!==0,s){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(l=0;l<xs.length;l++)he(xs[l],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":ii(n,o),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},he("invalid",n);break;case"textarea":di(n,o),he("invalid",n)}tl(s,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&sn(n.textContent,c,e),l=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&sn(n.textContent,c,e),l=["children",""+c]):g.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&he("scroll",n)}switch(s){case"input":Ps(n),ui(n,o,!0);break;case"textarea":Ps(n),mi(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nn)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pi(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(s,{is:n.is}):(e=a.createElement(s),s==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,s),e[Nt]=t,e[gs]=n,Su(e,t,!1,!1),t.stateNode=e;e:{switch(a=rl(s,n),s){case"dialog":he("cancel",e),he("close",e),l=n;break;case"iframe":case"object":case"embed":he("load",e),l=n;break;case"video":case"audio":for(l=0;l<xs.length;l++)he(xs[l],e);l=n;break;case"source":he("error",e),l=n;break;case"img":case"image":case"link":he("error",e),he("load",e),l=n;break;case"details":he("toggle",e),l=n;break;case"input":ii(e,n),l=Jn(e,n),he("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=W({},n,{value:void 0}),he("invalid",e);break;case"textarea":di(e,n),l=Zn(e,n),he("invalid",e);break;default:l=n}tl(s,l),c=l;for(o in c)if(c.hasOwnProperty(o)){var f=c[o];o==="style"?fi(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&xi(e,f)):o==="children"?typeof f=="string"?(s!=="textarea"||f!=="")&&Xr(e,f):typeof f=="number"&&Xr(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(g.hasOwnProperty(o)?f!=null&&o==="onScroll"&&he("scroll",e):f!=null&&ie(e,o,f,a))}switch(s){case"input":Ps(e),ui(e,n,!1);break;case"textarea":Ps(e),mi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ue(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?yr(e,!!n.multiple,o,!1):n.defaultValue!=null&&yr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=nn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Cu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(u(166));if(s=dr(ws.current),dr(kt.current),mn(t)){if(n=t.stateNode,s=t.memoizedProps,n[Nt]=t,(o=n.nodeValue!==s)&&(e=lt,e!==null))switch(e.tag){case 3:sn(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sn(n.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Nt]=t,t.stateNode=n}return Ve(t),null;case 13:if(fe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&ot!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ea(),Rr(),t.flags|=98560,o=!1;else if(o=mn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));o[Nt]=t}else Rr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else gt!==null&&(Ro(gt),gt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?De===0&&(De=3):Bo())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Ir(),wo(e,t),e===null&&hs(t.stateNode.containerInfo),Ve(t),null;case 10:return Xl(t.type._context),Ve(t),null;case 17:return Ge(t.type)&&on(),Ve(t),null;case 19:if(fe(be),o=t.memoizedState,o===null)return Ve(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Cs(o,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=yn(e),a!==null){for(t.flags|=128,Cs(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)o=s,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return xe(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>Ur&&(t.flags|=128,n=!0,Cs(o,!1),t.lanes=4194304)}else{if(!n)if(e=yn(a),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!je)return Ve(t),null}else 2*Se()-o.renderingStartTime>Ur&&s!==1073741824&&(t.flags|=128,n=!0,Cs(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(s=o.last,s!==null?s.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,s=be.current,xe(be,n?s&1|2:s&1),t):(Ve(t),null);case 22:case 23:return _o(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(it&1073741824)!==0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function l0(e,t){switch(Vl(t),t.tag){case 1:return Ge(t.type)&&on(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),fe(Je),fe(Ue),ro(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return eo(t),null;case 13:if(fe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(be),null;case 4:return Ir(),null;case 10:return Xl(t.type._context),null;case 22:case 23:return _o(),null;case 24:return null;default:return null}}var Cn=!1,Oe=!1,o0=typeof WeakSet=="function"?WeakSet:Set,U=null;function $r(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ke(e,t,n)}else s.current=null}function No(e,t,s){try{s()}catch(n){ke(e,t,n)}}var Tu=!1;function i0(e,t){if(Pl=qs,e=oa(),Ll(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var l=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var a=0,c=-1,f=-1,L=0,D=0,R=e,E=null;t:for(;;){for(var $;R!==s||l!==0&&R.nodeType!==3||(c=a+l),R!==o||n!==0&&R.nodeType!==3||(f=a+n),R.nodeType===3&&(a+=R.nodeValue.length),($=R.firstChild)!==null;)E=R,R=$;for(;;){if(R===e)break t;if(E===s&&++L===l&&(c=a),E===o&&++D===n&&(f=a),($=R.nextSibling)!==null)break;R=E,E=R.parentNode}R=$}s=c===-1||f===-1?null:{start:c,end:f}}else s=null}s=s||{start:0,end:0}}else s=null;for(_l={focusedElem:e,selectionRange:s},qs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var V=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var O=V.memoizedProps,Le=V.memoizedState,k=t.stateNode,v=k.getSnapshotBeforeUpdate(t.elementType===t.type?O:yt(t.type,O),Le);k.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(B){ke(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return V=Tu,Tu=!1,V}function Ts(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&No(t,s,o)}l=l.next}while(l!==n)}}function Tn(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function ko(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Mu(e){var t=e.alternate;t!==null&&(e.alternate=null,Mu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[gs],delete t[$l],delete t[Vc],delete t[Oc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eu(e){return e.tag===5||e.tag===3||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function So(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=nn));else if(n!==4&&(e=e.child,e!==null))for(So(e,t,s),e=e.sibling;e!==null;)So(e,t,s),e=e.sibling}function Lo(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lo(e,t,s),e=e.sibling;e!==null;)Lo(e,t,s),e=e.sibling}var Ie=null,vt=!1;function Xt(e,t,s){for(s=s.child;s!==null;)Du(e,t,s),s=s.sibling}function Du(e,t,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Fs,s)}catch{}switch(s.tag){case 5:Oe||$r(s,t);case 6:var n=Ie,l=vt;Ie=null,Xt(e,t,s),Ie=n,vt=l,Ie!==null&&(vt?(e=Ie,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ie.removeChild(s.stateNode));break;case 18:Ie!==null&&(vt?(e=Ie,s=s.stateNode,e.nodeType===8?Al(e.parentNode,s):e.nodeType===1&&Al(e,s),os(e)):Al(Ie,s.stateNode));break;case 4:n=Ie,l=vt,Ie=s.stateNode.containerInfo,vt=!0,Xt(e,t,s),Ie=n,vt=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&No(s,t,a),l=l.next}while(l!==n)}Xt(e,t,s);break;case 1:if(!Oe&&($r(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(c){ke(s,t,c)}Xt(e,t,s);break;case 21:Xt(e,t,s);break;case 22:s.mode&1?(Oe=(n=Oe)||s.memoizedState!==null,Xt(e,t,s),Oe=n):Xt(e,t,s);break;default:Xt(e,t,s)}}function Ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new o0),t.forEach(function(n){var l=f0.bind(null,e,n);s.has(n)||(s.add(n),n.then(l,l))})}}function jt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var l=s[n];try{var o=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ie=c.stateNode,vt=!1;break e;case 3:Ie=c.stateNode.containerInfo,vt=!0;break e;case 4:Ie=c.stateNode.containerInfo,vt=!0;break e}c=c.return}if(Ie===null)throw Error(u(160));Du(o,a,l),Ie=null,vt=!1;var f=l.alternate;f!==null&&(f.return=null),l.return=null}catch(L){ke(l,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Lt(e),n&4){try{Ts(3,e,e.return),Tn(3,e)}catch(O){ke(e,e.return,O)}try{Ts(5,e,e.return)}catch(O){ke(e,e.return,O)}}break;case 1:jt(t,e),Lt(e),n&512&&s!==null&&$r(s,s.return);break;case 5:if(jt(t,e),Lt(e),n&512&&s!==null&&$r(s,s.return),e.flags&32){var l=e.stateNode;try{Xr(l,"")}catch(O){ke(e,e.return,O)}}if(n&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,a=s!==null?s.memoizedProps:o,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&ai(l,o),rl(c,a);var L=rl(c,o);for(a=0;a<f.length;a+=2){var D=f[a],R=f[a+1];D==="style"?fi(l,R):D==="dangerouslySetInnerHTML"?xi(l,R):D==="children"?Xr(l,R):ie(l,D,R,L)}switch(c){case"input":Gn(l,o);break;case"textarea":ci(l,o);break;case"select":var E=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var $=o.value;$!=null?yr(l,!!o.multiple,$,!1):E!==!!o.multiple&&(o.defaultValue!=null?yr(l,!!o.multiple,o.defaultValue,!0):yr(l,!!o.multiple,o.multiple?[]:"",!1))}l[gs]=o}catch(O){ke(e,e.return,O)}}break;case 6:if(jt(t,e),Lt(e),n&4){if(e.stateNode===null)throw Error(u(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(O){ke(e,e.return,O)}}break;case 3:if(jt(t,e),Lt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(O){ke(e,e.return,O)}break;case 4:jt(t,e),Lt(e);break;case 13:jt(t,e),Lt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Mo=Se())),n&4&&Ru(e);break;case 22:if(D=s!==null&&s.memoizedState!==null,e.mode&1?(Oe=(L=Oe)||D,jt(t,e),Oe=L):jt(t,e),Lt(e),n&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!D&&(e.mode&1)!==0)for(U=e,D=e.child;D!==null;){for(R=U=D;U!==null;){switch(E=U,$=E.child,E.tag){case 0:case 11:case 14:case 15:Ts(4,E,E.return);break;case 1:$r(E,E.return);var V=E.stateNode;if(typeof V.componentWillUnmount=="function"){n=E,s=E.return;try{t=n,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(O){ke(n,s,O)}}break;case 5:$r(E,E.return);break;case 22:if(E.memoizedState!==null){Iu(R);continue}}$!==null?($.return=E,U=$):Iu(R)}D=D.sibling}e:for(D=null,R=e;;){if(R.tag===5){if(D===null){D=R;try{l=R.stateNode,L?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=R.stateNode,f=R.memoizedProps.style,a=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=hi("display",a))}catch(O){ke(e,e.return,O)}}}else if(R.tag===6){if(D===null)try{R.stateNode.nodeValue=L?"":R.memoizedProps}catch(O){ke(e,e.return,O)}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===e)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===e)break e;for(;R.sibling===null;){if(R.return===null||R.return===e)break e;D===R&&(D=null),R=R.return}D===R&&(D=null),R.sibling.return=R.return,R=R.sibling}}break;case 19:jt(t,e),Lt(e),n&4&&Ru(e);break;case 21:break;default:jt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Eu(s)){var n=s;break e}s=s.return}throw Error(u(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(Xr(l,""),n.flags&=-33);var o=zu(e);Lo(e,o,l);break;case 3:case 4:var a=n.stateNode.containerInfo,c=zu(e);So(e,c,a);break;default:throw Error(u(161))}}catch(f){ke(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a0(e,t,s){U=e,_u(e)}function _u(e,t,s){for(var n=(e.mode&1)!==0;U!==null;){var l=U,o=l.child;if(l.tag===22&&n){var a=l.memoizedState!==null||Cn;if(!a){var c=l.alternate,f=c!==null&&c.memoizedState!==null||Oe;c=Cn;var L=Oe;if(Cn=a,(Oe=f)&&!L)for(U=l;U!==null;)a=U,f=a.child,a.tag===22&&a.memoizedState!==null?Au(l):f!==null?(f.return=a,U=f):Au(l);for(;o!==null;)U=o,_u(o),o=o.sibling;U=l,Cn=c,Oe=L}Bu(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,U=o):Bu(e)}}function Bu(e){for(;U!==null;){var t=U;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Oe||Tn(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Oe)if(s===null)n.componentDidMount();else{var l=t.elementType===t.type?s.memoizedProps:yt(t.type,s.memoizedProps);n.componentDidUpdate(l,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ia(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Ia(t,a,s)}break;case 5:var c=t.stateNode;if(s===null&&t.flags&4){s=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&s.focus();break;case"img":f.src&&(s.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var D=L.memoizedState;if(D!==null){var R=D.dehydrated;R!==null&&os(R)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}Oe||t.flags&512&&ko(t)}catch(E){ke(t,t.return,E)}}if(t===e){U=null;break}if(s=t.sibling,s!==null){s.return=t.return,U=s;break}U=t.return}}function Iu(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var s=t.sibling;if(s!==null){s.return=t.return,U=s;break}U=t.return}}function Au(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Tn(4,t)}catch(f){ke(t,s,f)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(f){ke(t,l,f)}}var o=t.return;try{ko(t)}catch(f){ke(t,o,f)}break;case 5:var a=t.return;try{ko(t)}catch(f){ke(t,a,f)}}}catch(f){ke(t,t.return,f)}if(t===e){U=null;break}var c=t.sibling;if(c!==null){c.return=t.return,U=c;break}U=t.return}}var u0=Math.ceil,Mn=T.ReactCurrentDispatcher,Co=T.ReactCurrentOwner,mt=T.ReactCurrentBatchConfig,re=0,_e=null,Ce=null,Ae=0,it=0,Fr=Ot(0),De=0,Ms=null,mr=0,En=0,To=0,Es=null,Ze=null,Mo=0,Ur=1/0,Bt=null,zn=!1,Eo=null,Jt=null,Dn=!1,Gt=null,Rn=0,zs=0,zo=null,Pn=-1,_n=0;function Qe(){return(re&6)!==0?Se():Pn!==-1?Pn:Pn=Se()}function Kt(e){return(e.mode&1)===0?1:(re&2)!==0&&Ae!==0?Ae&-Ae:qc.transition!==null?(_n===0&&(_n=zi()),_n):(e=de,e!==0||(e=window.event,e=e===void 0?16:Fi(e.type)),e)}function bt(e,t,s,n){if(50<zs)throw zs=0,zo=null,Error(u(185));ts(e,s,n),((re&2)===0||e!==_e)&&(e===_e&&((re&2)===0&&(En|=s),De===4&&Zt(e,Ae)),et(e,n),s===1&&re===0&&(t.mode&1)===0&&(Ur=Se()+500,un&&qt()))}function et(e,t){var s=e.callbackNode;qd(e,t);var n=Vs(e,e===_e?Ae:0);if(n===0)s!==null&&Ti(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Ti(s),t===1)e.tag===0?Hc(Fu.bind(null,e)):Sa(Fu.bind(null,e)),Uc(function(){(re&6)===0&&qt()}),s=null;else{switch(Di(n)){case 1:s=ul;break;case 4:s=Mi;break;case 16:s=$s;break;case 536870912:s=Ei;break;default:s=$s}s=Yu(s,$u.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function $u(e,t){if(Pn=-1,_n=0,(re&6)!==0)throw Error(u(327));var s=e.callbackNode;if(Wr()&&e.callbackNode!==s)return null;var n=Vs(e,e===_e?Ae:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Bn(e,n);else{t=n;var l=re;re|=2;var o=Wu();(_e!==e||Ae!==t)&&(Bt=null,Ur=Se()+500,xr(e,t));do try{m0();break}catch(c){Uu(e,c)}while(!0);Yl(),Mn.current=o,re=l,Ce!==null?t=0:(_e=null,Ae=0,t=De)}if(t!==0){if(t===2&&(l=dl(e),l!==0&&(n=l,t=Do(e,l))),t===1)throw s=Ms,xr(e,0),Zt(e,n),et(e,Se()),s;if(t===6)Zt(e,n);else{if(l=e.current.alternate,(n&30)===0&&!d0(l)&&(t=Bn(e,n),t===2&&(o=dl(e),o!==0&&(n=o,t=Do(e,o))),t===1))throw s=Ms,xr(e,0),Zt(e,n),et(e,Se()),s;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error(u(345));case 2:hr(e,Ze,Bt);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=Mo+500-Se(),10<t)){if(Vs(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){Qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Il(hr.bind(null,e,Ze,Bt),t);break}hr(e,Ze,Bt);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var a=31-ht(n);o=1<<a,a=t[a],a>l&&(l=a),n&=~o}if(n=l,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u0(n/1960))-n,10<n){e.timeoutHandle=Il(hr.bind(null,e,Ze,Bt),n);break}hr(e,Ze,Bt);break;case 5:hr(e,Ze,Bt);break;default:throw Error(u(329))}}}return et(e,Se()),e.callbackNode===s?$u.bind(null,e):null}function Do(e,t){var s=Es;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Bn(e,t),e!==2&&(t=Ze,Ze=s,t!==null&&Ro(t)),e}function Ro(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function d0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var l=s[n],o=l.getSnapshot;l=l.value;try{if(!ft(o(),l))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~To,t&=~En,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-ht(t),n=1<<s;e[s]=-1,t&=~n}}function Fu(e){if((re&6)!==0)throw Error(u(327));Wr();var t=Vs(e,0);if((t&1)===0)return et(e,Se()),null;var s=Bn(e,t);if(e.tag!==0&&s===2){var n=dl(e);n!==0&&(t=n,s=Do(e,n))}if(s===1)throw s=Ms,xr(e,0),Zt(e,t),et(e,Se()),s;if(s===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Ze,Bt),et(e,Se()),null}function Po(e,t){var s=re;re|=1;try{return e(t)}finally{re=s,re===0&&(Ur=Se()+500,un&&qt())}}function pr(e){Gt!==null&&Gt.tag===0&&(re&6)===0&&Wr();var t=re;re|=1;var s=mt.transition,n=de;try{if(mt.transition=null,de=1,e)return e()}finally{de=n,mt.transition=s,re=t,(re&6)===0&&qt()}}function _o(){it=Fr.current,fe(Fr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Fc(s)),Ce!==null)for(s=Ce.return;s!==null;){var n=s;switch(Vl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&on();break;case 3:Ir(),fe(Je),fe(Ue),ro();break;case 5:eo(n);break;case 4:Ir();break;case 13:fe(be);break;case 19:fe(be);break;case 10:Xl(n.type._context);break;case 22:case 23:_o()}s=s.return}if(_e=e,Ce=e=er(e.current,null),Ae=it=t,De=0,Ms=null,To=En=mr=0,Ze=Es=null,ur!==null){for(t=0;t<ur.length;t++)if(s=ur[t],n=s.interleaved,n!==null){s.interleaved=null;var l=n.next,o=s.pending;if(o!==null){var a=o.next;o.next=l,n.next=a}s.pending=n}ur=null}return e}function Uu(e,t){do{var s=Ce;try{if(Yl(),vn.current=Nn,jn){for(var n=we.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}jn=!1}if(cr=0,Pe=ze=we=null,Ns=!1,ks=0,Co.current=null,s===null||s.return===null){De=1,Ms=t,Ce=null;break}e:{var o=e,a=s.return,c=s,f=t;if(t=Ae,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var L=f,D=c,R=D.tag;if((D.mode&1)===0&&(R===0||R===11||R===15)){var E=D.alternate;E?(D.updateQueue=E.updateQueue,D.memoizedState=E.memoizedState,D.lanes=E.lanes):(D.updateQueue=null,D.memoizedState=null)}var $=mu(a);if($!==null){$.flags&=-257,pu($,a,c,o,t),$.mode&1&&cu(o,L,t),t=$,f=L;var V=t.updateQueue;if(V===null){var O=new Set;O.add(f),t.updateQueue=O}else V.add(f);break e}else{if((t&1)===0){cu(o,L,t),Bo();break e}f=Error(u(426))}}else if(je&&c.mode&1){var Le=mu(a);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),pu(Le,a,c,o,t),ql(Ar(f,c));break e}}o=f=Ar(f,c),De!==4&&(De=2),Es===null?Es=[o]:Es.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var k=uu(o,f,t);Ba(o,k);break e;case 1:c=f;var v=o.type,S=o.stateNode;if((o.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Jt===null||!Jt.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var B=du(o,c,t);Ba(o,B);break e}}o=o.return}while(o!==null)}Ou(s)}catch(q){t=q,Ce===s&&s!==null&&(Ce=s=s.return);continue}break}while(!0)}function Wu(){var e=Mn.current;return Mn.current=Nn,e===null?Nn:e}function Bo(){(De===0||De===3||De===2)&&(De=4),_e===null||(mr&268435455)===0&&(En&268435455)===0||Zt(_e,Ae)}function Bn(e,t){var s=re;re|=2;var n=Wu();(_e!==e||Ae!==t)&&(Bt=null,xr(e,t));do try{c0();break}catch(l){Uu(e,l)}while(!0);if(Yl(),re=s,Mn.current=n,Ce!==null)throw Error(u(261));return _e=null,Ae=0,De}function c0(){for(;Ce!==null;)Vu(Ce)}function m0(){for(;Ce!==null&&!Id();)Vu(Ce)}function Vu(e){var t=Qu(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Ou(e):Ce=t,Co.current=null}function Ou(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=n0(s,t,it),s!==null){Ce=s;return}}else{if(s=l0(s,t),s!==null){s.flags&=32767,Ce=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ce=null;return}}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);De===0&&(De=5)}function hr(e,t,s){var n=de,l=mt.transition;try{mt.transition=null,de=1,p0(e,t,s,n)}finally{mt.transition=l,de=n}return null}function p0(e,t,s,n){do Wr();while(Gt!==null);if((re&6)!==0)throw Error(u(327));s=e.finishedWork;var l=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(Qd(e,o),e===_e&&(Ce=_e=null,Ae=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Dn||(Dn=!0,Yu($s,function(){return Wr(),null})),o=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||o){o=mt.transition,mt.transition=null;var a=de;de=1;var c=re;re|=4,Co.current=null,i0(e,s),Pu(s,e),Rc(_l),qs=!!Pl,_l=Pl=null,e.current=s,a0(s),Ad(),re=c,de=a,mt.transition=o}else e.current=s;if(Dn&&(Dn=!1,Gt=e,Rn=l),o=e.pendingLanes,o===0&&(Jt=null),Ud(s.stateNode),et(e,Se()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)l=t[s],n(l.value,{componentStack:l.stack,digest:l.digest});if(zn)throw zn=!1,e=Eo,Eo=null,e;return(Rn&1)!==0&&e.tag!==0&&Wr(),o=e.pendingLanes,(o&1)!==0?e===zo?zs++:(zs=0,zo=e):zs=0,qt(),null}function Wr(){if(Gt!==null){var e=Di(Rn),t=mt.transition,s=de;try{if(mt.transition=null,de=16>e?16:e,Gt===null)var n=!1;else{if(e=Gt,Gt=null,Rn=0,(re&6)!==0)throw Error(u(331));var l=re;for(re|=4,U=e.current;U!==null;){var o=U,a=o.child;if((U.flags&16)!==0){var c=o.deletions;if(c!==null){for(var f=0;f<c.length;f++){var L=c[f];for(U=L;U!==null;){var D=U;switch(D.tag){case 0:case 11:case 15:Ts(8,D,o)}var R=D.child;if(R!==null)R.return=D,U=R;else for(;U!==null;){D=U;var E=D.sibling,$=D.return;if(Mu(D),D===L){U=null;break}if(E!==null){E.return=$,U=E;break}U=$}}}var V=o.alternate;if(V!==null){var O=V.child;if(O!==null){V.child=null;do{var Le=O.sibling;O.sibling=null,O=Le}while(O!==null)}}U=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,U=a;else e:for(;U!==null;){if(o=U,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Ts(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,U=k;break e}U=o.return}}var v=e.current;for(U=v;U!==null;){a=U;var S=a.child;if((a.subtreeFlags&2064)!==0&&S!==null)S.return=a,U=S;else e:for(a=v;U!==null;){if(c=U,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:Tn(9,c)}}catch(q){ke(c,c.return,q)}if(c===a){U=null;break e}var B=c.sibling;if(B!==null){B.return=c.return,U=B;break e}U=c.return}}if(re=l,qt(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Fs,e)}catch{}n=!0}return n}finally{de=s,mt.transition=t}}return!1}function Hu(e,t,s){t=Ar(s,t),t=uu(e,t,1),e=Yt(e,t,1),t=Qe(),e!==null&&(ts(e,1,t),et(e,t))}function ke(e,t,s){if(e.tag===3)Hu(e,e,s);else for(;t!==null;){if(t.tag===3){Hu(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jt===null||!Jt.has(n))){e=Ar(s,e),e=du(t,e,1),t=Yt(t,e,1),e=Qe(),t!==null&&(ts(t,1,e),et(t,e));break}}t=t.return}}function x0(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&s,_e===e&&(Ae&s)===s&&(De===4||De===3&&(Ae&130023424)===Ae&&500>Se()-Mo?xr(e,0):To|=s),et(e,t)}function qu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var s=Qe();e=Rt(e,t),e!==null&&(ts(e,t,s),et(e,s))}function h0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),qu(e,s)}function f0(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(s=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(u(314))}n!==null&&n.delete(t),qu(e,s)}var Qu;Qu=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ke=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return Ke=!1,s0(e,t,s);Ke=(e.flags&131072)!==0}else Ke=!1,je&&(t.flags&1048576)!==0&&La(t,cn,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ln(e,t),e=t.pendingProps;var l=Er(t,Ue.current);Br(t,s),l=lo(null,t,n,e,l,s);var o=oo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(n)?(o=!0,an(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Kl(t),l.updater=kn,t.stateNode=l,l._reactInternals=t,po(t,n,e,s),t=go(null,t,n,!0,o,s)):(t.tag=0,je&&o&&Wl(t),qe(null,t,l,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Ln(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=y0(n),e=yt(n,e),l){case 0:t=fo(null,t,n,e,s);break e;case 1:t=vu(null,t,n,e,s);break e;case 11:t=xu(null,t,n,e,s);break e;case 14:t=hu(null,t,n,yt(n.type,e),s);break e}throw Error(u(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:yt(n,l),fo(e,t,n,l,s);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:yt(n,l),vu(e,t,n,l,s);case 3:e:{if(ju(t),e===null)throw Error(u(387));n=t.pendingProps,o=t.memoizedState,l=o.element,_a(e,t),gn(t,n,null,s);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Ar(Error(u(423)),t),t=bu(e,t,n,s,l);break e}else if(n!==l){l=Ar(Error(u(424)),t),t=bu(e,t,n,s,l);break e}else for(ot=Vt(t.stateNode.containerInfo.firstChild),lt=t,je=!0,gt=null,s=Ra(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),n===l){t=_t(e,t,s);break e}qe(e,t,n,s)}t=t.child}return t;case 5:return Aa(t),e===null&&Hl(t),n=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,a=l.children,Bl(n,l)?a=null:o!==null&&Bl(n,o)&&(t.flags|=32),yu(e,t),qe(e,t,a,s),t.child;case 6:return e===null&&Hl(t),null;case 13:return wu(e,t,s);case 4:return Zl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pr(t,null,n,s):qe(e,t,n,s),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:yt(n,l),xu(e,t,n,l,s);case 7:return qe(e,t,t.pendingProps,s),t.child;case 8:return qe(e,t,t.pendingProps.children,s),t.child;case 12:return qe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,o=t.memoizedProps,a=l.value,xe(xn,n._currentValue),n._currentValue=a,o!==null)if(ft(o.value,a)){if(o.children===l.children&&!Je.current){t=_t(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var f=c.firstContext;f!==null;){if(f.context===n){if(o.tag===1){f=Pt(-1,s&-s),f.tag=2;var L=o.updateQueue;if(L!==null){L=L.shared;var D=L.pending;D===null?f.next=f:(f.next=D.next,D.next=f),L.pending=f}}o.lanes|=s,f=o.alternate,f!==null&&(f.lanes|=s),Jl(o.return,s,t),c.lanes|=s;break}f=f.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(u(341));a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Jl(a,s,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}qe(e,t,l.children,s),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,Br(t,s),l=dt(l),n=n(l),t.flags|=1,qe(e,t,n,s),t.child;case 14:return n=t.type,l=yt(n,t.pendingProps),l=yt(n.type,l),hu(e,t,n,l,s);case 15:return fu(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:yt(n,l),Ln(e,t),t.tag=1,Ge(n)?(e=!0,an(t)):e=!1,Br(t,s),iu(t,n,l),po(t,n,l,s),go(null,t,n,!0,e,s);case 19:return ku(e,t,s);case 22:return gu(e,t,s)}throw Error(u(156,t.tag))};function Yu(e,t){return Ci(e,t)}function g0(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,s,n){return new g0(e,t,s,n)}function Io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y0(e){if(typeof e=="function")return Io(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Re)return 11;if(e===Ye)return 14}return 2}function er(e,t){var s=e.alternate;return s===null?(s=pt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function In(e,t,s,n,l,o){var a=2;if(n=e,typeof e=="function")Io(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case me:return fr(s.children,l,o,t);case He:a=8,l|=8;break;case xt:return e=pt(12,s,t,l|2),e.elementType=xt,e.lanes=o,e;case Ee:return e=pt(13,s,t,l),e.elementType=Ee,e.lanes=o,e;case rt:return e=pt(19,s,t,l),e.elementType=rt,e.lanes=o,e;case Ne:return An(s,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Me:a=10;break e;case oe:a=9;break e;case Re:a=11;break e;case Ye:a=14;break e;case Xe:a=16,n=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=pt(a,s,t,l),t.elementType=e,t.type=n,t.lanes=o,t}function fr(e,t,s,n){return e=pt(7,e,n,t),e.lanes=s,e}function An(e,t,s,n){return e=pt(22,e,n,t),e.elementType=Ne,e.lanes=s,e.stateNode={isHidden:!1},e}function Ao(e,t,s){return e=pt(6,e,null,t),e.lanes=s,e}function $o(e,t,s){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v0(e,t,s,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Fo(e,t,s,n,l,o,a,c,f){return e=new v0(e,t,s,c,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(o),e}function j0(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Xu(e){if(!e)return Ht;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var s=e.type;if(Ge(s))return Na(e,s,t)}return t}function Ju(e,t,s,n,l,o,a,c,f){return e=Fo(s,n,!0,e,l,o,a,c,f),e.context=Xu(null),s=e.current,n=Qe(),l=Kt(s),o=Pt(n,l),o.callback=t??null,Yt(s,o,l),e.current.lanes=l,ts(e,l,n),et(e,n),e}function $n(e,t,s,n){var l=t.current,o=Qe(),a=Kt(l);return s=Xu(s),t.context===null?t.context=s:t.pendingContext=s,t=Pt(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(l,t,a),e!==null&&(bt(e,l,a,o),fn(e,l,a)),a}function Fn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Uo(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function b0(){return null}var Ku=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wo(e){this._internalRoot=e}Un.prototype.render=Wo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));$n(e,t,null,null)},Un.prototype.unmount=Wo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){$n(null,e,null,null)}),t[Mt]=null}};function Un(e){this._internalRoot=e}Un.prototype.unstable_scheduleHydration=function(e){if(e){var t=_i();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ft.length&&t!==0&&t<Ft[s].priority;s++);Ft.splice(s,0,e),s===0&&Ai(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wn(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zu(){}function w0(e,t,s,n,l){if(l){if(typeof n=="function"){var o=n;n=function(){var L=Fn(a);o.call(L)}}var a=Ju(t,n,e,0,null,!1,!1,"",Zu);return e._reactRootContainer=a,e[Mt]=a.current,hs(e.nodeType===8?e.parentNode:e),pr(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var c=n;n=function(){var L=Fn(f);c.call(L)}}var f=Fo(e,0,!1,null,null,!1,!1,"",Zu);return e._reactRootContainer=f,e[Mt]=f.current,hs(e.nodeType===8?e.parentNode:e),pr(function(){$n(t,f,s,n)}),f}function Vn(e,t,s,n,l){var o=s._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var c=l;l=function(){var f=Fn(a);c.call(f)}}$n(t,a,e,l)}else a=w0(s,t,e,l,n);return Fn(a)}Ri=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=es(t.pendingLanes);s!==0&&(ml(t,s|1),et(t,Se()),(re&6)===0&&(Ur=Se()+500,qt()))}break;case 13:pr(function(){var n=Rt(e,1);if(n!==null){var l=Qe();bt(n,e,1,l)}}),Uo(e,1)}},pl=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var s=Qe();bt(t,e,134217728,s)}Uo(e,134217728)}},Pi=function(e){if(e.tag===13){var t=Kt(e),s=Rt(e,t);if(s!==null){var n=Qe();bt(s,e,t,n)}Uo(e,t)}},_i=function(){return de},Bi=function(e,t){var s=de;try{return de=e,t()}finally{de=s}},ll=function(e,t,s){switch(t){case"input":if(Gn(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var l=ln(n);if(!l)throw Error(u(90));oi(n),Gn(n,l)}}}break;case"textarea":ci(e,s);break;case"select":t=s.value,t!=null&&yr(e,!!s.multiple,t,!1)}},ji=Po,bi=pr;var N0={usingClientEntryPoint:!1,Events:[ys,Tr,ln,yi,vi,Po]},Ds={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Si(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||b0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var On=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!On.isDisabled&&On.supportsFiber)try{Fs=On.inject(k0),wt=On}catch{}}return tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0,tt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(u(200));return j0(e,t,null,s)},tt.createRoot=function(e,t){if(!Vo(e))throw Error(u(299));var s=!1,n="",l=Ku;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Fo(e,1,!1,null,null,s,!1,n,l),e[Mt]=t.current,hs(e.nodeType===8?e.parentNode:e),new Wo(t)},tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=Si(t),e=e===null?null:e.stateNode,e},tt.flushSync=function(e){return pr(e)},tt.hydrate=function(e,t,s){if(!Wn(t))throw Error(u(200));return Vn(null,e,t,!0,s)},tt.hydrateRoot=function(e,t,s){if(!Vo(e))throw Error(u(405));var n=s!=null&&s.hydratedSources||null,l=!1,o="",a=Ku;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),t=Ju(t,null,e,1,s??null,l,!1,o,a),e[Mt]=t.current,hs(e),n)for(e=0;e<n.length;e++)s=n[e],l=s._getVersion,l=l(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,l]:t.mutableSourceEagerHydrationData.push(s,l);return new Un(t)},tt.render=function(e,t,s){if(!Wn(t))throw Error(u(200));return Vn(null,e,t,!1,s)},tt.unmountComponentAtNode=function(e){if(!Wn(e))throw Error(u(40));return e._reactRootContainer?(pr(function(){Vn(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1},tt.unstable_batchedUpdates=Po,tt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Wn(s))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return Vn(e,t,s,!1,n)},tt.version="18.3.1-next-f1338f8080-20240426",tt}var id;function wd(){if(id)return qo.exports;id=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),qo.exports=D0(),qo.exports}var ad;function R0(){if(ad)return Hn;ad=1;var i=wd();return Hn.createRoot=i.createRoot,Hn.hydrateRoot=i.hydrateRoot,Hn}var P0=R0();const _0=bd(P0);function Nd(i,d=!0){const u=i.length,x=new Array(u).fill(0);let g=0;for(let j=u-1;j>=0;j--){const m=i[j],p=m.supplyAssets+(d?m.pendingInterest:0);g+=p,x[j]=g}return x}function kd(i){const d=i.length,u=new Array(d).fill(0);let x=0;for(let g=d-1;g>=0;g--)x+=i[g].borrowAssets,u[g]=x;return u}function Sd(i,d){return i.map((u,x)=>Math.max(0,u-d[x]))}function B0(i){const d=i.length,u=new Array(d).fill(0),x=new Set;let g=1/0,j=-1;for(let m=0;m<d;m++)i[m]<g&&(g=i[m],j=m),u[m]=g,i[m]>u[m]&&j>=0&&x.add(j);return{freeSupply:u,bindingIndices:Array.from(x)}}function Ld(i,d){return i.map((u,x)=>u+d[x].borrowAssets)}function I0(i,d,u=!0){return i.map((x,g)=>d[g]===0?null:(x.supplyAssets+(u?x.pendingInterest:0))/d[g])}function A0(i,d){return i.map((u,x)=>u===0?null:(u-d[x])/u)}function $0(i,d,u=!0){const x=i.length,g=new Array(x).fill(null),j=new Array(x).fill(0);let m=0;for(let p=0;p<x;p++){const h=i[p].borrowAssets*i[p].borrowRate,N=m+h,y=d[p]??1,b=N*y;j[p]=b,m=N*(1-y)}for(let p=0;p<x;p++){const h=i[p].supplyAssets+(u?i[p].pendingInterest:0);h===0?g[p]=null:g[p]=j[p]/h}return g}function F0(i,d=!0){const u=Nd(i,d),x=kd(i),g=Sd(u,x),{freeSupply:j,bindingIndices:m}=B0(g),p=Ld(g,i),h=I0(i,p,d),N=A0(u,j),y=$0(i,h,d),b=new Set(m);return i.map((M,C)=>({...M,jrSupply:u[C],jrBorrow:x[C],jrNetSupply:g[C],freeSupply:j[C],availableSupply:p[C],isBindingConstraint:b.has(C),supplyUtilization:h[C],borrowUtilization:N[C],supplyRate:y[C]}))}function te(i,d=2){return i===null||!Number.isFinite(i)?"-":i.toLocaleString(void 0,{minimumFractionDigits:d,maximumFractionDigits:d})}function ge(i,d=2){return i===null||!Number.isFinite(i)?"-":(i*100).toFixed(d)+"%"}function U0(i){switch(i){case"1week":return 1/52;case"1month":return 1/12;case"3months":return 3/12;case"1year":return 1}}function W0(i,d){const u=U0(d),x=i.length,g=i.map(N=>N.borrowAssets*N.borrowRate*u),j=new Array(x).fill(0),m=new Array(x).fill(0);let p=0;for(let N=0;N<x;N++){const y=p+g[N],b=i[N].supplyUtilization??1;j[N]=y*b,m[N]=y*(1-b),p=m[N]}const h=i.map((N,y)=>{const b=N.supplyAssets;return{index:y,lltv:N.lltv,interestGenerated:g[y],interestReceived:j[y],interestCascaded:m[y],netPosition:j[y]-g[y],impliedSupplyRate:b>0?j[y]/b/u:null}});return{timePeriod:d,timeInYears:u,tranches:h,totalInterestGenerated:g.reduce((N,y)=>N+y,0),totalInterestReceived:j.reduce((N,y)=>N+y,0)}}function V0(i,d,u){const x=i.length;let g;typeof d=="number"?g=[{trancheIndex:d,amount:0}]:g=d;const j=new Array(x).fill(0);for(const y of g)y.trancheIndex>=0&&y.trancheIndex<x&&(j[y.trancheIndex]+=y.amount);const m=g.reduce((y,b)=>y+b.amount,0),p=i.map((y,b)=>({index:b,lltv:y.lltv,originalSupply:y.supplyAssets,supplyUtilization:y.supplyUtilization??1,badDebtCascadedIn:0,badDebtLocal:j[b],badDebtAbsorbed:0,badDebtCascadedOut:0,remainingSupply:y.supplyAssets,wipedOut:!1}));let h=0;for(let y=0;y<x;y++){const b=p[y];b.badDebtCascadedIn=h;const M=h+b.badDebtLocal,C=y===x-1?1:i[y].supplyUtilization??1;b.supplyUtilization=C;const I=Math.min(M*C,b.originalSupply);b.badDebtAbsorbed=I,b.remainingSupply=b.originalSupply-I,b.wipedOut=b.remainingSupply===0&&I>0,b.badDebtCascadedOut=M*(1-C),h=b.badDebtCascadedOut}const N=p.reduce((y,b)=>y+b.badDebtAbsorbed,0);return{badDebtEvents:g,totalBadDebt:m,tranches:p,totalAbsorbed:N,unabsorbedBadDebt:m-N}}const O0=[75,80,85,90,95],H0=[{supplyAssets:2500,borrowAssets:2e3,pendingInterest:0,borrowRate:.005},{supplyAssets:2500,borrowAssets:2200,pendingInterest:0,borrowRate:.01},{supplyAssets:1e3,borrowAssets:2e3,pendingInterest:0,borrowRate:.03},{supplyAssets:2e3,borrowAssets:1600,pendingInterest:0,borrowRate:.06},{supplyAssets:2e3,borrowAssets:1200,pendingInterest:0,borrowRate:.14}];function q0(){return H0.map((i,d)=>({...i,id:d,lltv:O0[d]}))}const Q0=[{id:"intro",label:"Get Started",icon:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),description:"What is Lotus Protocol?"},{id:"lotususd",label:"Stable Backing",icon:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),description:"Treasury rates & productive debt"},{id:"risk",label:"Risk Layers",icon:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),description:"Why LLTV determines risk & reward"},{id:"tranches",label:"Liquidity Flow",icon:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),description:"Connected supply across tranches"},{id:"interest-bad-debt",label:"Interest & Losses",icon:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),description:"How value and bad debt cascade"},{id:"vaults",label:"Your Strategy",icon:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),description:"Choose your allocation approach"}];function Y0({activeSection:i,onSectionChange:d,visitedSections:u}){const[x,g]=P.useState(()=>typeof window<"u"?window.innerWidth<1024:!0);return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>g(!x),className:"lg:hidden fixed top-4 left-4 z-50 p-3 bg-lotus-grey-800 border border-lotus-grey-700 rounded-xl text-lotus-grey-100 hover:bg-lotus-grey-700 transition-colors shadow-lg","aria-label":x?"Open navigation":"Close navigation",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("aside",{className:`fixed left-0 top-0 h-full bg-lotus-grey-800 border-r border-lotus-grey-700 z-40 transition-transform duration-300 ${x?"-translate-x-full lg:translate-x-0":"translate-x-0"} w-72 lg:w-64`,children:[r.jsx("div",{className:"p-6 border-b border-lotus-grey-700",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lotus-grey-100 font-medium",children:"Lotus Protocol"}),r.jsx("p",{className:"text-xs text-lotus-grey-300",children:"Interactive Docs"})]})]})}),r.jsx("nav",{className:"p-4 overflow-y-auto h-[calc(100%-120px)]",children:r.jsx("div",{className:"space-y-1",children:Q0.map(j=>{const m=i===j.id,p=u.has(j.id);return r.jsx("button",{onClick:()=>{d(j.id),g(!0)},className:`w-full text-left px-3 py-3 rounded-lg transition-all group ${m?"bg-lotus-purple-900/50 border border-lotus-purple-500":"hover:bg-lotus-grey-700 border border-transparent"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${m?"bg-lotus-purple-500 text-white":p?"bg-lotus-purple-800 text-lotus-purple-300":"bg-lotus-grey-700 text-lotus-grey-300"}`,children:p&&!m?r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}):j.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`text-sm font-medium truncate ${m?"text-lotus-purple-300":"text-lotus-grey-200 group-hover:text-lotus-grey-100"}`,children:j.label}),r.jsx("div",{className:"text-xs text-lotus-grey-300 truncate mt-0.5",children:j.description})]})]})},j.id)})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-lotus-grey-700 bg-lotus-grey-800",children:r.jsxs("a",{href:"https://lotus-protocol.gitbook.io/lotus/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-lotus-grey-300 hover:text-lotus-purple-400 transition-colors",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View full documentation"]})})]}),!x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>g(!0)})]})}function X0({title:i,headline:d,subtitle:u,transitionText:x,children:g,nextSection:j,onNavigate:m}){return r.jsxs("div",{className:"animate-fadeIn",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center gap-3 mb-2",children:r.jsx("span",{className:"text-sm font-medium text-lotus-purple-400 bg-lotus-purple-900/30 px-2.5 py-0.5 rounded-full",children:i})}),r.jsx("h2",{className:"text-2xl font-medium text-lotus-grey-100 mb-2",children:d||i}),u&&r.jsx("p",{className:"text-lotus-grey-400 text-lg",children:u})]}),r.jsx("div",{className:"space-y-6",children:g}),j&&m&&r.jsxs("div",{className:"mt-16 pt-8 border-t border-lotus-grey-700",children:[x&&r.jsx("p",{className:"text-lotus-grey-300 text-base mb-6 text-center max-w-2xl mx-auto",children:x}),r.jsxs("button",{onClick:()=>m(j.id),className:"group flex items-center justify-center gap-3 w-full py-5 px-6 bg-lotus-purple-600 hover:bg-lotus-purple-500 text-white font-medium text-lg rounded-xl transition-all shadow-lg shadow-lotus-purple-900/30 hover:shadow-lotus-purple-900/50",children:[r.jsxs("span",{children:["Continue to ",j.label]}),r.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})}const Xo=[{title:"Welcome to Lotus Protocol",description:"This interactive documentation will help you understand how Lotus's lending protocol works. You can explore at your own pace.",highlight:"welcome"},{title:"Navigate by Section",description:"Use the sidebar to jump between topics. Each section builds on the previous one, but you can explore in any order.",highlight:"sidebar"},{title:"Start with LotusUSD",description:"LotusUSD is the foundation. It generates a base rate from treasury backing that powers the entire system.",highlight:"lotususd"},{title:"Interactive Simulators",description:"Adjust values and see real-time calculations. The simulators help you understand the math behind the protocol.",highlight:"simulator"},{title:"Ready to Explore",description:"You're all set! Start with the Introduction or jump to any section that interests you.",highlight:"done"}];function J0({onComplete:i}){const[d,u]=P.useState(0),[x,g]=P.useState(!0),j=Xo[d],m=d===Xo.length-1,p=()=>{m?(g(!1),setTimeout(()=>i(),300)):u(N=>N+1)},h=()=>{g(!1),setTimeout(()=>i(),300)};return P.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),x?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:h}),r.jsxs("div",{className:"relative bg-lotus-grey-800 border border-lotus-grey-700 rounded-xl p-8 max-w-md w-full mx-4 shadow-lotus-lg animate-slideIn",children:[r.jsx("div",{className:"flex justify-center gap-2 mb-6",children:Xo.map((N,y)=>r.jsx("button",{onClick:()=>u(y),className:`w-2 h-2 rounded-full transition-all ${y===d?"bg-lotus-purple-500 w-6":y<d?"bg-lotus-purple-800":"bg-lotus-grey-600"}`,"aria-label":`Go to step ${y+1}`},y))}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"w-16 h-16 bg-lotus-purple-900/50 border border-lotus-purple-500 rounded-2xl flex items-center justify-center",children:[d===0&&r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),d===1&&r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h7"})}),d===2&&r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d===3&&r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),d===4&&r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-xl font-medium text-lotus-grey-100 mb-3",children:j.title}),r.jsx("p",{className:"text-lotus-grey-400 leading-relaxed",children:j.description})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("button",{onClick:h,className:"text-sm text-lotus-grey-500 hover:text-lotus-grey-300 transition-colors",children:"Skip tour"}),r.jsxs("button",{onClick:p,className:"px-6 py-2.5 bg-lotus-purple-500 hover:bg-lotus-purple-600 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[m?"Get Started":"Next",r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):null}function G0({onStartTour:i,onSkip:d}){return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),r.jsxs("div",{className:"relative bg-lotus-grey-800 border border-lotus-grey-700 rounded-xl max-w-lg w-full mx-4 shadow-lotus-lg animate-slideIn overflow-hidden",children:[r.jsx("div",{className:"h-2 bg-gradient-to-r from-lotus-purple-800 via-lotus-purple-500 to-lotus-purple-800"}),r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-20 h-20 bg-lotus-purple-900/50 border border-lotus-purple-500/50 rounded-2xl flex items-center justify-center",children:r.jsx("svg",{className:"w-10 h-10 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-medium text-lotus-grey-100 mb-3",children:"Welcome to Lotus Protocol"}),r.jsx("p",{className:"text-lotus-grey-400 leading-relaxed mb-6",children:"This interactive documentation will help you understand how Lotus's connected-liquidity lending protocol works."}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"p-3 bg-lotus-grey-700/50 rounded-lg",children:[r.jsx("div",{className:"text-lotus-purple-400 mb-1",children:r.jsx("svg",{className:"w-5 h-5 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Interactive"})]}),r.jsxs("div",{className:"p-3 bg-lotus-grey-700/50 rounded-lg",children:[r.jsx("div",{className:"text-lotus-purple-400 mb-1",children:r.jsx("svg",{className:"w-5 h-5 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Real-time"})]}),r.jsxs("div",{className:"p-3 bg-lotus-grey-700/50 rounded-lg",children:[r.jsx("div",{className:"text-lotus-purple-400 mb-1",children:r.jsx("svg",{className:"w-5 h-5 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Educational"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:i,className:"w-full px-6 py-3 bg-lotus-purple-500 hover:bg-lotus-purple-600 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:["Take the Tour",r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),r.jsx("button",{onClick:d,className:"w-full px-6 py-3 text-lotus-grey-400 hover:text-lotus-grey-200 font-medium transition-colors",children:"Skip, I'll explore on my own"})]})]})]})]})}var Qr=wd();const K0={ltv:{term:"LTV",shortDef:"Loan-to-Value  the current ratio of your borrowed amount to your collateral value.",fullDef:"LTV measures how much you've borrowed relative to your collateral. Unlike LLTV (which is the maximum), LTV is your current position. If your LTV exceeds the tranche's LLTV, your position becomes liquidatable.",formula:"LTV = Borrowed Amount / Collateral Value",example:"Borrowed $6,000 against $10,000 collateral  LTV = 60%",related:["lltv","health-factor","liquidation"]},lif:{term:"LIF",shortDef:"Liquidation Incentive Factor  the bonus liquidators receive for repaying bad debt.",fullDef:"LIF determines how much collateral a liquidator receives per unit of debt they repay. A LIF of 1.10 means liquidators get $1.10 in collateral for every $1.00 of debt repaid. Higher LLTV tranches have lower LIF (less profit for liquidators), which can slow liquidations.",formula:"LIF = min(1.15, 1 / (0.3  LLTV + 0.7))",example:"At 85% LLTV, LIF  1.08  liquidators earn 8% profit on liquidations",related:["liquidation","lltv","bad-debt"]},tranche:{term:"Tranche",shortDef:"A risk tier defined by its LLTV  higher LLTV means higher risk and higher potential yield.",fullDef:"Tranches are risk layers in Lotus Protocol. Each tranche has a specific LLTV (like 75%, 85%, 95%). Lenders choose which tranche to supply to based on their risk tolerance. Senior tranches (lower LLTV) are safer but earn less, while junior tranches (higher LLTV) earn more but face more bad debt risk.",example:"75% LLTV tranche = senior/safer, 95% LLTV tranche = junior/riskier",related:["lltv","tranche-seniority","cascade"]},"cascading-supply":{term:"Cascading Supply",shortDef:"Unused supply from junior tranches flows upward to support senior borrowers.",fullDef:"Unlike isolated lending pools, Lotus connects tranches through cascading supply. When borrowers at a senior tranche need liquidity, they can use supply from junior tranches that isn't being utilized at that level. This maximizes capital efficiency.",example:"If 95% LLTV has $5M unused supply, it can support 75% LLTV borrowers",related:["connected-liquidity","tranche","free-supply"]},"free-supply":{term:"Free Supply",shortDef:"The amount of liquidity available to be borrowed or withdrawn from a tranche.",fullDef:"Free Supply represents the liquidity that can actually be accessed. It's constrained by the minimum Junior Net Supply across all more senior tranches. Even if a junior tranche has excess liquidity, it can only be withdrawn if senior tranches also have available liquidity.",formula:"Free Supply = min(Jr Net Supply at this and all senior tranches)",example:"If 75% tranche has 1000 Jr Net and 80% has 500, the 80% free supply is limited to 500",related:["cascading-supply","connected-liquidity"]},lltv:{term:"LLTV",shortDef:"Loan-to-Liquidation-Value  the maximum percentage you can borrow against your collateral before liquidation.",fullDef:"LLTV determines when a position becomes liquidatable. An 80% LLTV means if you deposit $10,000 collateral, you can borrow up to $8,000 before risking liquidation. Higher LLTVs offer more leverage but leave less buffer before liquidation.",formula:"LLTV = Max Borrow / Collateral Value",example:"At 80% LLTV with $10,000 collateral: max borrow = $8,000, liquidation buffer = 20%",related:["health-factor","liquidation","tranche-seniority"]},"health-factor":{term:"Health Factor",shortDef:"A measure of position safety. Above 1 = safe, below 1 = liquidatable.",fullDef:"Health Factor compares your current loan-to-value against the tranche's LLTV limit. A health factor of 1.5 means your collateral could drop 33% before liquidation. Below 1.0, your position can be liquidated.",formula:"Health Factor = LLTV / Current LTV",example:"Current LTV 60%, LLTV 80%  Health Factor = 0.80/0.60 = 1.33 (safe)",related:["lltv","liquidation"]},"tranche-seniority":{term:"Tranche Seniority",shortDef:"Senior tranches (lower LLTV) are safer and earn less. Junior tranches (higher LLTV) earn more but absorb losses first.",fullDef:"Think of tranches like floors in a building during a flood. Senior tranches are higher floors  water (losses) reaches them last. Junior tranches are ground floor  they absorb losses first, but earn higher yields to compensate for this risk.",example:"75% LLTV = senior (safer, ~4% yield), 95% LLTV = junior (riskier, ~8% yield)",related:["lltv","cascade","bad-debt"]},liquidation:{term:"Liquidation",shortDef:"When your collateral is seized and sold to repay your debt because your position became too risky.",fullDef:"Liquidation protects lenders by ensuring debt is repaid before collateral value falls too far. When your LTV exceeds the tranche's LLTV, liquidators can repay your debt and receive your collateral at a discount. You lose your collateral but your debt is cleared.",example:"If collateral drops from $10,000 to $8,500 and you borrowed $8,000 at 95% LLTV, liquidators can seize your collateral.",related:["lltv","health-factor","bad-debt"]},"bad-debt":{term:"Bad Debt",shortDef:"Debt that cannot be fully recovered from liquidation  the shortfall is absorbed by lenders.",fullDef:"Bad debt occurs when collateral value drops so fast that even after liquidation, there's not enough to cover the debt. This shortfall cascades through tranches from senior to junior, with junior tranches absorbing whatever senior tranches couldn't.",example:"Borrower owes $10,000, collateral liquidates for $9,000  $1,000 bad debt absorbed by tranches",related:["liquidation","cascade","tranche-seniority"]},cascade:{term:"Cascade",shortDef:"How interest and bad debt flow through tranches  from senior to junior.",fullDef:"The cascade mechanism distributes interest and absorbs bad debt proportionally based on supply utilization at each tranche level. Interest generated at each level cascades down to more junior tranches. Bad debt follows the same path, being absorbed proportionally at each level.",formula:"Absorbed = (Local Interest + Cascaded In)  Supply Utilization",related:["tranche-seniority","supply-utilization"]},"supply-utilization":{term:"Supply Utilization",shortDef:"The percentage of lender deposits that are currently being borrowed.",fullDef:"Supply utilization determines how much of each tranche's supply is actually being used. Higher utilization means more of your deposit is earning the full borrow rate. Lower utilization means more is earning only the productive debt base rate.",formula:"Supply Utilization = Borrowed Amount / Available Supply",example:"If $8M is borrowed from $10M supplied, utilization = 80%",related:["supply-rate","cascade"]},spread:{term:"Credit Spread",shortDef:"The additional rate set by the IRM on top of the base rate  determines the gap between borrow and supply rates.",fullDef:`The credit spread is set by the Interest Rate Model (IRM) based on utilization. In traditional lending, the spread is "lost" value  borrowers pay more than lenders receive. Lotus's productive debt (PD) mechanism compresses this spread by ensuring idle supply earns treasury yields, reducing the gap between borrow and supply rates.`,formula:"Borrow Rate = Base Rate + Credit Spread",example:"Base rate 3%, credit spread 2%  borrow rate = 5%",related:["supply-rate","borrow-rate","productive-debt"]},"productive-debt":{term:"Productive Debt (PD)",shortDef:"Yield earned by idle supply from treasury-backed assets, even when not being borrowed.",fullDef:"Productive debt (PD) is Lotus's mechanism where unborrowed funds continue earning yield. Unlike traditional lending where unborrowed funds earn nothing, Lotus backs its stablecoin with US Treasuries. This treasury yield flows to all lenders as a base rate, meaning your deposits earn yield even when utilization is low.",formula:"PD Rate = Treasury Rate  Treasury Allocation",example:"Treasury rate 4%, allocation 80%  PD base rate = 3.2% for all lenders",related:["lotususd","spread","supply-rate"]},"connected-liquidity":{term:"Connected Liquidity",shortDef:"Liquidity shared across tranches, unlike isolated pools where each market is separate.",fullDef:"In isolated lending pools, each market has its own liquidity that can't be shared. Lotus connects tranches so unused junior supply can support senior borrowers, and interest flows back down. This creates deeper markets and more efficient rates.",example:"Unused 95% LLTV supply cascades up to support 75% LLTV borrowers if needed",related:["cascade","tranche-seniority"]},"vault-manager":{term:"Vault Manager",shortDef:"A strategist who allocates vault deposits across tranches to optimize risk and yield.",fullDef:"Vault managers make allocation decisions so depositors don't need to actively manage positions. They monitor market conditions, rebalance across tranches, and follow the vault's risk parameters. Depositors simply deposit and earn the blended yield.",example:'A "Balanced" vault manager might allocate 30% to senior, 40% to mid, 30% to junior tranches',related:["tranche-seniority"]},lotususd:{term:"LotusUSD",shortDef:"Lotus's stablecoin, backed by USDC and US Treasuries.",fullDef:"LotusUSD is the loan token used in Lotus Protocol. It's backed by a mix of USDC (for instant redemptions) and US Treasury bills (for yield generation). The treasury portion generates the productive debt base rate that benefits all lenders.",example:"80% treasury allocation + 4% treasury rate = 3.2% base rate for all supply",related:["productive-debt"]},"supply-rate":{term:"Supply Rate",shortDef:"The yield lenders earn on their deposits.",fullDef:"Supply rate combines the productive debt base rate (from treasury yields) plus a share of borrow interest based on utilization. Higher utilization means more of your deposit earns the full borrow rate.",formula:"Supply Rate = Productive Debt Rate + (Spread  Utilization)",related:["borrow-rate","productive-debt","spread"]},"borrow-rate":{term:"Borrow Rate",shortDef:"The interest rate borrowers pay on their loans.",fullDef:"Borrow rate is determined by the Interest Rate Model (IRM) based on utilization. In Lotus, the borrow rate builds on top of the productive debt base rate, with the spread adjusting based on demand.",formula:"Borrow Rate = Productive Debt Rate + Spread",related:["supply-rate","productive-debt","spread"]},collateral:{term:"Collateral",shortDef:"Assets you deposit to secure a loan  seized if you can't repay.",fullDef:"Collateral is your security deposit when borrowing. You deposit valuable assets (like wstETH) and can borrow against a percentage of their value. If your collateral value drops too much relative to your debt, it can be liquidated.",example:"Deposit $10,000 wstETH as collateral to borrow up to $8,000 LotusUSD at 80% LLTV",related:["lltv","liquidation"]},leverage:{term:"Leverage",shortDef:"Borrowing to amplify your position  higher LLTV = more leverage.",fullDef:"Leverage lets you control a larger position than your capital alone would allow. At 80% LLTV, you can achieve 5x leverage (1 / (1 - 0.80) = 5). Higher leverage amplifies both gains and losses.",formula:"Max Leverage = 1 / (1 - LLTV)",example:"75% LLTV = 4x max leverage, 95% LLTV = 20x max leverage",related:["lltv","liquidation"]}};function Z0(i){return K0[i]}function rr({term:i,children:d}){const[u,x]=P.useState(!1),[g,j]=P.useState(!1),[m,p]=P.useState({top:0,left:0}),h=P.useRef(null),N=P.useRef(null),y=Z0(i);if(P.useEffect(()=>{if(u&&h.current){const C=h.current.getBoundingClientRect(),I=C.top<200;p({top:I?C.bottom+8:C.top-8,left:Math.min(C.left+C.width/2,window.innerWidth-180)})}},[u]),P.useEffect(()=>{if(!u)return;const C=I=>{h.current&&!h.current.contains(I.target)&&N.current&&!N.current.contains(I.target)&&(x(!1),j(!1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[u]),!y)return r.jsx("span",{children:d});const b=C=>{C.preventDefault(),x(!u)},M=u&&r.jsxs("div",{ref:N,className:"fixed z-[9999] px-4 py-3 text-sm bg-lotus-grey-900 text-white rounded-lg shadow-xl border border-lotus-grey-700",style:{top:m.top,left:m.left,transform:m.top<200?"translateX(-50%)":"translate(-50%, -100%)",maxWidth:"320px",width:"max-content"},children:[r.jsx("div",{className:"font-medium text-lotus-purple-300 mb-1",children:y.term}),r.jsx("p",{className:"text-lotus-grey-300 text-xs leading-relaxed",children:y.shortDef}),g&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-lotus-grey-700",children:[r.jsx("p",{className:"text-lotus-grey-300 text-xs leading-relaxed mb-2",children:y.fullDef}),y.formula&&r.jsx("code",{className:"block text-xs font-mono text-lotus-purple-400 bg-lotus-grey-800 px-2 py-1 rounded mt-2",children:y.formula}),y.example&&r.jsxs("p",{className:"text-xs text-lotus-grey-300 mt-2 italic",children:["Example: ",y.example]})]}),!g&&y.fullDef!==y.shortDef&&r.jsx("button",{onClick:()=>j(!0),className:"mt-2 text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors",children:"Learn more..."}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-8 border-transparent",style:m.top<200?{bottom:"100%",borderBottomColor:"#1a1625"}:{top:"100%",borderTopColor:"#1a1625"}})]});return r.jsxs(r.Fragment,{children:[r.jsx("span",{ref:h,className:"border-b border-dotted border-lotus-grey-500 hover:border-lotus-purple-400 cursor-help transition-colors",onMouseEnter:()=>x(!0),onMouseLeave:()=>{g||x(!1)},onClick:b,children:d}),typeof document<"u"&&Qr.createPortal(M,document.body)]})}const qn=6,em={1:{title:"Isolated Market Baseline",copy:"One market, one risk configuration, everyone shares the same terms."},2:{title:"Risk Curve",copy:"As the liquidation loan-to-value ratio rises the risk of bad debt increases. As a result the interest rate increases with LLTV."},3:{title:"Risk Is Not Static",copy:"As collateral risk changes, the risk changes. But, an isolated market's LLTV remains fixed. This causes the interest rate to be volatile."},4:{title:"Borrower Subsidy Problem",copy:"All borrowers pay the same rate."},5:{title:"Borrower That Cannot Exist",copy:"Some borrowers are simply excluded."},6:{title:"Risk Migration",copy:"To earn more, risk-seeking lenders move to markets with riskier collateral."}},ee={width:440,height:240,padding:{top:30,right:20,bottom:40,left:50},get graphWidth(){return this.width-this.padding.left-this.padding.right},get graphHeight(){return this.height-this.padding.top-this.padding.bottom}};function Tt(i,d=0){const u=Math.max(0,i+d),x=.05,g=Math.pow(u,3.5)*.95;return Math.min(1,x+g)}function Te(i){return ee.padding.left+i*ee.graphWidth}function Fe(i){return ee.padding.top+ee.graphHeight-i*ee.graphHeight}function Qn(i=0){const d=[];for(let u=0;u<=60;u++){const x=u/60,g=Tt(x,i);if(d.push(u===0?`M${Te(x)},${Fe(g)}`:`L${Te(x)},${Fe(g)}`),g>=1)break}return d.join(" ")}function ri({children:i}){return r.jsx("div",{className:"bg-lotus-grey-900 rounded-xl p-5 border border-lotus-grey-700 shadow-lg",children:r.jsxs("svg",{width:ee.width,height:ee.height,className:"overflow-visible block mx-auto",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"chartBg",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#191621"}),r.jsx("stop",{offset:"100%",stopColor:"#0D0A14"})]})}),r.jsx("rect",{x:ee.padding.left,y:ee.padding.top,width:ee.graphWidth,height:ee.graphHeight,fill:"url(#chartBg)",rx:"6"}),[0,.25,.5,.75,1].map((d,u)=>r.jsx("line",{x1:ee.padding.left,y1:Fe(d),x2:ee.padding.left+ee.graphWidth,y2:Fe(d),stroke:"#27232F",strokeWidth:1},u)),r.jsx("text",{x:ee.padding.left+ee.graphWidth/2,y:ee.height-8,textAnchor:"middle",className:"text-xs fill-lotus-grey-300 font-semibold",children:"Liquidation LTV (LLTV) "}),r.jsx("text",{x:16,y:ee.padding.top+ee.graphHeight/2,textAnchor:"middle",transform:`rotate(-90, 16, ${ee.padding.top+ee.graphHeight/2})`,className:"text-xs fill-lotus-grey-300 font-semibold",children:"Interest Rate"}),i]})})}function ud({title:i,subtitle:d,metrics:u,variant:x="default",size:g="normal"}){const j={default:"bg-gradient-to-br from-lotus-grey-800 to-lotus-grey-900 border-lotus-grey-600",muted:"bg-lotus-grey-900/50 border-lotus-grey-700 opacity-60",highlight:"bg-gradient-to-br from-lotus-purple-900/40 to-lotus-purple-950/60 border-lotus-purple-500 shadow-lg shadow-lotus-purple-500/20"},m=g==="small"?"px-4 py-3":"px-5 py-4";return r.jsxs("div",{className:`rounded-xl border-2 ${m} ${j[x]} transition-all duration-300`,children:[r.jsx("div",{className:`font-semibold ${g==="small"?"text-sm":"text-base"} ${x==="muted"?"text-lotus-grey-400":"text-lotus-grey-100"}`,children:i}),d&&r.jsx("div",{className:`${g==="small"?"text-[10px]":"text-xs"} ${x==="muted"?"text-lotus-grey-500":"text-lotus-grey-400"} mt-0.5`,children:d}),u&&r.jsx("div",{className:`flex gap-4 ${g==="small"?"mt-2":"mt-3"}`,children:u.map((p,h)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`font-mono font-bold ${g==="small"?"text-base":"text-lg"} ${p.color||"text-lotus-grey-100"}`,children:p.value}),r.jsx("div",{className:"text-[9px] text-lotus-grey-500 uppercase tracking-wide",children:p.label})]},h))})]})}function Hr({type:i,label:d,sublabel:u,variant:x="neutral",size:g="normal"}){const m={safe:{bg:"from-emerald-900/40 to-emerald-950/60",border:"border-emerald-500",icon:"text-emerald-400",text:"text-emerald-300",glow:"shadow-emerald-500/20"},risky:{bg:"from-orange-900/40 to-orange-950/60",border:"border-orange-500",icon:"text-orange-400",text:"text-orange-300",glow:"shadow-orange-500/20"},neutral:{bg:"from-lotus-grey-800 to-lotus-grey-900",border:"border-lotus-grey-600",icon:"text-lotus-grey-400",text:"text-lotus-grey-300",glow:""},blocked:{bg:"from-red-900/40 to-red-950/60",border:"border-red-500",icon:"text-red-400",text:"text-red-300",glow:"shadow-red-500/20"}}[x],p=g==="small"?"w-8 h-8":"w-10 h-10",h=g==="small"?"w-4 h-4":"w-5 h-5",N=g==="small"?"px-3 py-2":"px-4 py-3";return r.jsxs("div",{className:`bg-gradient-to-br ${m.bg} border-2 ${m.border} rounded-xl ${N} text-center shadow-lg ${m.glow} transition-all duration-300`,children:[r.jsx("div",{className:`${p} mx-auto mb-2 rounded-full bg-black/30 flex items-center justify-center ${m.icon}`,children:i==="borrower"?r.jsx("svg",{className:h,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}):r.jsx("svg",{className:h,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("div",{className:`${g==="small"?"text-[10px]":"text-xs"} font-semibold ${m.text}`,children:d}),u&&r.jsx("div",{className:`${g==="small"?"text-[9px]":"text-[10px]"} ${x==="neutral"?"text-lotus-grey-400":m.text} opacity-80 mt-0.5`,children:u})]})}function tm({direction:i="right",color:d="text-lotus-grey-500"}){if(i==="both")return r.jsx("svg",{className:`w-6 h-6 ${d}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18m0 0l-4 4m4-4l-4-4"})});const u={right:"M17 8l4 4m0 0l-4 4m4-4H3",down:"M19 14l-7 7m0 0l-7-7m7 7V3",up:"M5 10l7-7m0 0l7 7m-7-7v18"};return r.jsx("svg",{className:`w-6 h-6 ${d}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:u[i]})})}function rm({children:i,variant:d="info"}){const u={info:"bg-lotus-purple-900/30 border-lotus-purple-600/50 text-lotus-purple-200",warning:"bg-amber-900/30 border-amber-600/50 text-amber-200",success:"bg-emerald-900/30 border-emerald-600/50 text-emerald-200"};return r.jsx("div",{className:`rounded-lg border px-4 py-2.5 text-xs text-center ${u[d]}`,children:i})}function sm(){return r.jsxs("div",{className:"flex flex-col items-center gap-5",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-emerald-900/60 to-emerald-950/80 border-2 border-emerald-500 flex items-center justify-center shadow-lg shadow-emerald-500/20",children:r.jsx("svg",{className:"w-7 h-7 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("span",{className:"text-sm font-semibold text-emerald-300 mt-2",children:"Lender"})]}),r.jsx("svg",{className:"w-10 h-6 text-lotus-grey-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsxs("div",{className:"bg-gradient-to-br from-lotus-purple-900/50 to-lotus-purple-950/70 border-2 border-lotus-purple-500 rounded-xl px-8 py-5 shadow-lg shadow-lotus-purple-500/20",children:[r.jsx("div",{className:"text-lg font-bold text-lotus-grey-100 text-center",children:"wstETH / USDC"}),r.jsx("div",{className:"text-center mt-2",children:r.jsx("span",{className:"text-xl font-mono font-bold text-orange-400",children:"86% LLTV"})})]})}),r.jsx("svg",{className:"w-10 h-6 text-lotus-grey-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-orange-900/60 to-orange-950/80 border-2 border-orange-500 flex items-center justify-center shadow-lg shadow-orange-500/20",children:r.jsx("svg",{className:"w-7 h-7 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),r.jsx("span",{className:"text-sm font-semibold text-orange-300 mt-2",children:"Borrower"})]})]}),r.jsx("div",{className:"max-w-lg text-center bg-lotus-grey-900/50 rounded-lg px-5 py-3 border border-lotus-grey-700",children:r.jsxs("p",{className:"text-sm text-lotus-grey-300 leading-relaxed",children:["All lenders earn the same rate regardless of their risk preference.",r.jsx("br",{}),"All borrowers pay the same rate regardless of their risk."]})})]})}function nm(){return r.jsxs(ri,{children:[r.jsx("path",{d:Qn(),fill:"none",stroke:"#8E62FF",strokeWidth:3,strokeLinecap:"round"}),r.jsx("line",{x1:Te(.65),y1:ee.padding.top,x2:Te(.65),y2:Fe(0),stroke:"#f97316",strokeWidth:2,strokeDasharray:"6,4"}),r.jsx("circle",{cx:Te(.65),cy:Fe(Tt(.65)),r:10,fill:"#f97316",stroke:"#fff",strokeWidth:2}),r.jsx("text",{x:Te(.65),y:ee.padding.top-12,textAnchor:"middle",className:"text-sm fill-orange-400 font-bold",children:"86% LLTV"}),r.jsx("text",{x:Te(.65)+20,y:Fe(Tt(.65))-15,textAnchor:"start",className:"text-xs fill-lotus-grey-200 font-semibold",children:"Interest Rate"})]})}function lm(){return r.jsxs(ri,{children:[r.jsx("path",{d:Qn(),fill:"none",stroke:"#8E62FF",strokeWidth:2,opacity:.3,strokeLinecap:"round"}),r.jsx("path",{d:Qn(.15),fill:"none",stroke:"#ef4444",strokeWidth:3,strokeLinecap:"round"}),r.jsx("line",{x1:Te(.65),y1:ee.padding.top,x2:Te(.65),y2:Fe(0),stroke:"#f97316",strokeWidth:2,strokeDasharray:"6,4"}),r.jsx("rect",{x:Te(.65)-15,y:Fe(Tt(.65,.15)),width:30,height:Fe(Tt(.65))-Fe(Tt(.65,.15)),fill:"#ef4444",fillOpacity:.3,rx:4}),r.jsx("circle",{cx:Te(.65),cy:Fe(Tt(.65)),r:7,fill:"#8E62FF",opacity:.5}),r.jsx("circle",{cx:Te(.65),cy:Fe(Tt(.65,.15)),r:10,fill:"#ef4444",stroke:"#fff",strokeWidth:2}),r.jsx("text",{x:Te(.65),y:ee.padding.top-12,textAnchor:"middle",className:"text-sm fill-orange-400 font-bold",children:"86% (fixed)"}),r.jsxs("g",{transform:`translate(${Te(.65)+25}, ${(Fe(Tt(.65))+Fe(Tt(.65,.15)))/2})`,children:[r.jsx("text",{x:0,y:-6,className:"text-xs fill-red-400 font-semibold",children:"Rate"}),r.jsx("text",{x:0,y:8,className:"text-xs fill-red-400 font-semibold",children:"Volatility"})]}),r.jsxs("g",{transform:`translate(${ee.padding.left+10}, ${ee.padding.top+10})`,children:[r.jsx("rect",{x:0,y:0,width:130,height:50,rx:6,fill:"#191621",stroke:"#3B3546",strokeWidth:1}),r.jsx("line",{x1:12,y1:18,x2:32,y2:18,stroke:"#ef4444",strokeWidth:3}),r.jsx("text",{x:40,y:22,className:"text-xs fill-red-300 font-medium",children:"Actual Risk"}),r.jsx("line",{x1:12,y1:36,x2:32,y2:36,stroke:"#8E62FF",strokeWidth:2,opacity:.5}),r.jsx("text",{x:40,y:40,className:"text-xs fill-lotus-grey-400 font-medium",children:"Original Risk"})]})]})}function om(){return r.jsx("div",{className:"flex flex-col items-center gap-6",children:r.jsxs("div",{className:"flex items-stretch gap-8",children:[r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"text-xs text-lotus-grey-400 uppercase tracking-wide font-semibold mb-1",children:"Lenders"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Hr,{type:"lender",variant:"safe",label:"Conservative",sublabel:"Wants safety",size:"small"}),r.jsx(Hr,{type:"lender",variant:"risky",label:"Aggressive",sublabel:"Wants yield",size:"small"})]}),r.jsx("div",{className:"mt-2 max-w-[140px] bg-amber-900/50 border border-amber-600/50 rounded-lg px-3 py-2",children:r.jsx("p",{className:"text-[11px] text-amber-200 text-center leading-tight",children:"Both take on the same risk exposure"})})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"w-px h-8 bg-lotus-grey-700"}),r.jsxs("div",{className:"bg-gradient-to-br from-lotus-grey-800 to-lotus-grey-900 border-2 border-orange-500 rounded-xl px-6 py-4 shadow-lg shadow-orange-500/10",children:[r.jsx("div",{className:"text-[10px] text-lotus-grey-500 uppercase tracking-wide text-center mb-1",children:"Same Rate"}),r.jsx("div",{className:"text-2xl font-mono font-bold text-orange-400 text-center",children:"5.2%"})]}),r.jsx("div",{className:"w-px h-8 bg-lotus-grey-700"})]}),r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx("div",{className:"text-xs text-lotus-grey-400 uppercase tracking-wide font-semibold mb-1",children:"Borrowers"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Hr,{type:"borrower",variant:"safe",label:"Conservative",sublabel:"40% LTV",size:"small"}),r.jsx(Hr,{type:"borrower",variant:"risky",label:"Aggressive",sublabel:"84% LTV",size:"small"})]}),r.jsx("div",{className:"mt-2 max-w-[140px] bg-amber-900/50 border border-amber-600/50 rounded-lg px-3 py-2",children:r.jsx("p",{className:"text-[11px] text-amber-200 text-center leading-tight",children:"Conservative subsidizes aggressive"})})]})]})})}function im(){return r.jsxs("div",{className:"flex flex-col items-center gap-5",children:[r.jsxs(ri,{children:[r.jsx("path",{d:Qn(),fill:"none",stroke:"#8E62FF",strokeWidth:3,strokeLinecap:"round"}),r.jsx("line",{x1:Te(.65),y1:ee.padding.top,x2:Te(.65),y2:Fe(0),stroke:"#f97316",strokeWidth:2,strokeDasharray:"6,4"}),r.jsx("rect",{x:Te(.65),y:ee.padding.top,width:ee.graphWidth-.65*ee.graphWidth,height:ee.graphHeight,fill:"#ef4444",fillOpacity:.15}),r.jsx("defs",{children:r.jsx("pattern",{id:"blockedPattern",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:r.jsx("path",{d:"M-1,1 l2,-2 M0,8 l8,-8 M7,9 l2,-2",stroke:"#ef4444",strokeWidth:"0.5",opacity:"0.4"})})}),r.jsx("rect",{x:Te(.65),y:ee.padding.top,width:ee.graphWidth-.65*ee.graphWidth,height:ee.graphHeight,fill:"url(#blockedPattern)"}),r.jsx("text",{x:Te(.65),y:ee.padding.top-12,textAnchor:"middle",className:"text-sm fill-orange-400 font-bold",children:"86% Max"}),r.jsxs("g",{transform:`translate(${Te(.82)}, ${Fe(.5)})`,children:[r.jsx("rect",{x:-50,y:-22,width:100,height:44,rx:6,fill:"#7f1d1d",stroke:"#ef4444",strokeWidth:1}),r.jsx("text",{x:0,y:-4,textAnchor:"middle",className:"text-sm fill-red-200 font-bold",children:"BLOCKED"}),r.jsx("text",{x:0,y:12,textAnchor:"middle",className:"text-xs fill-red-300",children:"Demand Denied"})]})]}),r.jsxs("div",{className:"flex items-center gap-10",children:[r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Hr,{type:"borrower",variant:"blocked",label:"High-leverage Borrower",size:"small"}),r.jsx("div",{className:"bg-red-900/50 border border-red-600/50 rounded px-3 py-1.5",children:r.jsx("span",{className:"text-sm text-red-200 font-medium",children:"Wants 95% LTV"})})]}),r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Hr,{type:"lender",variant:"blocked",label:"Risk-seeking Lender",size:"small"}),r.jsx("div",{className:"bg-red-900/50 border border-red-600/50 rounded px-3 py-1.5",children:r.jsx("span",{className:"text-sm text-red-200 font-medium",children:"Wants higher yield"})})]})]})]})}function am(){return r.jsxs("div",{className:"flex flex-col items-center gap-5",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(ud,{title:"wstETH / USDC",subtitle:"Safe collateral",metrics:[{label:"Yield",value:"4%",color:"text-lotus-grey-400"}],variant:"muted",size:"small"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(tm,{direction:"right",color:"text-lotus-purple-400"}),r.jsx("span",{className:"text-xs text-lotus-purple-400 mt-1 font-medium",children:"Capital flows"})]}),r.jsx(ud,{title:"ALT / USDC",subtitle:"Risky collateral",metrics:[{label:"Yield",value:"12%",color:"text-emerald-400"}],variant:"highlight",size:"small"})]}),r.jsx(rm,{variant:"warning",children:r.jsx("span",{className:"font-semibold text-amber-300",children:"Risk migrates  it doesn't disappear."})})]})}function um({scene:i}){const d={1:r.jsx(sm,{}),2:r.jsx(nm,{}),3:r.jsx(lm,{}),4:r.jsx(om,{}),5:r.jsx(im,{}),6:r.jsx(am,{})};return r.jsx("div",{className:"animate-fadeIn",children:d[i]||d[1]})}function dm({current:i,total:d}){return r.jsx("div",{className:"flex gap-1",children:Array.from({length:d},(u,x)=>x+1).map(u=>r.jsx("button",{className:`h-1 rounded-full transition-all duration-300 ${u===i?"w-6 bg-lotus-purple-500":u<i?"w-2 bg-lotus-purple-700":"w-2 bg-lotus-grey-700"}`,"aria-label":`Scene ${u}`},u))})}function cm(){const[i,d]=P.useState(1),u=em[i],x=()=>d(j=>Math.max(1,j-1)),g=()=>d(j=>Math.min(qn,j+1));return r.jsxs("div",{className:"bg-gradient-to-b from-lotus-grey-800 to-lotus-grey-900 rounded-2xl border border-lotus-grey-700 overflow-hidden shadow-xl",children:[r.jsxs("div",{className:"px-5 py-3 border-b border-lotus-grey-700/50 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("div",{className:"px-2.5 py-1 rounded-full text-[10px] font-semibold uppercase tracking-wide bg-amber-500/20 text-amber-400 ring-1 ring-amber-500/30",children:"The Problem"})}),r.jsx("h3",{className:"text-sm font-semibold text-lotus-grey-100",children:u.title}),r.jsxs("span",{className:"text-xs text-lotus-grey-500 font-mono",children:[i,"/",qn]})]}),r.jsx("div",{className:"px-6 py-8 min-h-[320px] flex items-center justify-center bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-lotus-grey-800/50 via-transparent to-transparent",children:r.jsx(um,{scene:i})}),r.jsxs("div",{className:"px-5 py-4 border-t border-lotus-grey-700/50 bg-lotus-grey-900/50",children:[r.jsx("p",{className:"text-lotus-grey-200 text-center text-sm font-medium",children:u.copy}),u.insights&&r.jsx("div",{className:"flex flex-wrap justify-center gap-x-5 gap-y-1.5 mt-3 text-xs text-lotus-grey-400",children:u.insights.map((j,m)=>r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-lotus-purple-500"}),j]},m))})]}),r.jsxs("div",{className:"px-5 py-3 border-t border-lotus-grey-700/50 flex items-center justify-between bg-lotus-grey-900",children:[r.jsxs("button",{onClick:x,disabled:i===1,className:"flex items-center gap-1.5 px-4 py-2 text-xs font-semibold rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed bg-lotus-grey-800 hover:bg-lotus-grey-700 text-lotus-grey-200 border border-lotus-grey-700",children:[r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),r.jsx(dm,{current:i,total:qn}),r.jsxs("button",{onClick:g,disabled:i===qn,className:"flex items-center gap-1.5 px-4 py-2 text-xs font-semibold rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed bg-lotus-purple-600 hover:bg-lotus-purple-500 text-white shadow-lg shadow-lotus-purple-500/20",children:["Next",r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]})}function mm(){return r.jsxs("div",{className:"bg-gradient-to-b from-lotus-grey-800 to-lotus-grey-900 rounded-2xl border border-lotus-grey-700 overflow-hidden shadow-xl",children:[r.jsxs("div",{className:"px-5 py-3 border-b border-lotus-grey-700/50 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("div",{className:"px-2.5 py-1 rounded-full text-[10px] font-semibold uppercase tracking-wide bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30",children:"The Solution"})}),r.jsx("h3",{className:"text-sm font-semibold text-lotus-grey-100",children:"Lotus Protocol"})]}),r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{className:"text-sm text-lotus-grey-200 leading-relaxed",children:[r.jsxs("p",{className:"mb-4",children:[r.jsx("span",{className:"text-lotus-purple-400 font-semibold",children:"Lotus"})," is an onchain lending protocol that lets lenders and borrowers meet on a risk curve inside a single market. Instead of creating separate pools for every risk setting, Lotus uses ",r.jsx("span",{className:"text-emerald-400 font-medium",children:"tranches"})," to offer multiple risk levels while keeping liquidity connected."]}),r.jsx("p",{children:"A market contains multiple tranches ordered by risk (senior to junior). Unused liquidity from junior tranches can support more senior borrowers. This keeps markets deep without forcing everyone into the same risk profile."})]}),r.jsx("div",{className:"flex items-center justify-center gap-2 py-4",children:[{lltv:75,color:"bg-emerald-500",label:"Senior"},{lltv:80,color:"bg-emerald-400"},{lltv:85,color:"bg-amber-500"},{lltv:90,color:"bg-orange-500"},{lltv:95,color:"bg-red-500",label:"Junior"}].map((i,d)=>r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d===0&&r.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:"Senior"}),d===4&&r.jsx("span",{className:"text-xs text-red-400 font-semibold",children:"Junior"}),d!==0&&d!==4&&r.jsx("span",{className:"text-xs text-transparent",children:"-"}),r.jsx("div",{className:`${i.color} rounded-lg px-3 py-2`,children:r.jsxs("span",{className:"font-mono text-sm font-bold text-white",children:[i.lltv,"%"]})})]},i.lltv))}),r.jsx("div",{className:"text-sm text-lotus-grey-200 leading-relaxed",children:r.jsx("p",{children:"Interest and loss allocation follow the tranche structure, so risk and reward stay aligned."})}),r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-xl p-5 border border-lotus-purple-700/50",children:[r.jsx("h4",{className:"text-sm font-semibold text-lotus-purple-300 mb-3",children:"LotusUSD"}),r.jsxs("p",{className:"text-sm text-lotus-grey-200 leading-relaxed",children:["In USD-denominated Lotus markets, the loan asset is ",r.jsx("span",{className:"text-lotus-purple-400 font-medium",children:"LotusUSD"}),". LotusUSD is a vault token backed by USDC and tokenized short-term US Treasuries. Its goal is to earn a rate that is close to the risk-free rate on deployed assets while maintaining onchain liquidity. Using a yield-bearing token as the loan asset is called ",r.jsx("span",{className:"text-emerald-400 font-medium",children:'"productive debt"'}),"."]})]}),r.jsxs("div",{className:"bg-emerald-900/20 rounded-xl p-5 border border-emerald-700/50",children:[r.jsx("h4",{className:"text-sm font-semibold text-emerald-300 mb-4",children:"Productive Debt Benefits"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-900/50 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-emerald-400 text-xs font-bold",children:"1"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-lotus-grey-100 font-medium",children:"Baseline yield for lenders"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-1",children:"Lenders earn a baseline yield even when utilization is low. Some return comes from LotusUSD's base yield, not only from borrower demand."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-900/50 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-emerald-400 text-xs font-bold",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-lotus-grey-100 font-medium",children:"Idle liquidity earns yield"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-1",children:"Unborrowed funds can remain productive instead of sitting as zero-yield reserves."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-900/50 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-emerald-400 text-xs font-bold",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-lotus-grey-100 font-medium",children:"More stable rates"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-1",children:"Because part of the return comes from the base rate, rates tend to move less abruptly as utilization changes."})]})]})]})]})]})]})}function Xn({whatYoullLearn:i,tryThis:d}){return r.jsxs("div",{className:"mb-8",children:[i.length>0&&r.jsxs("div",{className:"bg-lotus-grey-800/50 border border-lotus-grey-700 rounded-lg p-5 mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-lotus-purple-400 uppercase tracking-wide mb-3",children:"What you'll learn"}),r.jsx("ul",{className:"space-y-2",children:i.map((u,x)=>r.jsxs("li",{className:"flex items-start gap-2 text-lotus-grey-200",children:[r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:u})]},x))})]}),d&&r.jsxs("div",{className:"flex items-start gap-3 bg-lotus-purple-900/20 border border-lotus-purple-800/50 rounded-lg p-4",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-lotus-purple-300 mb-1",children:"Try this"}),r.jsx("p",{className:"text-lotus-grey-200",children:d})]})]})]})}function Ct(i,d){typeof window<"u"&&window.dispatchEvent(new CustomEvent("lotus-analytics",{detail:{event:i,props:d}}))}const gr={tourStart:()=>Ct("tour_start"),tourComplete:()=>Ct("tour_complete"),navClick:i=>Ct("nav_click",{section:i}),ctaNextClick:(i,d)=>Ct("cta_next_click",{from:i,to:d}),simulatorInteract:(i,d,u)=>Ct("simulator_interact",{simulator:i,input:d,value:u}),searchUsed:(i,d)=>Ct("search_used",{query:i,result:d}),strategySelected:i=>Ct("strategy_selected",{strategy:i}),badDebtSimulated:i=>Ct("bad_debt_simulated",{scenario:i}),externalAppClick:i=>Ct("external_app_click",{destination:i}),pageView:i=>Ct("page_view",{section:i})};function Cd({context:i,heading:d,description:u}){const x=()=>{gr.externalAppClick(`site_${i}`)},g=i==="vaults"?"Ready to learn more?":"Ready to explore Lotus?",j=i==="vaults"?"Visit the Lotus Labs site to learn more about the protocol and get started.":"Visit Lotus Labs to discover how the protocol can work for you.";return r.jsx("div",{className:"bg-gradient-to-r from-lotus-purple-900/40 to-lotus-purple-800/20 rounded-xl p-6 border border-lotus-purple-700/50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-lotus-grey-100 mb-1",children:d||g}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:u||j})]}),r.jsxs("a",{href:"https://lotuslabs.net",target:"_blank",rel:"noopener noreferrer",onClick:x,className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 bg-lotus-purple-600 hover:bg-lotus-purple-500 rounded-lg text-white font-medium transition-colors",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Visit Lotus Labs"]})]})})}function pm(){return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Xn,{title:"Welcome to Lotus",whatYoullLearn:["What problem Lotus solves for DeFi lending","How tranches create different risk/reward options","Why connected liquidity beats isolated pools"],tryThis:"Click through the interactive diagram below to see how traditional lending fails borrowers and lenders."}),r.jsx(cm,{}),r.jsx(mm,{}),r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-6 border border-lotus-purple-700/50",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"The Lotus Difference"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:"Risk-Tiered Tranches"}),r.jsxs("span",{className:"text-lotus-grey-300",children:["  Choose your risk exposure. ",r.jsx(rr,{term:"tranche-seniority",children:"Senior tranches"})," offer safety, junior tranches offer higher yields."]})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:r.jsx(rr,{term:"connected-liquidity",children:"Connected Liquidity"})}),r.jsx("span",{className:"text-lotus-grey-300",children:"  Unlike isolated pools, liquidity flows between tranches creating deeper markets and more efficient rates."})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-lotus-purple-300",children:r.jsx(rr,{term:"productive-debt",children:"Productive Debt"})}),r.jsxs("span",{className:"text-lotus-grey-300",children:["  Idle liquidity earns yield from treasury-backed assets, compressing ",r.jsx(rr,{term:"spread",children:"spreads"})," and reducing rate volatility."]})]})]})]})]}),r.jsx("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-lotus-grey-200",children:[r.jsx("strong",{children:"Note:"})," Most lenders participate through ",r.jsx("strong",{children:"Vaults"}),"  curated strategies that allocate across tranches automatically. We'll cover vaults after you understand how tranches work."]})})]})}),r.jsx(Cd,{context:"intro"})]})}function qr({label:i,formula:d,note:u,className:x="",textColor:g=""}){const[j,m]=P.useState(!1),[p,h]=P.useState({top:0,left:0}),N=P.useRef(null);P.useEffect(()=>{if(j&&N.current){const b=N.current.getBoundingClientRect(),M=b.top<100;h({top:M?b.bottom+6:b.top-6,left:Math.min(Math.max(b.left+b.width/2,140),window.innerWidth-140)})}},[j]);const y=j&&r.jsxs("div",{className:"fixed z-[9999] px-3 py-2 bg-lotus-grey-900 rounded-lg shadow-xl border border-lotus-grey-700 max-w-xs",style:{top:p.top,left:p.left,transform:p.top<100?"translateX(-50%)":"translate(-50%, -100%)"},children:[r.jsx("code",{className:"block text-xs font-mono text-lotus-purple-300 mb-1",children:d}),u&&r.jsx("p",{className:"text-xs text-lotus-grey-400 mt-1.5 pt-1.5 border-t border-lotus-grey-700",children:u}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-6 border-transparent",style:p.top<100?{bottom:"100%",borderBottomColor:"#0D0A14"}:{top:"100%",borderTopColor:"#0D0A14"}})]});return r.jsxs(r.Fragment,{children:[r.jsxs("span",{ref:N,className:`inline-flex items-center gap-1 cursor-help ${g} ${x}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[i,r.jsx("svg",{className:"w-3 h-3 opacity-60 hover:opacity-100 transition-opacity",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),typeof document<"u"&&Qr.createPortal(y,document.body)]})}function $e(i,d=2){return`${(i*100).toFixed(d)}%`}function xm(){const i=[{title:"Minimum Rate for Lenders",description:"Lenders earn at least the base rate from productive assets, even when utilization is low.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{title:"Spread Compression",description:"The gap between borrow and supply rates narrows, creating a more efficient market.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})},{title:"Volatility Reduction",description:"The IRM only prices the spread, not the base rate  resulting in smaller rate swings.",icon:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}];return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Benefits of Productive Debt"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map((d,u)=>r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700 hover:border-lotus-purple-500/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"text-lotus-purple-400",children:d.icon}),r.jsx("h4",{className:"font-medium text-lotus-grey-100",children:d.title})]}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:d.description})]},u))})]})}function hm({baseRate:i,spread:d,onSpreadChange:u}){const x=i+d;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Borrow Rate Composition"}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-6 text-center max-w-xl mx-auto",children:"With productive debt, the borrow rate decomposes into a base component (from productive assets) plus a spread component (set by the market)."}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[r.jsxs("div",{className:"bg-emerald-900/30 border border-emerald-700 rounded-lg px-5 py-4 text-center min-w-[140px]",children:[r.jsx("div",{className:"text-xs text-emerald-400 mb-1 font-medium",children:"Base Rate"}),r.jsx("div",{className:"text-2xl font-mono font-semibold text-emerald-300",children:$e(i)}),r.jsx("div",{className:"text-xs text-emerald-500 mt-1",children:"from LotusUSD"})]}),r.jsx("div",{className:"text-3xl font-light text-lotus-grey-600",children:"+"}),r.jsxs("div",{className:"bg-lotus-purple-900/30 border border-lotus-purple-700 rounded-lg px-5 py-4 text-center min-w-[140px]",children:[r.jsx("div",{className:"text-xs text-lotus-purple-400 mb-1 font-medium",children:"Credit Spread"}),r.jsx("input",{type:"number",value:(d*100).toFixed(1),onChange:g=>u(parseFloat(g.target.value)/100||0),step:"0.1",min:"0",max:"50",className:"w-20 text-2xl font-mono font-semibold text-lotus-purple-300 bg-transparent text-center border-b-2 border-lotus-purple-500 focus:border-lotus-purple-400 focus:outline-none"}),r.jsx("span",{className:"text-2xl font-mono font-semibold text-lotus-purple-300",children:"%"}),r.jsx("div",{className:"text-xs text-lotus-purple-500 mt-1",children:"market-determined"})]}),r.jsx("div",{className:"text-3xl font-light text-lotus-grey-600",children:"="}),r.jsxs("div",{className:"bg-lotus-grey-700 border border-lotus-grey-600 rounded-lg px-5 py-4 text-center min-w-[140px]",children:[r.jsx("div",{className:"text-xs text-lotus-grey-300 mb-1 font-medium",children:"Borrow Rate"}),r.jsx("div",{className:"text-2xl font-mono font-semibold text-lotus-grey-100",children:$e(x)}),r.jsx("div",{className:"text-xs text-lotus-grey-300 mt-1",children:"total rate"})]})]})]})]})}function fm({baseRate:i,spread:d,utilization:u,onUtilizationChange:x}){const[g,j]=P.useState(.5),[m,p]=P.useState(!1),h=i+d,N=h,y=h*u,b=h*(1-u),M=u>0?i*(1-u)/u:0,C=Math.max(d-(1-g)*M,0),I=i+C,_=i+C*u,H=C*(1-u),ce=N-I,ye=_-y,ie=Math.max(N,I,y,_)*1.1;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Spread Compression"}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50 mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-lotus-purple-200 mb-2",children:"What is Spread Compression?"}),r.jsxs("p",{className:"text-sm text-lotus-purple-300 mb-3",children:["The ",r.jsx("strong",{children:"borrow-lend spread"})," is the gap between what borrowers pay and what lenders earn. The ",r.jsx("strong",{children:"credit spread"})," is the additional rate set by the Interest Rate Model (IRM) on top of the base rate. In traditional markets, when utilization is low, this gap is large because idle capital earns nothing."]}),r.jsx("h4",{className:"text-sm font-medium text-lotus-purple-200 mb-2",children:"Why Does It Matter?"}),r.jsxs("p",{className:"text-sm text-lotus-purple-300",children:["Productive debt (PD) compresses this spread by ensuring idle liquidity earns the base rate. This means ",r.jsx("strong",{children:"better rates for both sides"}),": borrowers pay less, and lenders earn more  especially when utilization is low."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx(qr,{label:"Borrow Utilization",formula:"1 - (Free Supply / Jr Supply)",note:"This is the utilization that drives IRM rates. Higher utilization = higher borrow rates.",textColor:"text-lotus-grey-300",className:"text-sm font-medium"}),r.jsxs("span",{className:"text-lg font-mono font-semibold text-lotus-grey-100",children:[(u*100).toFixed(0),"%"]})]}),r.jsx("div",{className:"flex gap-2 mb-3",children:[0,50,90,100].map(T=>r.jsxs("button",{onClick:()=>x(T/100),className:`px-3 py-1 text-xs rounded transition-colors ${u*100===T?"bg-lotus-purple-600 text-white":"bg-lotus-grey-700 text-lotus-grey-300 hover:bg-lotus-grey-600"}`,children:[T,"%",T===0?" (floor)":T===90?" (target)":""]},T))}),r.jsx("input",{type:"range",value:u*100,onChange:T=>x(parseFloat(T.target.value)/100),min:"0",max:"100",step:"5",className:"w-full"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-2",children:"Lower utilization = bigger PD advantage."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Borrowers"}),r.jsxs("span",{className:"text-sm font-medium text-lotus-grey-300",children:[((1-g)*100).toFixed(0),"% / ",(g*100).toFixed(0),"%"]}),r.jsx("span",{className:"text-sm font-medium text-emerald-400",children:"Lenders"})]}),r.jsx("input",{type:"range",value:g*100,onChange:T=>j(parseFloat(T.target.value)/100),min:"0",max:"100",step:"5",className:"w-full"}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-2",children:"How efficiency gains are distributed."})]})]}),u===0&&r.jsx("div",{className:"bg-emerald-900/20 rounded-lg p-3 border border-emerald-700/50 mb-4",children:r.jsxs("p",{className:"text-sm text-emerald-300",children:["At 0% utilization, lenders still earn the ",r.jsx("strong",{children:"base rate"})," in LotusUSD markets. Traditional lending: supply rate = 0%."]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Borrow Rate"}),ce>5e-5&&r.jsxs("span",{className:"text-xs font-medium text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded",children:[$e(ce)," savings"]})]}),r.jsxs("div",{className:"space-y-2",children:[(()=>{const T=N/ie*100,F=T>15;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300 w-16",children:"No PD"}),r.jsxs("div",{className:"flex-1 h-8 bg-lotus-grey-700 rounded-lg overflow-visible relative",children:[r.jsx("div",{className:`h-full bg-lotus-grey-500 rounded-lg flex items-center ${F?"justify-end pr-2":""}`,style:{width:`${T}%`},children:F&&r.jsx("span",{className:"text-xs font-mono text-lotus-grey-100 font-medium",children:$e(N)})}),!F&&r.jsx("span",{className:"absolute text-xs font-mono text-lotus-grey-300 font-medium top-1/2 -translate-y-1/2",style:{left:`calc(${T}% + 8px)`},children:$e(N)})]})]})})(),(()=>{const T=I/ie*100,F=T>15;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-blue-400 w-16 font-medium",children:"With PD"}),r.jsxs("div",{className:"flex-1 h-8 bg-blue-900/30 rounded-lg overflow-visible relative",children:[r.jsx("div",{className:`h-full bg-blue-500 rounded-lg flex items-center ${F?"justify-end pr-2":""}`,style:{width:`${T}%`},children:F&&r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:$e(I)})}),!F&&r.jsx("span",{className:"absolute text-xs font-mono text-blue-400 font-medium top-1/2 -translate-y-1/2",style:{left:`calc(${T}% + 8px)`},children:$e(I)})]})]})})()]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Supply Rate"}),ye>5e-5&&r.jsxs("span",{className:"text-xs font-medium text-emerald-400 bg-emerald-900/30 px-2 py-0.5 rounded",children:["+",$e(ye)," yield"]})]}),r.jsxs("div",{className:"space-y-2",children:[(()=>{const T=y/ie*100,F=T>15;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300 w-16",children:"No PD"}),r.jsxs("div",{className:"flex-1 h-8 bg-lotus-grey-700 rounded-lg overflow-visible relative",children:[r.jsx("div",{className:`h-full bg-lotus-grey-500 rounded-lg flex items-center ${F?"justify-end pr-2":""}`,style:{width:`${T}%`},children:F&&r.jsx("span",{className:"text-xs font-mono text-lotus-grey-100 font-medium",children:$e(y)})}),!F&&r.jsx("span",{className:"absolute text-xs font-mono text-lotus-grey-300 font-medium top-1/2 -translate-y-1/2",style:{left:`calc(${T}% + 8px)`},children:$e(y)})]})]})})(),(()=>{const T=_/ie*100,F=T>15;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-emerald-400 w-16 font-medium",children:"With PD"}),r.jsxs("div",{className:"flex-1 h-8 bg-emerald-900/30 rounded-lg overflow-visible relative",children:[r.jsx("div",{className:`h-full bg-emerald-500 rounded-lg flex items-center ${F?"justify-end pr-2":""}`,style:{width:`${T}%`},children:F&&r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:$e(_)})}),!F&&r.jsx("span",{className:"absolute text-xs font-mono text-emerald-400 font-medium top-1/2 -translate-y-1/2",style:{left:`calc(${T}% + 8px)`},children:$e(_)})]})]})})()]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-300",children:"Borrow-Lend Spread"}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"(inefficiency in the market)"})]}),r.jsxs("div",{className:"space-y-2",children:[(()=>{const T=b/ie*100,F=T>15;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300 w-16",children:"No PD"}),r.jsxs("div",{className:"flex-1 h-8 bg-lotus-grey-700 rounded-lg overflow-visible relative",children:[r.jsx("div",{className:`h-full bg-red-500/80 rounded-lg flex items-center ${F?"justify-end pr-2":""}`,style:{width:`${T}%`},children:F&&r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:$e(b)})}),!F&&r.jsx("span",{className:"absolute text-xs font-mono text-red-400 font-medium top-1/2 -translate-y-1/2",style:{left:`calc(${T}% + 8px)`},children:$e(b)})]})]})})(),(()=>{const T=H/ie*100,F=T>15;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-emerald-400 w-16 font-medium",children:"With PD"}),r.jsxs("div",{className:"flex-1 h-8 bg-emerald-900/30 rounded-lg overflow-visible relative",children:[r.jsx("div",{className:`h-full bg-emerald-500/80 rounded-lg flex items-center ${F?"justify-end pr-2":""}`,style:{width:`${T}%`},children:F&&r.jsx("span",{className:"text-xs font-mono text-white font-medium",children:$e(H)})}),!F&&r.jsx("span",{className:"absolute text-xs font-mono text-emerald-400 font-medium top-1/2 -translate-y-1/2",style:{left:`calc(${T}% + 8px)`},children:$e(H)})]})]})})()]})]})]}),b>0&&r.jsx("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50 mt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-emerald-300",children:"Spread Efficiency"}),r.jsx("p",{className:"text-xs text-emerald-200/70 mt-0.5",children:"How much tighter the borrow-lend spread is with PD"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-2xl font-mono font-bold text-emerald-400",children:H>0?`${(b/H).toFixed(1)}x`:""}),r.jsx("span",{className:"text-sm text-emerald-300 ml-2",children:"tighter"}),r.jsxs("div",{className:"text-xs text-emerald-400 mt-1",children:[" ",$e(b-H)," spread reduction"]})]})]})}),r.jsxs("div",{className:"mt-6 border-t border-lotus-grey-700 pt-4",children:[r.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 text-sm text-lotus-grey-300 hover:text-lotus-grey-300",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),m?"Hide formulas":"Show formulas"]}),m&&r.jsxs("div",{className:"mt-3 p-3 bg-lotus-grey-900 rounded-lg text-sm font-mono",children:[r.jsxs("p",{className:"text-emerald-400",children:[r.jsx("span",{className:"text-emerald-300",children:"Supply Rate (with PD)"})," = Base Rate + (Spread  Utilization)"]}),r.jsxs("p",{className:"text-lotus-grey-300 mt-1",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"Supply Rate (no PD)"})," = Borrow Rate  Utilization"]}),r.jsxs("p",{className:"text-lotus-grey-300 mt-2",children:[r.jsx("span",{className:"text-lotus-grey-300",children:"B-L Spread"})," = Borrow Rate  Supply Rate"]})]})]})]})]})}function gm({baseRate:i,spread:d,utilization:u,onSpreadChange:x,onUtilizationChange:g}){return r.jsxs("div",{className:"space-y-8",children:[r.jsx(xm,{}),r.jsx(hm,{baseRate:i,spread:d,onSpreadChange:x}),r.jsx(fm,{baseRate:i,spread:d,utilization:u,onUtilizationChange:g})]})}function ym({label:i,value:d,onChange:u,description:x,min:g=0,max:j=1,step:m=.001}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-lotus-grey-300",children:i}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:(d*100).toFixed(2),onChange:p=>{const h=parseFloat(p.target.value)/100;!isNaN(h)&&h>=g&&h<=j&&u(h)},className:"w-full px-3 py-2 pr-8 bg-lotus-grey-700 border border-lotus-grey-600 rounded-lg text-lotus-grey-100 font-mono focus:border-lotus-purple-500 focus:ring-1 focus:ring-lotus-purple-500 text-sm",step:(m*100).toString(),min:(g*100).toString(),max:(j*100).toString()}),r.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-lotus-grey-300 text-sm",children:"%"})]}),x&&r.jsx("p",{className:"text-xs text-lotus-grey-300",children:x})]})}const vm={info:{container:"bg-blue-900/20 border-blue-700/50",icon:"text-blue-400 bg-blue-900/50",text:"text-blue-200"},warning:{container:"bg-amber-900/20 border-amber-700/50",icon:"text-amber-400 bg-amber-900/50",text:"text-amber-200"},success:{container:"bg-emerald-900/20 border-emerald-700/50",icon:"text-emerald-400 bg-emerald-900/50",text:"text-emerald-200"}},jm={info:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),success:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})};function Yn({show:i,variant:d,children:u}){if(!i)return null;const x=vm[d];return r.jsx("div",{className:`rounded-lg p-4 border ${x.container} animate-fadeIn`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${x.icon}`,children:jm[d]}),r.jsx("div",{className:`text-sm ${x.text}`,children:u})]})})}function bm({treasuryAllocation:i}){const d=1-i,u=200,x=u/2,g=80,j=i*2*Math.PI,m=d*2*Math.PI,p=-Math.PI/2,h=p+j,N=dd(x,x,g,p,h),y=h+m,b=dd(x,x,g,h,y);return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("h4",{className:"text-sm font-medium text-lotus-grey-300 mb-3",children:"LotusUSD Allocation"}),r.jsxs("svg",{width:u,height:u,viewBox:`0 0 ${u} ${u}`,children:[i>0&&r.jsx("path",{d:N,fill:"#10b981",stroke:"#0D0A14",strokeWidth:"2"}),d>0&&r.jsx("path",{d:b,fill:"#3b82f6",stroke:"#0D0A14",strokeWidth:"2"}),r.jsx("circle",{cx:x,cy:x,r:g*.5,fill:"#191621"})]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-sm bg-blue-500"}),r.jsxs("span",{className:"text-sm text-lotus-grey-300",children:["USDC (",(d*100).toFixed(0),"%)"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-sm bg-emerald-500"}),r.jsxs("span",{className:"text-sm text-lotus-grey-300",children:["Treasuries (",(i*100).toFixed(0),"%)"]})]})]})]})}function dd(i,d,u,x,g){const j=Jo(i,d,u,x),m=Jo(i,d,u,g),p=g-x,h=p>Math.PI?1:0;if(Math.abs(p-2*Math.PI)<.001){const N=Jo(i,d,u,x+Math.PI);return["M",j.x,j.y,"A",u,u,0,0,1,N.x,N.y,"A",u,u,0,0,1,j.x,j.y,"L",i,d,"Z"].join(" ")}return["M",j.x,j.y,"A",u,u,0,h,1,m.x,m.y,"L",i,d,"Z"].join(" ")}function Jo(i,d,u,x){return{x:i+u*Math.cos(x),y:d+u*Math.sin(x)}}const wm=[{value:.1,label:"Liquidity-first",description:"Low treasury exposure, maximum liquidity"},{value:.5,label:"Balanced",description:"Equal USDC and Treasury allocation"},{value:.8,label:"Yield-first",description:"Higher treasury exposure for yield"},{value:.95,label:"Max yield",description:"Maximum treasury exposure"}];function Nm({value:i,onChange:d}){return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"block text-sm font-medium text-lotus-grey-300",children:"Treasury Allocation"}),r.jsxs("span",{className:"text-sm font-mono text-emerald-400",children:[(i*100).toFixed(0),"%"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:wm.map(u=>r.jsx("button",{onClick:()=>d(u.value),title:u.description,className:`px-2 py-1 text-xs rounded transition-colors ${Math.abs(i-u.value)<.01?"bg-emerald-600 text-white":"bg-lotus-grey-700 text-lotus-grey-300 hover:bg-lotus-grey-600"}`,children:u.label},u.value))}),r.jsx("input",{type:"range",value:i*100,onChange:u=>d(parseFloat(u.target.value)/100),min:"0",max:"100",step:"1",className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-lotus-grey-300",children:[r.jsx("span",{children:"0% (All USDC)"}),r.jsx("span",{children:"50%"}),r.jsx("span",{children:"100% (All Treasuries)"})]})]})}function km({treasuryAllocation:i,treasuryRate:d,onTreasuryAllocationChange:u,onTreasuryRateChange:x}){const g=P.useMemo(()=>d*i,[d,i]),j=m=>`${(m*100).toFixed(2)}%`;return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50 mb-4",children:r.jsxs("p",{className:"text-sm text-emerald-200",children:[r.jsx(rr,{term:"lotususd",children:"LotusUSD"})," is a yield-bearing vault token backed by USDC and short-term Treasuries. Its yield becomes the market's base rate, allowing idle liquidity to earn yield even when not being borrowed."]})}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-lotus-grey-400 self-center mr-2",children:"Presets:"}),r.jsx("button",{onClick:()=>{u(.8),x(.04)},className:`px-3 py-1.5 text-sm rounded-lg border transition-colors ${i===.8&&d===.04?"bg-lotus-purple-900/30 border-lotus-purple-500 text-lotus-purple-300":"bg-lotus-grey-700/50 border-lotus-grey-600 text-lotus-grey-300 hover:border-lotus-grey-500"}`,children:"Typical (80% @ 4%)"}),r.jsx("button",{onClick:()=>{u(.95),x(.05)},className:`px-3 py-1.5 text-sm rounded-lg border transition-colors ${i===.95&&d===.05?"bg-emerald-900/30 border-emerald-500 text-emerald-300":"bg-lotus-grey-700/50 border-lotus-grey-600 text-lotus-grey-300 hover:border-lotus-grey-500"}`,children:"High Yield (95% @ 5%)"}),r.jsx("button",{onClick:()=>{u(.5),x(.035)},className:`px-3 py-1.5 text-sm rounded-lg border transition-colors ${i===.5&&d===.035?"bg-blue-900/30 border-blue-500 text-blue-300":"bg-lotus-grey-700/50 border-lotus-grey-600 text-lotus-grey-300 hover:border-lotus-grey-500"}`,children:"High Liquidity (50% @ 3.5%)"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700 flex items-center justify-center",children:r.jsx(bm,{treasuryAllocation:i})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-4",children:"Inputs"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Nm,{value:i,onChange:u}),r.jsx(ym,{label:"US Treasury Rate",value:d,onChange:x,description:"Current yield on US Treasury bills"})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-3",children:"Output"}),r.jsx("div",{className:"p-4 bg-emerald-900/30 rounded-lg border border-emerald-700",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-emerald-300 font-medium",children:"Productive Debt Rate"}),r.jsx("span",{className:"text-2xl font-mono font-bold text-emerald-400",children:j(g)})]})})]})]})]}),r.jsx("div",{className:"bg-lotus-grey-800/50 rounded-lg p-4 border border-lotus-grey-700",children:r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"The % allocated to treasuries will vary depending on market conditions. It is designed to maintain sufficient instantaneous market liquidity while maximizing the % allocated to treasuries."})}),r.jsxs(Yn,{show:i>=.95,variant:"info",children:[r.jsx("strong",{children:"Maximum Treasury Exposure:"})," At near-100% treasury allocation, the productive debt rate equals the full treasury rate. However, this leaves minimal USDC reserves for instant redemptions."]}),r.jsxs(Yn,{show:i<=.05,variant:"warning",children:[r.jsx("strong",{children:"Minimal Yield:"})," With treasury allocation near 0%, the productive debt rate approaches zero. All backing is in USDC which earns no yield, but provides maximum liquidity for redemptions."]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-4 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-sm font-medium text-lotus-grey-300 mb-3",children:"How It Works"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"p-3 bg-blue-900/30 rounded-lg border border-blue-700/50",children:[r.jsx("div",{className:"font-medium text-blue-300 mb-1",children:"USDC Reserve"}),r.jsx("p",{className:"text-blue-400 text-xs",children:"Held as instant liquidity for redemptions. Earns 0% yield but provides stability."})]}),r.jsxs("div",{className:"p-3 bg-emerald-900/30 rounded-lg border border-emerald-700/50",children:[r.jsx("div",{className:"font-medium text-emerald-300 mb-1",children:"Treasury Holdings"}),r.jsx("p",{className:"text-emerald-400 text-xs",children:"Invested in US Treasury bills to generate yield for the productive debt base rate."})]}),r.jsxs("div",{className:"p-3 bg-lotus-purple-900/30 rounded-lg border border-lotus-purple-700/50",children:[r.jsx("div",{className:"font-medium text-lotus-purple-300 mb-1",children:"Productive Debt Rate"}),r.jsx("p",{className:"text-lotus-purple-400 text-xs",children:"The rate earned by idle supply. Used in the next section to compress spreads."})]})]})]})]})}function Vr({formula:i,description:d,children:u,currentValues:x}){const[g,j]=P.useState(!1),[m,p]=P.useState(!1),[h,N]=P.useState({top:0,left:0}),y=P.useRef(null),b=P.useRef(null);P.useEffect(()=>{if(g&&y.current){const _=y.current.getBoundingClientRect(),H=_.top<150;N({top:H?_.bottom+8:_.top-8,left:Math.min(Math.max(_.left+_.width/2,160),window.innerWidth-160)})}},[g]),P.useEffect(()=>{if(!g||!m)return;const _=H=>{y.current&&!y.current.contains(H.target)&&b.current&&!b.current.contains(H.target)&&(j(!1),p(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[g,m]);const M=_=>typeof _=="number"?_<1&&_>0?(_*100).toFixed(1)+"%":_.toLocaleString(void 0,{maximumFractionDigits:2}):_,C=g&&r.jsxs("div",{ref:b,className:"fixed z-[9999] px-3 py-2 text-sm bg-lotus-grey-900 text-white rounded-lg shadow-xl border border-lotus-grey-700",style:{top:h.top,left:h.left,transform:h.top<150?"translateX(-50%)":"translate(-50%, -100%)",maxWidth:"320px"},children:[r.jsx("code",{className:"font-mono text-xs text-lotus-purple-300 block",children:i}),d&&r.jsx("p",{className:"mt-1 text-xs text-lotus-grey-300",children:d}),x&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-lotus-grey-700",children:[r.jsxs("button",{onClick:_=>{_.stopPropagation(),p(!m)},className:"text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors flex items-center gap-1",children:[r.jsx("svg",{className:`w-3 h-3 transition-transform ${m?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),m?"Hide calculation":"Show calculation"]}),m&&r.jsxs("div",{className:"mt-2 p-2 bg-lotus-grey-800 rounded text-xs font-mono space-y-1",children:[Object.entries(x.values).map(([_,H])=>r.jsxs("div",{className:"flex justify-between gap-4",children:[r.jsx("span",{className:"text-lotus-grey-400",children:_}),r.jsx("span",{className:"text-lotus-grey-200",children:M(H)})]},_)),r.jsxs("div",{className:"flex justify-between gap-4 pt-1 border-t border-lotus-grey-700 font-medium",children:[r.jsx("span",{className:"text-lotus-purple-400",children:"="}),r.jsx("span",{className:"text-lotus-purple-300",children:x.formatResult?x.formatResult(x.result):M(x.result)})]})]})]}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-8 border-transparent",style:h.top<150?{bottom:"100%",borderBottomColor:"#0D0A14"}:{top:"100%",borderTopColor:"#0D0A14"}})]}),I=_=>{x&&(_.preventDefault(),j(!g))};return r.jsxs(r.Fragment,{children:[r.jsxs("span",{ref:y,className:"inline-flex items-center cursor-help",onMouseEnter:()=>j(!0),onMouseLeave:()=>{m||j(!1)},onClick:I,children:[u,r.jsx("svg",{className:"ml-1 w-3.5 h-3.5 text-lotus-grey-300 hover:text-lotus-purple-400 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),typeof document<"u"&&Qr.createPortal(C,document.body)]})}const Or={jrSupply:{formula:"jrSupply[i] = (supply[j]) for j  i",description:"Sum of supply from this tranche and all junior tranches. Includes both direct supply and cascaded supply from more junior tranches."},jrBorrow:{formula:"jrBorrow[i] = (borrow[j]) for j  i",description:"Sum of borrows from this tranche and all junior tranches."},jrNetSupply:{formula:"jrNetSupply[i] = max(0, jrSupply[i]  jrBorrow[i])",description:"Unused junior supply after accounting for junior borrows."},freeSupply:{formula:"freeSupply[i] = min(jrNetSupply[j]) for j  i",description:"Constrained by the minimum jrNetSupply of all senior tranches."},availableSupply:{formula:"availableSupply[i] = jrNetSupply[i] + borrow[i]",description:"Total supply that was available to this tranche before borrowing."},supplyRate:{formula:"Cascading: (cascade + interest)  supplyUtil  allocated",description:"Interest cascades from senior to junior, allocated by supply utilization at each level."}},Sm={global:"Global",tranche:"Tranche-specific",upstream:"Upstream bottleneck"};function sr({children:i,title:d,why:u,primitive:x,scope:g,trancheIndex:j,mathSteps:m,docLink:p,className:h=""}){const[N,y]=P.useState(!1),[b,M]=P.useState(!1),[C,I]=P.useState({top:0,left:0}),_=P.useRef(null),H=P.useRef(null);P.useEffect(()=>{if(N&&_.current){const T=_.current.getBoundingClientRect(),F=T.top<200;I({top:F?T.bottom+8:T.top-8,left:Math.min(Math.max(T.left+T.width/2,180),window.innerWidth-180)})}},[N]),P.useEffect(()=>{if(!N)return;const T=F=>{_.current&&!_.current.contains(F.target)&&H.current&&!H.current.contains(F.target)&&(y(!1),M(!1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[N]);const ce=T=>{T.preventDefault(),T.stopPropagation(),y(!N)},ye=g?g==="tranche"&&j!==void 0?`Tranche ${j+1}`:Sm[g]:null,ie=N&&r.jsxs("div",{ref:H,className:"fixed z-[9999] p-4 text-sm bg-lotus-grey-900 rounded-lg shadow-xl border border-amber-600/50 max-w-sm",style:{top:C.top,left:C.left,transform:C.top<200?"translateX(-50%)":"translate(-50%, -100%)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-4 h-4 text-amber-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("span",{className:"font-medium text-amber-300",children:d})]}),r.jsx("p",{className:"text-lotus-grey-300 text-xs leading-relaxed mb-3",children:u}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[x&&r.jsx("span",{className:"px-2 py-0.5 bg-lotus-grey-800 text-lotus-purple-300 rounded font-mono",children:x}),ye&&r.jsx("span",{className:"px-2 py-0.5 bg-lotus-grey-800 text-lotus-grey-400 rounded",children:ye})]}),m&&m.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-lotus-grey-700",children:[r.jsxs("button",{onClick:T=>{T.stopPropagation(),M(!b)},className:"text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors flex items-center gap-1",children:[r.jsx("svg",{className:`w-3 h-3 transition-transform ${b?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),b?"Hide math":"Show math"]}),b&&r.jsx("div",{className:"mt-2 p-2 bg-lotus-grey-800 rounded",children:m.map((T,F)=>r.jsx("code",{className:"block text-xs font-mono text-lotus-grey-300 leading-relaxed",children:T},F))})]}),p&&r.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"mt-3 text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors flex items-center gap-1",onClick:T=>T.stopPropagation(),children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View documentation"]}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-8 border-transparent",style:C.top<200?{bottom:"100%",borderBottomColor:"#0D0A14"}:{top:"100%",borderTopColor:"#0D0A14"}})]});return r.jsxs(r.Fragment,{children:[r.jsx("span",{ref:_,className:`cursor-help ${h}`,onMouseEnter:()=>y(!0),onMouseLeave:()=>{b||y(!1)},onClick:ce,children:i}),typeof document<"u"&&Qr.createPortal(ie,document.body)]})}function Td(i,d=!0){const u=i.length,x=Nd(i,d),g=kd(i),j=Sd(x,g),m=Ld(j,i),p=Array.from({length:u},()=>new Array(u).fill(0)),h=new Array(u).fill(0);for(let b=0;b<u;b++){const M=i[b].supplyAssets+(d?i[b].pendingInterest:0);if(M===0)continue;let C=M;for(let I=b;I>=0&&!(C<=0);I--){if(m[I]<=0)continue;const _=i[I].borrowAssets;if(_<=0)continue;const ce=C/m[I]*_,ye=ce/M;p[I][b]=ye,h[b]+=ye,C-=ce}}const N=[];let y=0;for(let b=0;b<u;b++){const M=i[b].supplyAssets+(d?i[b].pendingInterest:0);for(let C=0;C<u;C++){const I=p[C][b];if(I>0){const _=I*M,H=i[C].borrowAssets;N.push({lenderIndex:b,borrowerIndex:C,amount:_,percentOfLenderSupply:I,percentOfBorrowerBorrow:H>0?_/H:0}),y+=_}}}return{matrix:p,entries:N,totalFunded:y,capitalAllocated:h}}function cd({segments:i,size:d=72}){const u=d*.35,x=2*Math.PI*u,g=d/2,j=d*.22,m=P.useMemo(()=>{const p=i.filter(N=>N.percent>.001);let h=0;return p.map(N=>{const y=h;return h+=N.percent,{...N,offset:y,dashArray:`${N.percent*x} ${x}`,dashOffset:-y*x}})},[i,x]);return m.length===0?r.jsx("div",{className:"flex items-center justify-center text-lotus-grey-500 text-xs",style:{width:d,height:d},children:"No data"}):r.jsxs("svg",{width:d,height:d,viewBox:`0 0 ${d} ${d}`,children:[r.jsx("circle",{cx:g,cy:g,r:u,fill:"none",stroke:"currentColor",strokeWidth:j,className:"text-lotus-grey-700"}),[...m].reverse().map((p,h)=>r.jsx("circle",{cx:g,cy:g,r:u,fill:"none",stroke:p.color,strokeWidth:j,strokeDasharray:p.dashArray,strokeDashoffset:p.dashOffset,transform:`rotate(-90 ${g} ${g})`,className:"transition-all duration-300"},h))]})}const md={75:"#10b981",80:"#14b8a6",85:"#f59e0b",90:"#f97316",95:"#ef4444"},pd={75:"text-emerald-400",80:"text-teal-400",85:"text-amber-400",90:"text-orange-400",95:"text-red-400"},xd="#4b5563";function Lm({tranche:i,allTranches:d,trancheIndex:u,onClose:x}){const g=P.useMemo(()=>d.slice(0,u+1),[d,u]),j=P.useMemo(()=>{var M;let y=1/0,b=0;return g.forEach((C,I)=>{C.jrNetSupply<y&&(y=C.jrNetSupply,b=I)}),{value:y===1/0?0:y,trancheIndex:b,trancheLltv:((M=g[b])==null?void 0:M.lltv)??0,isThisTranche:b===u}},[g,u]),m=P.useMemo(()=>Td(d,!1),[d]),p=P.useMemo(()=>{const y=[];let b=0;for(let C=0;C<=u;C++){const I=m.matrix[C][u];if(I>.001){const _=d[C].lltv;y.push({lltv:_,percent:I,color:md[_]||"#6b7280"}),b+=I}}const M=1-b;return{destinations:y,idle:M>.001?M:0,allocated:b}},[m,u,d]),h=P.useMemo(()=>{const y=i.borrowAssets;if(y===0)return{sources:[],hasBorrow:!1};const b=[];for(let M=u;M<d.length;M++){const C=d[M].supplyAssets,_=m.matrix[u][M]*C;if(_>.001){const H=d[M].lltv;b.push({lltv:H,percent:_/y,color:md[H]||"#6b7280"})}}return{sources:b,hasBorrow:!0}},[m,u,i.borrowAssets,d]),N=P.useMemo(()=>{let y=0;for(let b=u;b<d.length;b++)y+=d[b].borrowAssets;return y},[d,u]);return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:x}),r.jsxs("div",{className:"relative w-full max-w-lg bg-lotus-grey-800 rounded-t-xl sm:rounded-xl border border-lotus-grey-700 shadow-xl max-h-[85vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-lotus-grey-800 px-4 py-3 border-b border-lotus-grey-700 flex items-center justify-between z-10",children:[r.jsxs("h3",{className:"text-lg font-medium text-lotus-grey-100",children:["Tranche ",i.lltv,"% Details"]}),r.jsx("button",{onClick:x,className:"p-1 hover:bg-lotus-grey-700 rounded transition-colors",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-grey-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-3",children:"Direct Values"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-lotus-grey-400 mb-1",children:"Supply"}),r.jsx("div",{className:"text-xl font-mono text-blue-400",children:te(i.supplyAssets,0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-lotus-grey-400 mb-1",children:"Borrow"}),r.jsx("div",{className:"text-xl font-mono text-orange-400",children:te(i.borrowAssets,0)})]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Aggregates"}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-3",children:"Cumulative values from this tranche + all junior tranches"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-lotus-grey-300",children:"Junior Supply"}),r.jsx("span",{className:"font-mono text-blue-400",children:te(i.jrSupply,0)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-lotus-grey-300",children:"Junior Borrow"}),r.jsx("span",{className:"font-mono text-orange-400",children:te(N,0)})]}),r.jsxs("div",{className:"border-t border-lotus-grey-600 pt-2 flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-lotus-grey-200",children:"Junior Net Supply"}),r.jsx("span",{className:"font-mono text-emerald-400 font-semibold",children:te(i.jrNetSupply,0)})]}),r.jsxs("div",{className:"text-xs text-lotus-grey-500",children:["= Jr Supply - Jr Borrow = ",te(i.jrSupply,0)," - ",te(N,0)]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Free Supply"}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-3",children:"The minimum Jr Net Supply across all senior tranches. This is the actual borrowable amount."}),r.jsx("div",{className:"text-2xl font-mono text-amber-400 mb-3",children:te(i.freeSupply,0)}),!j.isThisTranche&&i.jrNetSupply!==i.freeSupply&&r.jsx("div",{className:"bg-amber-900/20 rounded p-2 border border-amber-600/30 mb-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-300",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Constrained by ",j.trancheLltv,"% tranche"]})}),r.jsx("div",{className:"text-xs text-lotus-grey-400 mb-2",children:"Jr Net Supply at senior tranches:"}),r.jsx("div",{className:"space-y-1.5",children:g.map((y,b)=>{const M=b===j.trancheIndex,C=Math.max(...g.map(I=>Math.max(0,I.jrNetSupply)));return r.jsxs("div",{className:`flex items-center gap-2 py-1 px-2 rounded ${M?"bg-amber-900/20 border border-amber-600/30":""}`,children:[r.jsxs("span",{className:`text-xs font-medium w-10 ${M?"text-amber-300":"text-lotus-grey-400"}`,children:[y.lltv,"%"]}),r.jsx("div",{className:"flex-1 h-2 bg-lotus-grey-700 rounded overflow-hidden",children:r.jsx("div",{className:`h-full transition-all ${M?"bg-amber-500":"bg-blue-500/60"}`,style:{width:`${C>0?Math.max(0,y.jrNetSupply)/C*100:0}%`}})}),r.jsx("span",{className:`text-xs font-mono w-16 text-right ${M?"text-amber-400":"text-lotus-grey-400"}`,children:te(y.jrNetSupply,0)}),M&&r.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-amber-500/20 text-amber-400 rounded",children:"min"})]},y.id)})})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Available Supply"}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-3",children:"Total supply that was available before borrowing at this tranche."}),r.jsxs("div",{className:"font-mono text-sm grid grid-cols-[auto_auto_auto_auto_auto] gap-x-2 items-center",children:[r.jsx("span",{className:"text-lotus-grey-400 text-xs",children:"Jr Net Supply"}),r.jsx("span",{className:"text-lotus-grey-500 text-center",children:"+"}),r.jsx("span",{className:"text-lotus-grey-400 text-xs",children:"Borrow"}),r.jsx("span",{className:"text-lotus-grey-500 text-center",children:"="}),r.jsx("span",{className:"text-lotus-grey-400 text-xs",children:"Available"}),r.jsx("span",{className:"text-emerald-400",children:te(i.jrNetSupply,0)}),r.jsx("span",{className:"text-lotus-grey-500 text-center",children:"+"}),r.jsx("span",{className:"text-orange-400",children:te(i.borrowAssets,0)}),r.jsx("span",{className:"text-lotus-grey-500 text-center",children:"="}),r.jsx("span",{className:"text-blue-400 font-semibold",children:te(i.availableSupply,0)})]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-3",children:"Utilization Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-lotus-grey-400 mb-1",children:"Borrow Utilization"}),r.jsx("div",{className:"text-xl font-mono text-orange-400",children:i.borrowUtilization!==null?ge(i.borrowUtilization):""}),r.jsx("div",{className:"text-[10px] text-lotus-grey-500 mt-1",children:"How much of junior liquidity is being used"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-lotus-grey-400 mb-1",children:"Supply Utilization"}),r.jsx("div",{className:"text-xl font-mono text-blue-400",children:i.supplyUtilization!==null?ge(i.supplyUtilization):""}),r.jsx("div",{className:"text-[10px] text-lotus-grey-500 mt-1",children:"Share of available supply from this tranche"})]})]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Where Lenders Lend To"}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-3",children:"Which borrower tranches receive funds from lenders at this tranche."}),p.allocated>.001?r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(cd,{segments:[...p.destinations.map(y=>({percent:y.percent,color:y.color,label:`${y.lltv}%`})),...p.idle>0?[{percent:p.idle,color:xd,label:"Idle"}]:[]],size:72}),r.jsxs("div",{className:"flex-1 space-y-1.5",children:[p.destinations.map((y,b)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:y.color}}),r.jsxs("span",{className:`text-xs ${pd[y.lltv]||"text-lotus-grey-300"}`,children:[y.lltv,"% tranche:"]}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-200",children:ge(y.percent)})]},b)),p.idle>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:xd}}),r.jsx("span",{className:"text-xs text-lotus-grey-400",children:"Idle:"}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-400",children:ge(p.idle)})]})]})]}):r.jsx("div",{className:"text-sm text-lotus-grey-500",children:"No supply allocated (all idle)"})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Where Borrowers Borrow From"}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-3",children:"Which lender tranches supply funds to borrowers at this tranche."}),h.hasBorrow&&h.sources.length>0?r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(cd,{segments:h.sources.map(y=>({percent:y.percent,color:y.color,label:`From ${y.lltv}%`})),size:72}),r.jsx("div",{className:"flex-1 space-y-1.5",children:h.sources.map((y,b)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:y.color}}),r.jsxs("span",{className:`text-xs ${pd[y.lltv]||"text-lotus-grey-300"}`,children:["From ",y.lltv,"% lenders:"]}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-200",children:ge(y.percent)})]},b))})]}):r.jsx("div",{className:"text-sm text-lotus-grey-500",children:"No borrows at this tranche"})]})]})]})]})}function Cm({tranches:i,onTrancheChange:d,productiveDebtRate:u}){const[x,g]=P.useState(!1),[j,m]=P.useState(null);return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"p-3 bg-emerald-900/30 rounded-lg border border-emerald-700 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-emerald-300",children:"Productive Debt Rate (from LotusUSD)"}),r.jsx("span",{className:"text-lg font-mono font-semibold text-emerald-400",children:ge(u,2)})]}),r.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:"This base rate is added to the spread to get the total borrow rate."})]}),r.jsxs("button",{onClick:()=>g(!x),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors text-sm font-medium ${x?"bg-lotus-purple-900/30 border-lotus-purple-500 text-lotus-purple-300":"bg-lotus-grey-700/50 border-lotus-grey-600 text-lotus-grey-300 hover:border-lotus-grey-500"}`,children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),x?"Hide Details":"Show Details"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:`w-full text-sm ${x?"min-w-[900px]":"min-w-[600px]"}`,children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800 border-r border-lotus-grey-700 sticky left-0 z-10",children:r.jsx(rr,{term:"lltv",children:"LLTV"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Supply"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Borrow"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:r.jsx(qr,{label:"Credit Spread",formula:"Determined by IRM",note:"Set by the Interest Rate Model based on borrow utilization. Rates increase monotonically with risk (junior tranches always have higher rates).",textColor:"text-lotus-purple-300"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-300 bg-orange-900/30",children:"Borrow Rate"}),x&&r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:r.jsx(Vr,{...Or.jrSupply,children:"Jr Supply"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:r.jsx(Vr,{...Or.jrBorrow,children:"Jr Borrow"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:r.jsx(Vr,{...Or.jrNetSupply,children:"Jr Net"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-300 bg-emerald-900/30",children:r.jsx(Vr,{...Or.freeSupply,children:"Free Supply"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-300 bg-emerald-900/30",children:r.jsx(Vr,{...Or.availableSupply,children:"Available"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:r.jsx(qr,{label:"Supply Util",formula:"Supply / Available Supply",note:"Determines how much interest stays at this tranche vs cascading to junior tranches",textColor:"text-lotus-purple-300"})}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:r.jsx(qr,{label:"Borrow Util",formula:"1 - (Free Supply / Jr Supply)",note:"This drives IRM rates. Higher utilization = higher borrow rates.",textColor:"text-lotus-purple-300"})})]}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-teal-300 bg-teal-900/30",children:r.jsx(Vr,{...Or.supplyRate,children:"Supply Rate"})})]})}),r.jsx("tbody",{children:i.map((p,h)=>{const N=p.borrowAssets>p.supplyAssets,y=p.isBindingConstraint,M=h===i.length-1&&p.borrowAssets>p.supplyAssets;return r.jsxs("tr",{className:`border-b transition-colors cursor-pointer ${M?"border-red-600/50 bg-red-900/20 hover:bg-red-900/30":y?"border-amber-600/50 bg-amber-900/10 hover:bg-amber-900/20":"border-lotus-grey-700/50 hover:bg-lotus-grey-700/30"}`,onClick:()=>m(h),children:[r.jsxs("td",{className:`py-2 px-2 border-r border-lotus-grey-700 sticky left-0 z-10 ${M?"bg-red-900/30":y?"bg-amber-900/20":"bg-lotus-grey-800"}`,children:[r.jsxs("span",{className:`font-medium ${M?"text-red-300":"text-lotus-grey-200"}`,children:[p.lltv,"%"]}),M&&r.jsx("span",{className:"ml-1 text-red-400 text-xs",children:"!"})]}),r.jsx("td",{className:"py-2 px-2 text-right",onClick:C=>C.stopPropagation(),children:r.jsx("input",{type:"number",value:p.supplyAssets,onChange:C=>d(p.id,"supplyAssets",parseFloat(C.target.value)||0),min:0,step:100,className:`w-20 px-2 py-1 text-sm text-right bg-lotus-grey-700 border rounded font-mono text-lotus-grey-100
                        focus:outline-none focus:ring-1 focus:ring-lotus-purple-500 focus:border-lotus-purple-500 ${M?"border-red-500":"border-lotus-grey-600"}`})}),r.jsx("td",{className:"py-2 px-2",onClick:C=>C.stopPropagation(),children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:[M?r.jsx(sr,{title:"Illegal: Borrow Exceeds Available",why:"This borrow amount exceeds the available liquidity. In the real protocol, this state would not be possible.",scope:"tranche",trancheIndex:h,children:r.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})}):N&&r.jsx(sr,{title:"Borrow Exceeds Direct Supply",why:"This is normal! This tranche borrows more than its direct supply by drawing from junior tranche liquidity. The actual limit is Free Supply (which includes junior liquidity), not direct supply.",primitive:"cascadingSupply",scope:"tranche",trancheIndex:h,children:r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400",title:"B > S"})}),r.jsx("input",{type:"number",value:p.borrowAssets,onChange:C=>d(p.id,"borrowAssets",parseFloat(C.target.value)||0),min:0,step:100,className:`w-20 px-2 py-1 text-sm text-right bg-lotus-grey-700 border rounded font-mono
                          focus:outline-none focus:ring-1 focus:ring-lotus-purple-500 focus:border-lotus-purple-500 ${M?"border-red-500 text-red-300":"border-lotus-grey-600 text-lotus-grey-100"}`})]})}),r.jsx("td",{className:"py-2 px-2 bg-lotus-purple-900/20",onClick:C=>C.stopPropagation(),children:r.jsxs("div",{className:"flex items-center justify-end",children:[r.jsx("input",{type:"number",value:Math.round(p.borrowRate*1e3)/10,onChange:C=>d(p.id,"borrowRate",(parseFloat(C.target.value)||0)/100),min:0,max:100,step:.5,className:`w-16 px-2 py-1 text-sm text-right bg-lotus-grey-700 border border-lotus-purple-600 rounded font-mono text-lotus-purple-200
                          focus:outline-none focus:ring-1 focus:ring-lotus-purple-500 focus:border-lotus-purple-500`}),r.jsx("span",{className:"ml-1 text-lotus-grey-300",children:"%"})]})}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/20",children:ge(u+p.borrowRate,2)}),x&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:te(p.jrSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:te(p.jrBorrow,0)}),r.jsx("td",{className:`py-2 px-2 text-right font-mono bg-blue-900/20 ${y?"text-amber-400 font-semibold":"text-blue-400"}`,children:te(p.jrNetSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-emerald-400 bg-emerald-900/20",children:te(p.freeSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-emerald-400 bg-emerald-900/20",children:te(p.availableSupply,0)}),r.jsx("td",{className:"py-2 px-2 text-right bg-lotus-purple-900/20",children:r.jsx(hd,{value:p.supplyUtilization,color:"purple"})}),r.jsx("td",{className:"py-2 px-2 text-right bg-lotus-purple-900/20",children:r.jsx(hd,{value:p.borrowUtilization,color:"blue"})})]}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-teal-400 bg-teal-900/20",children:p.supplyRate!==null?ge(u+p.supplyRate,2):"-"})]},p.id)})})]})}),r.jsxs("div",{className:"mt-4 px-3 py-2 bg-lotus-grey-800 rounded text-xs text-lotus-grey-300 flex items-center justify-between",children:[r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:"Lower LLTV = More Senior"})," | Higher LLTV = More Junior (higher risk, higher yield)"]}),r.jsx("span",{className:"text-lotus-grey-400",children:"Click any row for constraint details"})]}),j!==null&&r.jsx(Lm,{tranche:i[j],allTranches:i,trancheIndex:j,onClose:()=>m(null)})]})}function hd({value:i,color:d="purple"}){if(i===null)return r.jsx("span",{className:"text-lotus-grey-600",children:"-"});const u=i*100,x=j=>j>=90?"bg-red-500":j>=70?"bg-amber-500":d==="purple"?"bg-lotus-purple-500":"bg-blue-500",g=d==="purple"?"text-lotus-purple-400":"text-blue-400";return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-8 h-1.5 bg-lotus-grey-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${x(u)} transition-all duration-200`,style:{width:`${Math.min(100,u)}%`}})}),r.jsx("span",{className:`font-mono ${g}`,children:ge(i,0)})]})}function Go({title:i,icon:d,description:u,children:x,defaultExpanded:g=!1}){const[j,m]=P.useState(g);return r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg border border-lotus-grey-700 overflow-hidden",children:[r.jsxs("button",{onClick:()=>m(!j),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-lotus-grey-700 transition-colors text-left",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[d&&r.jsx("span",{className:"text-xl",children:d}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-lotus-grey-100",children:i}),u&&r.jsx("p",{className:"text-sm text-lotus-grey-300 mt-0.5",children:u})]})]}),r.jsx("svg",{className:`w-5 h-5 text-lotus-grey-300 transition-transform flex-shrink-0 ${j?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&r.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-lotus-grey-700",children:x})]})}function Tm(){return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-900/50 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h4",{className:"font-medium text-emerald-300",children:"Lenders"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-200 mb-2",children:[r.jsx("span",{className:"px-2 py-0.5 bg-emerald-900/50 rounded text-xs font-mono",children:"USDC"}),r.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),r.jsx("span",{className:"text-emerald-300",children:"Deposit & earn yield"})]}),r.jsx("div",{className:"text-xs text-emerald-400",children:"Choose tranche based on desired risk/yield balance."})]}),r.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-900/50 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),r.jsx("h4",{className:"font-medium text-blue-300",children:"Borrowers"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-200 mb-2",children:[r.jsx("span",{className:"text-blue-300",children:"Borrow"}),r.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),r.jsx("span",{className:"px-2 py-0.5 bg-blue-900/50 rounded text-xs font-mono",children:"USDC"})]}),r.jsx("div",{className:"text-xs text-blue-400",children:"Choose tranche based on desired leverage level."})]})]}),r.jsx("div",{className:"bg-lotus-grey-700/50 rounded-lg p-3 border border-lotus-grey-600",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-lotus-purple-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("p",{className:"text-xs text-lotus-grey-300",children:[r.jsx("span",{className:"text-lotus-grey-300 font-medium",children:"USDC auto-conversion:"})," When you deposit or withdraw, USDC is automatically converted to/from LotusUSD by the protocol. You always interact with USDC."]})]})})]})}function Mm({tranches:i,productiveDebtRate:d}){const[u,x]=P.useState(null),g=P.useMemo(()=>{let T=0;return i.forEach(F=>{const ae=d+F.borrowRate,me=F.supplyRate!==null?d+F.supplyRate:null;ae>T&&(T=ae),me!==null&&me>T&&(T=me)}),T=Math.max(T*1.2,.05),{maxRate:T}},[i,d]);if(i.length===0)return null;const j=800,m=200,p=50,h=30,N=20,y=40,b=j-p-h,M=m-N-y,C=b/(i.length-1||1),I=T=>p+T*C,_=T=>N+M-T/g.maxRate*M,H=i.map((T,F)=>({x:I(F),y:_(d+T.borrowRate),totalRate:d+T.borrowRate})),ce=i.map((T,F)=>T.supplyRate!==null?{x:I(F),y:_(d+T.supplyRate),totalRate:d+T.supplyRate}:null).filter(T=>T!==null),ye=T=>T.length===0?"":T.map((F,ae)=>`${ae===0?"M":"L"} ${F.x} ${F.y}`).join(" "),ie=[0,.25,.5,.75,1].map(T=>T*g.maxRate);return r.jsxs("div",{className:"bg-lotus-grey-900 rounded-xl p-4 border border-lotus-grey-700",children:[r.jsxs("div",{className:"flex gap-6 items-center justify-end mb-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-0.5 bg-orange-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Total Borrow Rate"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-0.5 bg-teal-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Total Supply Rate"})]}),r.jsxs("div",{className:"text-lotus-grey-400 text-[10px]",children:["(includes ",ge(d)," PD rate)"]})]}),r.jsxs("div",{className:"w-full relative",children:[r.jsxs("svg",{viewBox:`0 0 ${j} ${m}`,className:"w-full h-auto overflow-visible",preserveAspectRatio:"xMidYMid meet",children:[r.jsx("rect",{x:p,y:N,width:b,height:M,fill:"#191621",rx:"4"}),ie.map((T,F)=>r.jsxs("g",{children:[r.jsx("line",{x1:p,y1:_(T),x2:j-h,y2:_(T),stroke:"#27232F",strokeWidth:1}),r.jsx("text",{x:p-8,y:_(T),textAnchor:"end",alignmentBaseline:"middle",className:"text-xs fill-lotus-grey-500",children:ge(T)})]},F)),i.map((T,F)=>r.jsxs("text",{x:I(F),y:m-y+20,textAnchor:"middle",className:"text-xs fill-lotus-grey-400 font-medium",children:[T.lltv,"%"]},F)),r.jsx("text",{x:p+b/2,y:m-5,textAnchor:"middle",className:"text-xs fill-lotus-grey-500",children:"LLTV"}),r.jsx("path",{d:ye(H),fill:"none",stroke:"#f97316",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),ce.length>0&&r.jsx("path",{d:ye(ce),fill:"none",stroke:"#14b8a6",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),H.map((T,F)=>{const ae=i[F],me=ae.supplyRate!==null?d+ae.supplyRate:null;return r.jsx("g",{children:r.jsx("circle",{cx:T.x,cy:T.y,r:(u==null?void 0:u.lltv)===ae.lltv?8:5,fill:"#f97316",className:"cursor-pointer transition-all",onMouseEnter:()=>x({x:T.x,y:T.y,lltv:ae.lltv,borrowRate:T.totalRate,supplyRate:me,type:"borrow"}),onMouseLeave:()=>x(null)})},`borrow-${F}`)}),ce.map((T,F)=>{const ae=i.findIndex((He,xt)=>{const Me=i[xt].supplyRate;return Me!==null&&d+Me===T.totalRate}),me=i[ae]||i[F];return r.jsx("g",{children:r.jsx("circle",{cx:T.x,cy:T.y,r:(u==null?void 0:u.lltv)===me.lltv?8:5,fill:"#14b8a6",className:"cursor-pointer transition-all",onMouseEnter:()=>x({x:T.x,y:T.y,lltv:me.lltv,borrowRate:d+me.borrowRate,supplyRate:T.totalRate,type:"supply"}),onMouseLeave:()=>x(null)})},`supply-${F}`)})]}),u&&r.jsxs("div",{className:"absolute bg-lotus-grey-900 border border-lotus-grey-600 rounded-lg px-3 py-2 shadow-xl text-sm pointer-events-none z-10",style:{left:`${u.x/j*100}%`,top:`${u.y/m*100}%`,transform:"translate(-50%, -120%)"},children:[r.jsxs("div",{className:"font-medium text-lotus-grey-100 mb-1",children:[u.lltv,"% LLTV"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Borrow:"}),r.jsx("span",{className:"font-mono text-orange-400",children:ge(u.borrowRate)})]}),u.supplyRate!==null&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Supply:"}),r.jsx("span",{className:"font-mono text-teal-400",children:ge(u.supplyRate)})]})]})]})]})}const Ko=["bg-emerald-500","bg-teal-500","bg-amber-500","bg-orange-500","bg-red-500"],Em=["text-emerald-400","text-teal-400","text-amber-400","text-orange-400","text-red-400"];function zm({tranches:i}){const[d,u]=P.useState("lender"),x=P.useMemo(()=>Td(i,!1),[i]),g=P.useMemo(()=>i.map((m,p)=>{var b;const h=[];for(let M=0;M<=p;M++){const C=x.matrix[M][p];C>0&&h.push({trancheIdx:M,lltv:i[M].lltv,percent:C})}const N=((b=x.capitalAllocated)==null?void 0:b[p])||0,y=1-N;return{destinations:h,allocated:N,unallocated:y}}),[i,x]),j=P.useMemo(()=>i.map((m,p)=>{const h=m.borrowAssets;if(h===0)return{sources:[],hasBorrow:!1};const N=[];for(let y=p;y<i.length;y++){const b=i[y].supplyAssets,C=x.matrix[p][y]*b;C>0&&N.push({trancheIdx:y,lltv:i[y].lltv,percent:C/h})}return{sources:N,hasBorrow:!0}}),[i,x]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>u("lender"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d==="lender"?"bg-lotus-purple-600 text-white":"bg-lotus-grey-700 text-lotus-grey-300 hover:bg-lotus-grey-600"}`,children:"Lender View"}),r.jsx("button",{onClick:()=>u("borrower"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d==="borrower"?"bg-blue-600 text-white":"bg-lotus-grey-700 text-lotus-grey-300 hover:bg-lotus-grey-600"}`,children:"Borrower View"})]}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:d==="lender"?r.jsx(r.Fragment,{children:"Due to cascading supply, a lender at a junior tranche backs loans across multiple tranches (their own and more senior)."}):r.jsx(r.Fragment,{children:"Due to cascading supply, a borrower at a senior tranche draws liquidity from multiple tranches (their own and more junior)."})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-lotus-grey-400 pb-1 border-b border-lotus-grey-700",children:[r.jsx("div",{className:"w-20",children:"Tranche LLTV"}),r.jsx("div",{className:"flex-1",children:d==="lender"?"Tranches Lenders Supply To":"Tranches Borrowers Borrow From"}),r.jsx("div",{className:"w-24 text-right",children:d==="lender"?"% Allocated":"Supply Util"})]}),d==="lender"?i.map((m,p)=>{const h=g[p];return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-20 text-sm font-mono text-lotus-grey-200",children:[m.lltv,"%"]}),r.jsx("div",{className:"flex-1",children:h.allocated>.001?r.jsxs("div",{className:"h-8 bg-lotus-grey-700 rounded-lg overflow-hidden flex",children:[h.destinations.map((N,y)=>r.jsx("div",{className:`h-full ${Ko[N.trancheIdx]} flex items-center justify-center transition-all`,style:{width:`${N.percent*100}%`},title:`${N.lltv}% tranche: ${ge(N.percent)}`,children:N.percent>.1&&r.jsx("span",{className:"text-xs font-mono text-white/90",children:ge(N.percent)})},y)),h.unallocated>.01&&r.jsx("div",{className:"h-full bg-lotus-grey-600 flex items-center justify-center",style:{width:`${h.unallocated*100}%`},title:`Unallocated: ${ge(h.unallocated)}`,children:h.unallocated>.1&&r.jsx("span",{className:"text-xs font-mono text-lotus-grey-400",children:ge(h.unallocated)})})]}):r.jsx("div",{className:"h-8 bg-lotus-grey-700 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-lotus-grey-500",children:"No supply allocated"})})}),r.jsx("div",{className:"w-24 text-right text-xs font-mono text-emerald-400",children:ge(h.allocated)})]},p)}):i.map((m,p)=>{const h=j[p],N=m.supplyUtilization??0;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-20 text-sm font-mono text-lotus-grey-200",children:[m.lltv,"%"]}),r.jsx("div",{className:"flex-1",children:h.hasBorrow&&h.sources.length>0?r.jsx("div",{className:"h-8 bg-lotus-grey-700 rounded-lg overflow-hidden flex",children:h.sources.map((y,b)=>r.jsx("div",{className:`h-full ${Ko[y.trancheIdx]} flex items-center justify-center transition-all`,style:{width:`${y.percent*100}%`},title:`From ${y.lltv}% lenders: ${ge(y.percent)}`,children:y.percent>.1&&r.jsx("span",{className:"text-xs font-mono text-white/90",children:ge(y.percent)})},b))}):r.jsx("div",{className:"h-8 bg-lotus-grey-700 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-lotus-grey-500",children:"No borrows"})})}),r.jsx("div",{className:"w-24 text-right text-xs font-mono text-blue-400",children:ge(N)})]},p)})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-2 border-t border-lotus-grey-700",children:[r.jsx("span",{className:"text-xs text-lotus-grey-400",children:"Tranches:"}),i.map((m,p)=>r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:`w-3 h-3 rounded ${Ko[p]}`}),r.jsxs("span",{className:`text-xs ${Em[p]}`,children:[m.lltv,"%"]})]},p)),d==="lender"&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"w-3 h-3 rounded bg-lotus-grey-600"}),r.jsx("span",{className:"text-xs text-lotus-grey-400",children:"Idle"})]})]})]})}function si({title:i,children:d}){return r.jsx("div",{className:"bg-amber-900/20 rounded-lg p-4 border border-amber-700/50",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-300 mb-1",children:i}),r.jsx("div",{className:"text-sm text-amber-200/80",children:d})]})]})})}function Dm(){const[i,d]=P.useState(!1);return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>d(!i),className:"text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors flex items-center gap-1",children:[r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Why?"]}),i&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 z-20 w-80 bg-lotus-grey-800 border border-lotus-grey-600 rounded-lg shadow-xl p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h5",{className:"font-medium text-emerald-300",children:"Why Free Supply Matters"}),r.jsx("button",{onClick:()=>d(!1),className:"text-lotus-grey-400 hover:text-lotus-grey-200",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-3 text-xs text-lotus-grey-300",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-emerald-400",children:"Free supply is the amount that can be borrowed or withdrawn"})," from a tranche."]}),r.jsxs("p",{children:["It's limited by the ",r.jsx("strong",{className:"text-amber-400",children:"tightest junior net supply"})," along the senior path. Even if a junior tranche has lots of liquidity, it can only be accessed if all senior tranches also have liquidity available."]}),r.jsx("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded p-2 mt-2",children:r.jsxs("p",{className:"text-amber-200",children:[r.jsx("strong",{children:"Why can borrow > supply?"})," This is valid because liquidity cascades from junior tranches. The true limit is Free Supply, not direct supply."]})})]})]})]})}function Rm({tranches:i,productiveDebtRate:d,onTrancheChange:u}){const x=P.useMemo(()=>Math.max(...i.map(m=>m.jrSupply)),[i]),g=P.useMemo(()=>Math.max(...i.map(m=>m.jrBorrow)),[i]),j=P.useMemo(()=>Math.max(...i.map(m=>Math.abs(m.jrNetSupply))),[i]);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Xn,{title:"Connected Liquidity",whatYoullLearn:["How lenders and borrowers interact with different tranches","Why liquidity cascades upward and interest cascades downward","How the funding matrix shows who is lending to whom"],tryThis:"Adjust the supply and borrow values in the table below to see how liquidity flows between tranches."}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"How Lenders & Borrowers Use Tranches"}),r.jsx(Tm,{})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Benefits of Cascading Liquidity"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Unlike isolated pools, Lotus tranches share liquidity through a cascade mechanism."}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-900/50 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-emerald-400 text-sm font-bold",children:"1"})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-lotus-grey-200",children:[r.jsx("strong",{className:"text-emerald-400",children:"Liquidity cascades upward:"})," Unused supply from junior tranches (higher LLTV) flows to more senior tranches (lower LLTV) to support borrowers there."]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-900/50 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-400 text-sm font-bold",children:"2"})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-lotus-grey-200",children:[r.jsx("strong",{className:"text-blue-400",children:"Interest cascades downward:"})," Interest generated at senior tranches flows down to junior tranches based on supply utilization at each level."]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-lotus-purple-900/50 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-lotus-purple-400 text-sm font-bold",children:"3"})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-lotus-grey-200",children:[r.jsx("strong",{className:"text-lotus-purple-400",children:"No idle capital:"})," Your supply earns yield even when borrowers at your tranche level aren't active, because it supports borrowers at more senior tranches."]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded-lg p-4 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),r.jsx("span",{className:"font-medium text-emerald-300",children:"Capital Efficiency"})]}),r.jsx("p",{className:"text-sm text-emerald-200/80",children:"Unused junior supply automatically supports senior borrowers, maximizing utilization."})]}),r.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{className:"font-medium text-blue-300",children:"Fair Distribution"})]}),r.jsx("p",{className:"text-sm text-blue-200/80",children:"Interest flows to all suppliers whose liquidity was used, proportionally."})]}),r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),r.jsx("span",{className:"font-medium text-lotus-purple-300",children:"Higher Risk = Higher Yield"})]}),r.jsx("p",{className:"text-sm text-lotus-purple-200/80",children:"Junior lenders underwrite higher-risk LLTVs and earn higher yields to compensate."})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-amber-900/20 rounded-lg border border-amber-700/50",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-amber-200",children:[r.jsx("strong",{children:"Important:"}),' Bad debt is allocated proportionally to lenders who provided the liquidity that was borrowed. Junior lenders earn higher yields because they underwrite riskier (higher LLTV) loans, not because they "absorb losses first."']})})]})})]}),r.jsx("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700 overflow-x-auto",children:r.jsx(Cm,{tranches:i,productiveDebtRate:d,onTrancheChange:u})}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Rates by LLTV"}),r.jsx(Mm,{tranches:i,productiveDebtRate:d})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-2",children:"Dynamic Loan Mix"}),r.jsx("p",{className:"text-sm text-lotus-grey-400 mb-4",children:"See how each tranche's capital is allocated across the system. The mix changes dynamically based on supply and borrow activity."}),r.jsx(zm,{tranches:i})]}),r.jsx(Go,{title:"Understanding Junior Metrics",icon:"",description:"How supply and borrow cascade across tranches",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Supply"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:"Junior Supply at tranche i = Sum of all supply from this tranche and more junior tranches."}),r.jsxs("div",{className:"flex gap-4 mb-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Direct supply (this tranche)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-400/50 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Cascaded from junior"})]})]}),r.jsx("div",{className:"space-y-2",children:i.map(m=>{const p=m.jrSupply-m.supplyAssets,h=x>0?m.supplyAssets/x*100:0,N=x>0?p/x*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[m.lltv,"%"]}),r.jsxs("div",{className:"flex-1 h-4 bg-lotus-grey-700 rounded overflow-hidden flex",children:[r.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${h}%`}}),r.jsx("div",{className:"h-full bg-blue-400/50 transition-all",style:{width:`${N}%`}})]}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-300 w-16 text-right",children:m.jrSupply.toLocaleString()})]},m.id)})})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Borrow"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:"Junior Borrow at tranche i = Sum of all borrows at or above this risk level."}),r.jsxs("div",{className:"flex gap-4 mb-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Direct borrow (this tranche)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-400/50 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Cascaded from senior"})]})]}),r.jsx("div",{className:"space-y-2",children:i.map(m=>{const p=m.jrBorrow-m.borrowAssets,h=g>0?m.borrowAssets/g*100:0,N=g>0?p/g*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[m.lltv,"%"]}),r.jsxs("div",{className:"flex-1 h-4 bg-lotus-grey-700 rounded overflow-hidden flex",children:[r.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${h}%`}}),r.jsx("div",{className:"h-full bg-orange-400/50 transition-all",style:{width:`${N}%`}})]}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-300 w-16 text-right",children:m.jrBorrow.toLocaleString()})]},m.id)})})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Junior Net Supply"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:'Jr Net = Jr Supply  Jr Borrow. This shows the "excess" supply available at each level.'}),r.jsx("div",{className:"space-y-2",children:i.map(m=>{const p=m.jrNetSupply>=0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[m.lltv,"%"]}),r.jsx("span",{className:"text-xs font-mono text-blue-400 w-14 text-right",children:m.jrSupply.toLocaleString()}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:""}),r.jsx("span",{className:"text-xs font-mono text-orange-400 w-14 text-right",children:m.jrBorrow.toLocaleString()}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"="}),r.jsx("span",{className:`text-xs font-mono w-14 text-right font-medium ${p?"text-emerald-400":"text-red-400"}`,children:m.jrNetSupply.toLocaleString()}),r.jsx("div",{className:"flex-1 h-4 bg-lotus-grey-700 rounded overflow-hidden relative",children:r.jsx("div",{className:`h-full transition-all ${p?"bg-emerald-500":"bg-red-500"}`,style:{width:`${j>0?Math.abs(m.jrNetSupply)/j*100:0}%`}})})]},m.id)})})]})]})}),r.jsx(Go,{title:"Understanding Supply Metrics",icon:"",description:"Free Supply and Available Supply explained",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100",children:"Free Supply"}),r.jsx(Dm,{})]}),r.jsxs("p",{className:"text-sm text-lotus-grey-300 mb-3",children:["The amount of liquidity that can be ",r.jsx("strong",{className:"text-emerald-400",children:"borrowed or withdrawn"})," from the tranche."]}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-4",children:r.jsx("span",{className:"font-mono bg-lotus-grey-800 px-2 py-1 rounded",children:"FreeSupply = min(JrNetSupply at this tranche and all more senior tranches)"})}),r.jsxs("div",{className:"flex gap-4 mb-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Jr Net Supply"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Free Supply"})]})]}),r.jsx("div",{className:"space-y-2",children:(()=>{const m=Math.max(...i.map(p=>Math.max(0,p.jrNetSupply)));return i.map(p=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[p.lltv,"%"]}),r.jsxs("div",{className:"flex-1 h-5 bg-lotus-grey-700 rounded overflow-hidden relative",children:[r.jsx("div",{className:"absolute h-full bg-blue-500/60 transition-all",style:{width:`${m>0?Math.max(0,p.jrNetSupply)/m*100:0}%`}}),r.jsx("div",{className:"absolute h-full bg-emerald-500 transition-all",style:{width:`${m>0?p.freeSupply/m*100:0}%`}})]}),r.jsxs("div",{className:"flex gap-2 w-32 justify-end",children:[r.jsx("span",{className:"text-xs font-mono text-blue-400",children:Math.max(0,p.jrNetSupply).toLocaleString()}),r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"/"}),r.jsx("span",{className:"text-xs font-mono text-emerald-400",children:p.freeSupply.toLocaleString()})]})]},p.id))})()}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mt-3 italic",children:"Free supply is constrained by the minimum Jr Net Supply at all more senior tranches. Even if a junior tranche has excess liquidity, it can only be withdrawn if senior tranches also have liquidity available."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-2",children:"Available Supply"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-3",children:"The total supply available for borrowers at this tranche. Equals Jr Net Supply plus existing borrows at the tranche."}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-4",children:r.jsx("span",{className:"font-mono bg-lotus-grey-800 px-2 py-1 rounded",children:"AvailableSupply = JrNetSupply + BorrowsAtTranche"})}),r.jsxs("div",{className:"flex gap-4 mb-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Jr Net Supply"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),r.jsx("span",{className:"text-lotus-grey-300",children:"Borrows at Tranche"})]})]}),r.jsx("div",{className:"space-y-2",children:(()=>{const m=Math.max(...i.map(p=>p.availableSupply));return i.map(p=>{const h=m>0?Math.max(0,p.jrNetSupply)/m*100:0,N=m>0?p.borrowAssets/m*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-lotus-grey-300 w-12",children:[p.lltv,"%"]}),r.jsxs("div",{className:"flex-1 h-5 bg-lotus-grey-700 rounded overflow-hidden flex",children:[r.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${h}%`}}),r.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${N}%`}})]}),r.jsx("span",{className:"text-xs font-mono text-lotus-grey-300 w-20 text-right",children:p.availableSupply.toLocaleString()})]},p.id)})})()})]})]})}),r.jsx(Go,{title:"Utilization Metrics",icon:"",description:"How supply and borrow utilization are calculated",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-lotus-purple-900/20 rounded-lg p-4 border border-lotus-purple-700/50",children:[r.jsx("h4",{className:"font-medium text-lotus-purple-200 mb-3",children:"Supply Utilization by Tranche"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-purple-700/50",children:[r.jsx("th",{className:"text-left py-2 px-3 text-lotus-grey-200 font-medium",children:"LLTV"}),r.jsx("th",{className:"text-right py-2 px-3 text-blue-300 font-medium",children:"Supply"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:""}),r.jsx("th",{className:"text-right py-2 px-3 text-emerald-300 font-medium",children:"Available"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:"="}),r.jsx("th",{className:"text-right py-2 px-3 text-lotus-purple-300 font-medium",children:"Supply Util"})]})}),r.jsx("tbody",{children:i.map(m=>{const p=m.availableSupply>0?m.supplyAssets/m.availableSupply:0;return r.jsxs("tr",{className:"border-b border-lotus-purple-800/30 hover:bg-lotus-purple-900/20",children:[r.jsxs("td",{className:"py-2 px-3 font-medium text-white",children:[m.lltv,"%"]}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-blue-200",children:m.supplyAssets.toLocaleString()}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:""}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-emerald-200",children:m.availableSupply.toLocaleString()}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:"="}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono font-semibold text-lotus-purple-200",children:[(p*100).toFixed(1),"%"]})]},m.id)})})]})}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mt-2",children:"Supply utilization determines how much interest stays at this tranche vs cascading to more junior tranches. Higher supply utilization means more of the interest is kept at this level."})]}),r.jsxs("div",{className:"bg-orange-900/20 rounded-lg p-4 border border-orange-700/50",children:[r.jsx("h4",{className:"font-medium text-orange-200 mb-3",children:"Borrow Utilization by Tranche"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-orange-700/50",children:[r.jsx("th",{className:"text-left py-2 px-3 text-lotus-grey-200 font-medium",children:"LLTV"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:"1 "}),r.jsx("th",{className:"text-right py-2 px-3 text-emerald-300 font-medium",children:"Free Supply"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:""}),r.jsx("th",{className:"text-right py-2 px-3 text-blue-300 font-medium",children:"Jr Supply"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:"="}),r.jsx("th",{className:"text-right py-2 px-3 text-orange-300 font-medium",children:"Borrow Util"})]})}),r.jsx("tbody",{children:i.map(m=>{const p=m.jrSupply>0?1-m.freeSupply/m.jrSupply:0;return r.jsxs("tr",{className:"border-b border-orange-800/30 hover:bg-orange-900/20",children:[r.jsxs("td",{className:"py-2 px-3 font-medium text-white",children:[m.lltv,"%"]}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:"1 "}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-emerald-200",children:m.freeSupply.toLocaleString()}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:""}),r.jsx("td",{className:"py-2 px-3 text-right font-mono text-blue-200",children:m.jrSupply.toLocaleString()}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:"="}),r.jsxs("td",{className:"py-2 px-3 text-right font-mono font-semibold text-orange-200",children:[(p*100).toFixed(1),"%"]})]},m.id)})})]})}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mt-2",children:"Borrow utilization is used to determine interest rates according to the Interest Rate Model (IRM). Higher utilization leads to higher borrow rates."})]})]})}),r.jsx(si,{title:"Stress Scenario: Withdrawal Limits",children:r.jsx("p",{children:"Free Supply determines how much can be withdrawn instantly. There is no withdrawal queueif Free Supply is insufficient, lenders must wait until borrowers repay loans or new supply enters the system. Junior lenders are particularly affected as their Free Supply depends on senior tranches maintaining liquidity buffers."})})]})}function Pm({severity:i,label:d,tooltip:u,className:x=""}){const[g,j]=P.useState(!1),[m,p]=P.useState({top:0,left:0}),h=P.useRef(null);P.useEffect(()=>{if(g&&h.current&&u){const b=h.current.getBoundingClientRect(),M=b.top<100;p({top:M?b.bottom+6:b.top-6,left:b.left+b.width/2})}},[g,u]);const N={active:"bg-amber-500/20 text-amber-400 border-amber-500/50",near:"bg-amber-300/10 text-amber-300 border-amber-300/30",info:"bg-blue-500/15 text-blue-400 border-blue-500/30"},y=g&&u&&r.jsxs("div",{className:"fixed z-[9999] px-3 py-2 text-xs bg-lotus-grey-900 text-lotus-grey-300 rounded-lg shadow-xl border border-lotus-grey-700 max-w-xs",style:{top:m.top,left:m.left,transform:m.top<100?"translateX(-50%)":"translate(-50%, -100%)"},children:[u,r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 border-6 border-transparent",style:m.top<100?{bottom:"100%",borderBottomColor:"#0D0A14"}:{top:"100%",borderTopColor:"#0D0A14"}})]});return r.jsxs(r.Fragment,{children:[r.jsxs("span",{ref:h,className:`
          inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded border
          ${N[i]}
          ${u?"cursor-help":""}
          ${x}
        `,onMouseEnter:()=>u&&j(!0),onMouseLeave:()=>j(!1),children:[i==="active"&&r.jsx("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 8 8",children:r.jsx("circle",{cx:"4",cy:"4",r:"3"})}),i==="info"&&r.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d]}),typeof document<"u"&&Qr.createPortal(y,document.body)]})}function ni({title:i="Model Assumptions",assumptions:d,className:u=""}){const[x,g]=P.useState(!1);return d.length===0?null:r.jsxs("div",{className:`mt-6 border-t border-lotus-grey-700 pt-4 ${u}`,children:[r.jsxs("button",{onClick:()=>g(!x),className:"flex items-center gap-2 text-sm text-lotus-grey-400 hover:text-lotus-grey-300 transition-colors",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform ${x?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i,r.jsxs("span",{className:"text-xs text-lotus-grey-500",children:["(",d.length,")"]})]}),x&&r.jsxs("div",{className:"mt-3 p-4 bg-lotus-grey-800/50 rounded-lg border border-lotus-grey-700",children:[r.jsx("p",{className:"text-xs text-lotus-grey-400 mb-3",children:"This simulator uses simplified models for educational purposes. Actual protocol behavior may differ."}),r.jsx("ul",{className:"space-y-3",children:d.map((j,m)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-lotus-grey-200",children:j.label}),r.jsx("p",{className:"text-xs text-lotus-grey-400 mt-0.5",children:j.description}),j.docLink&&r.jsxs("a",{href:j.docLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors mt-1 inline-flex items-center gap-1",children:["Learn more",r.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]},m))})]})]})}const li={interestSimulator:[{label:"Linear interest accrual",description:"Interest is calculated as simple interest over the time period. Actual protocol may compound differently."},{label:"Fixed borrow rates",description:"Borrow rates are set manually. In practice, rates adjust dynamically based on utilization."}],badDebtSimulator:[{label:"Instant absorption",description:"Bad debt is absorbed immediately. In practice, there may be delays and liquidation processes."},{label:"No liquidation incentives",description:"This model does not account for liquidation incentive fees that may reduce absorbed amounts."}],liquidations:[{label:"Simplified liquidation math",description:"The buffer calculations use simplified formulas. Actual liquidation modules have more complex logic."},{label:"Single collateral type",description:"This assumes a single collateral asset. Multi-collateral positions have different dynamics."}]};function _m({tranches:i}){const[d,u]=P.useState(()=>i.map(()=>0)),x=(p,h)=>{var b;const N=((b=i[p])==null?void 0:b.borrowAssets)??0,y=[...d];y[p]=Math.min(Math.max(0,h),N),u(y)},g=P.useMemo(()=>d.map((p,h)=>({trancheIndex:h,amount:p})).filter(p=>p.amount>0),[d]),j=P.useMemo(()=>V0(i,g.length>0?g:[{trancheIndex:0,amount:0}]),[i,g]),m=p=>{p!=="clear"&&gr.badDebtSimulated(p);const h=i.map(y=>y.borrowAssets);let N;switch(p){case"clear":N=i.map(()=>0);break;case"small":N=i.map((y,b)=>b===0?Math.round(h[0]*.01):0);break;case"moderate":N=i.map((y,b)=>b<=2?Math.round(h[b]*.05):0);break;case"catastrophic":N=i.map(y=>Math.round(y.borrowAssets*.1));break;default:N=i.map(()=>0)}u(N)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-lotus-grey-400 self-center mr-2",children:"Scenarios:"}),r.jsx("button",{onClick:()=>m("clear"),className:"px-3 py-1.5 text-sm rounded-lg border bg-lotus-grey-700/50 border-lotus-grey-600 text-lotus-grey-300 hover:border-lotus-grey-500 transition-colors",children:"Clear All"}),r.jsx("button",{onClick:()=>m("small"),className:"px-3 py-1.5 text-sm rounded-lg border bg-emerald-900/30 border-emerald-700 text-emerald-300 hover:border-emerald-500 transition-colors",children:"Small Default (1%)"}),r.jsx("button",{onClick:()=>m("moderate"),className:"px-3 py-1.5 text-sm rounded-lg border bg-amber-900/30 border-amber-700 text-amber-300 hover:border-amber-500 transition-colors",children:"Moderate (5%)"}),r.jsx("button",{onClick:()=>m("catastrophic"),className:"px-3 py-1.5 text-sm rounded-lg border bg-red-900/30 border-red-700 text-red-300 hover:border-red-500 transition-colors",children:"Catastrophic (10%)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-red-900/30 rounded-lg p-4 border border-red-700/50",children:[r.jsx("div",{className:"text-sm text-red-400",children:"Total Bad Debt"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-red-300",children:["$",te(j.totalBadDebt,2)]})]}),r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border border-emerald-700/50",children:[r.jsx("div",{className:"text-sm text-emerald-400",children:"Total Absorbed"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-emerald-300",children:["$",te(j.totalAbsorbed,2)]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"text-sm text-lotus-grey-300",children:"Unabsorbed"}),r.jsxs("div",{className:`text-2xl font-mono font-semibold ${j.unabsorbedBadDebt>0?"text-red-400":"text-lotus-grey-300"}`,children:["$",te(j.unabsorbedBadDebt,2)]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-600",children:[r.jsx("th",{className:"text-left py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Tranche"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Supply Before"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Borrow (Max)"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-red-400 bg-red-900/20",children:"Local Bad Debt"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:"+"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-400 bg-orange-900/20",children:"Cascaded In"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:"="}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Total"}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:""}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/20",children:r.jsx(qr,{label:"Supply Util",formula:"Supply / Available Supply",note:"Determines what portion of bad debt this tranche absorbs vs cascades to junior",textColor:"text-lotus-purple-300"})}),r.jsx("th",{className:"py-2 px-1 text-lotus-grey-300 bg-lotus-grey-800",children:"="}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/20",children:"Absorbed"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-400 bg-orange-900/20",children:"Cascaded Out"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-400 bg-emerald-900/20",children:"Supply Left"})]})}),r.jsx("tbody",{children:j.tranches.map((p,h)=>{const N=i[h],y=p.badDebtCascadedIn+p.badDebtLocal,b=h===0,M=h===j.tranches.length-1,C=p.badDebtLocal>0,I=p.supplyUtilization>=.99;return r.jsxs("tr",{className:`border-b border-lotus-grey-700 ${p.badDebtAbsorbed>0?"bg-red-900/10":""}`,children:[r.jsxs("td",{className:"py-2 px-2 font-medium text-lotus-grey-300 bg-lotus-grey-800/50",children:[p.lltv,"%"]}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-lotus-grey-300 bg-lotus-grey-800/50",children:["$",te(p.originalSupply,0)]}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-lotus-grey-300 bg-lotus-grey-800/50",children:["$",te(N.borrowAssets,0)]}),r.jsx("td",{className:"py-2 px-2 bg-red-900/10",children:r.jsx("input",{type:"number",min:"0",max:N.borrowAssets,value:d[h]||0,onChange:_=>x(h,Number(_.target.value)),className:`w-20 px-2 py-1 text-sm font-mono border rounded focus:outline-none focus:ring-2 focus:ring-red-500 text-right bg-lotus-grey-900 text-lotus-grey-100 ${C?"border-red-500":"border-lotus-grey-600"}`})}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:"+"}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/10",children:b?r.jsx(sr,{title:"No Cascade In",why:"This is the most senior tranche. Bad debt only flows downward in the cascade, so nothing cascades into the first tranche.",scope:"tranche",trancheIndex:h,children:r.jsx("span",{className:"text-lotus-grey-500",children:"$0.00"})}):`$${te(p.badDebtCascadedIn,2)}`}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:"="}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-lotus-grey-300 bg-lotus-grey-800/30",children:["$",te(y,2)]}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:""}),r.jsx("td",{className:`py-2 px-2 text-right font-mono ${I?"bg-amber-900/30 text-amber-300":"bg-lotus-purple-900/10 text-lotus-purple-300"}`,children:I?r.jsx(sr,{title:"100% Supply Utilization",why:"This tranche absorbs all bad debt at this level. No further cascade to junior tranches.",scope:"tranche",trancheIndex:h,children:r.jsx("span",{children:ge(p.supplyUtilization,1)})}):ge(p.supplyUtilization,1)}),r.jsx("td",{className:"py-2 px-1 text-lotus-grey-300",children:"="}),r.jsx("td",{className:"py-2 px-2 text-right font-mono font-medium text-lotus-purple-300 bg-lotus-purple-900/10",children:p.badDebtAbsorbed>0?`$${te(p.badDebtAbsorbed,2)}`:"-"}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/10",children:M?r.jsx(sr,{title:"No Cascade Out",why:"This is the most junior tranche. It absorbs 100% of any remaining bad debt, regardless of its supply utilization.",scope:"tranche",trancheIndex:h,children:r.jsx("span",{className:"text-lotus-grey-500",children:""})}):p.badDebtCascadedOut>0?`$${te(p.badDebtCascadedOut,2)}`:"-"}),r.jsxs("td",{className:"py-2 px-2 text-right bg-emerald-900/10",children:[r.jsxs("span",{className:`font-mono ${p.wipedOut?"text-red-400 font-medium":"text-emerald-400"}`,children:["$",te(p.remainingSupply,2)]}),p.wipedOut&&r.jsx(Pm,{severity:"active",label:"Wiped",tooltip:"This tranche's supply has been completely depleted by bad debt absorption.",className:"ml-1"})]})]},p.index)})})]})}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-2",children:"How Bad Debt is Absorbed"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-lotus-grey-300 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Default occurs:"})," Enter bad debt amounts for tranches where borrowers default"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Senior to junior:"})," Bad debt cascades from senior to junior (same as interest)"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Allocation:"})," At each tranche: Total Bad Debt  Supply Utilization  absorbed by lenders"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Cascade:"})," Remaining bad debt (1  Supply Util) flows to the next junior tranche"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-lotus-grey-300",children:"Final:"})," Most junior tranche (95% LLTV) absorbs 100% of remaining bad debt"]})]})]}),r.jsx(ni,{assumptions:li.badDebtSimulator})]})}function Bm({computedTranches:i}){return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-red-900/20 rounded-lg p-4 border border-red-700/50",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-red-300 mb-1",children:["What is ",r.jsx(rr,{term:"bad-debt",children:"Bad Debt"}),"?"]}),r.jsx("p",{className:"text-sm text-red-200",children:"Bad debt occurs when a position's collateral value is less than the debt owed after liquidation. This shortfall is absorbed by lenders through the cascade mechanism."})]})]})}),i&&r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Bad Debt Simulation"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Explore how bad debt is absorbed by tranches. Enter bad debt amounts to see how losses cascade from senior to junior tranches."}),r.jsx(_m,{tranches:i})]}),r.jsx(si,{title:"Stress Scenario: Correlated Defaults",children:r.jsx("p",{children:"Bad debt rarely occurs in isolation. During market crashes, multiple borrowers may become undercollateralized simultaneously. This can overwhelm liquidators and cause cascading defaults across tranches. In extreme scenarios, if total bad debt exceeds the combined supply of all tranches, some debt may remain unabsorbed, resulting in losses for the protocol."})})]})}function Im({tranches:i}){const d=P.useMemo(()=>W0(i,"1month"),[i]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border border-emerald-700",children:[r.jsx("div",{className:"text-sm text-emerald-400",children:"Total Interest Generated"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-emerald-300",children:["$",te(d.totalInterestGenerated,2)]})]}),r.jsxs("div",{className:"bg-blue-900/30 rounded-lg p-4 border border-blue-700",children:[r.jsx("div",{className:"text-sm text-blue-400",children:"Total Interest Received"}),r.jsxs("div",{className:"text-2xl font-mono font-semibold text-blue-300",children:["$",te(d.totalInterestReceived,2)]})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"text-sm text-lotus-grey-300",children:"Time Period"}),r.jsx("div",{className:"text-2xl font-semibold text-lotus-grey-200",children:"1 Month"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(()=>{let u=0;const x=d.tranches.map((g,j)=>{const m=u,p=m+g.interestGenerated,h=i[j].supplyUtilization??1,N=p*(1-h);return u=N,{...g,cascadeIn:m,cascadeOut:N,supplyUtil:h}});return r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-2 px-2 font-semibold text-lotus-grey-300 bg-lotus-grey-800",children:"Tranche"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-blue-300 bg-blue-900/30",children:"Cascaded In"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:"+"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-emerald-300 bg-emerald-900/30",children:"Generated"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:"="}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-yellow-300 bg-yellow-900/30",children:"Total"}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:""}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-lotus-purple-300 bg-lotus-purple-900/30",children:r.jsx(qr,{label:"Supply Util",formula:"Supply / Available Supply",note:"Determines how much interest stays at this tranche vs cascading to junior tranches",textColor:"text-lotus-purple-300"})}),r.jsx("th",{className:"text-center py-2 px-1 text-lotus-grey-300",children:"="}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-teal-300 bg-teal-900/30",children:"Received"}),r.jsx("th",{className:"text-right py-2 px-2 font-semibold text-orange-300 bg-orange-900/30",children:"Cascaded Out"})]})}),r.jsx("tbody",{children:x.map((g,j)=>{const m=j===0,p=j===x.length-1,h=g.cascadeIn+g.interestGenerated,N=g.supplyUtil>=.99;return r.jsxs("tr",{className:"border-b border-lotus-grey-700/50 hover:bg-lotus-grey-700/30",children:[r.jsxs("td",{className:"py-2 px-2 font-medium text-lotus-grey-200 bg-lotus-grey-800",children:[g.lltv,"%"]}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-blue-400 bg-blue-900/20",children:m?r.jsx(sr,{title:"No Cascade In",why:"This is the most senior tranche. Interest only flows downward in the cascade, so nothing cascades into the first tranche.",scope:"tranche",trancheIndex:j,children:r.jsx("span",{className:"text-lotus-grey-500",children:"$0.00"})}):`$${te(g.cascadeIn,2)}`}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:"+"}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono text-emerald-400 bg-emerald-900/20",children:["$",te(g.interestGenerated,2)]}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:"="}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono font-medium text-yellow-400 bg-yellow-900/20",children:["$",te(h,2)]}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:""}),r.jsx("td",{className:`py-2 px-2 text-right font-mono ${N?"bg-amber-900/30 text-amber-300":"bg-lotus-purple-900/20 text-lotus-purple-400"}`,children:N?r.jsx(sr,{title:"100% Supply Utilization",why:"This tranche keeps all interest at this level. No further cascade to junior tranches.",scope:"tranche",trancheIndex:j,children:r.jsx("span",{children:ge(g.supplyUtil,2)})}):ge(g.supplyUtil,2)}),r.jsx("td",{className:"text-center text-lotus-grey-300",children:"="}),r.jsxs("td",{className:"py-2 px-2 text-right font-mono font-medium text-teal-300 bg-teal-900/20",children:["$",te(g.interestReceived,2)]}),r.jsx("td",{className:"py-2 px-2 text-right font-mono text-orange-400 bg-orange-900/20",children:p?r.jsx(sr,{title:"No Cascade Out",why:"This is the most junior tranche. It receives 100% of any remaining interest that cascaded down, regardless of its supply utilization.",scope:"tranche",trancheIndex:j,children:r.jsx("span",{className:"text-lotus-grey-500",children:""})}):`$${te(g.cascadeOut,2)}`})]},g.index)})})]})})()}),r.jsxs("details",{className:"bg-lotus-grey-700/50 rounded-lg border border-lotus-grey-600",children:[r.jsx("summary",{className:"px-4 py-3 cursor-pointer text-sm font-medium text-lotus-grey-300 hover:text-lotus-grey-100",children:"Show Formula"}),r.jsx("div",{className:"px-4 pb-4",children:r.jsxs("div",{className:"bg-lotus-grey-900 rounded-lg p-3 text-sm text-lotus-grey-300",children:[r.jsx("code",{className:"font-mono",children:"Interest Received = (Cascaded In + Generated)  Supply Utilization"}),r.jsx("br",{}),r.jsx("code",{className:"font-mono",children:"Cascaded Out = (Cascaded In + Generated)  (1 - Supply Utilization)"})]})})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"font-medium text-lotus-grey-200 mb-2",children:"How Interest Flows"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-lotus-grey-300 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Generation:"})," Each tranche generates interest from its borrowers"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Cascade Start:"})," Starting from the most senior tranche (75% LLTV)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Allocation:"})," Lenders receive interest proportional to supply utilization"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Cascade:"})," Remaining interest flows to the next junior tranche"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Final:"})," Most junior tranche receives 100% of remaining interest"]})]})]}),r.jsx(ni,{assumptions:li.interestSimulator})]})}const Zo=[{name:"Conservative",description:"Prioritizes capital preservation with majority allocation to senior tranches.",allocations:[{lltv:75,percent:60},{lltv:80,percent:20},{lltv:85,percent:15},{lltv:90,percent:5},{lltv:95,percent:0}],riskScore:2},{name:"Balanced",description:"Balanced exposure across tranches for moderate risk/reward.",allocations:[{lltv:75,percent:30},{lltv:80,percent:25},{lltv:85,percent:25},{lltv:90,percent:15},{lltv:95,percent:5}],riskScore:5},{name:"Aggressive",description:"Maximizes yield by concentrating in junior tranches.",allocations:[{lltv:75,percent:10},{lltv:80,percent:15},{lltv:85,percent:25},{lltv:90,percent:30},{lltv:95,percent:20}],riskScore:8}];function Am({tranches:i,productiveDebtRate:d}){const[u,x]=P.useState("Balanced"),g=P.useMemo(()=>{const h=Zo.find(N=>N.name===u);return(h==null?void 0:h.allocations)||[]},[u]),j=P.useMemo(()=>{let h=0;for(const N of g){const y=i.find(b=>b.lltv===N.lltv);if(y&&y.supplyRate!==null){const b=d+y.supplyRate;h+=b*(N.percent/100)}}return h},[g,i,d]),m=P.useMemo(()=>{var h;return((h=Zo.find(N=>N.name===u))==null?void 0:h.riskScore)||5},[u]),p=h=>{gr.strategySelected(h),x(h)};return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Xn,{title:"Vault Strategies",whatYoullLearn:["How vaults aggregate deposits and allocate across tranches","The tradeoffs between conservative and aggressive strategies","How expected APY and risk score relate to allocation"],tryThis:"Click each strategy card below to compare their allocations, APY, and risk profiles."}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"How Vaults Work"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center mb-3",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"1. Deposit"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Users deposit USDC into a vault and receive vault shares representing their position."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center mb-3",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"2. Allocate"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Vault manager allocates deposits across tranches based on the vault's strategy."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-purple-900/50 rounded-lg flex items-center justify-center mb-3",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h4",{className:"font-medium text-lotus-grey-100 mb-1",children:"3. Earn Yield"}),r.jsx("p",{className:"text-sm text-lotus-grey-300",children:"Interest earned accrues to the vault. Vault shares appreciate in value over time."})]})]}),r.jsx("div",{className:"bg-lotus-grey-900/50 rounded-lg p-6 border border-lotus-grey-700",children:r.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-lg mx-auto",children:[r.jsxs("div",{className:"w-full bg-blue-900/30 border-2 border-blue-600 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("span",{className:"text-lg font-semibold text-blue-300",children:"User Deposits USDC"})]}),r.jsx("p",{className:"text-sm text-blue-200/70",children:"Auto-converted to LotusUSD"})]}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"w-full bg-lotus-purple-900/30 border-2 border-lotus-purple-600 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("svg",{className:"w-6 h-6 text-lotus-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),r.jsx("span",{className:"text-lg font-semibold text-lotus-purple-300",children:"Vault"})]}),r.jsx("p",{className:"text-sm text-lotus-purple-200/70",children:"Aggregates all deposits"})]}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"w-full bg-amber-900/30 border-2 border-amber-600 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsxs("svg",{className:"w-6 h-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-lg font-semibold text-amber-300",children:"Vault Manager"})]}),r.jsx("p",{className:"text-sm text-amber-200/70",children:"Allocates across tranches"})]}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("svg",{className:"w-8 h-8 text-lotus-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("span",{className:"text-sm font-medium text-emerald-400",children:[r.jsx(rr,{term:"tranche-seniority",children:"Senior"})," (Lower Risk)"]}),r.jsx("span",{className:"text-sm font-medium text-red-400",children:"Junior (Higher Yield)"})]}),r.jsx("div",{className:"flex items-center gap-2",children:[75,80,85,90,95].map((h,N)=>{const y=["bg-emerald-900/40 border-emerald-600","bg-emerald-900/30 border-emerald-700","bg-amber-900/30 border-amber-700","bg-orange-900/30 border-orange-700","bg-red-900/30 border-red-700"],b=["text-emerald-300","text-emerald-400","text-amber-400","text-orange-400","text-red-400"];return r.jsx("div",{className:`flex-1 py-3 rounded-lg border-2 text-center ${y[N]}`,children:r.jsxs("div",{className:`font-mono font-semibold ${b[N]}`,children:[h,"%"]})},h)})})]})]})})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Allocation Strategies"}),r.jsx("p",{className:"text-lotus-grey-300 mb-6",children:"Vault managers choose strategies based on risk tolerance. Click a strategy to see its allocation breakdown."}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:Zo.map(h=>{const N=u===h.name,y=h.allocations.reduce((b,M)=>{const C=i.find(I=>I.lltv===M.lltv);if(C&&C.supplyRate!==null){const I=d+C.supplyRate;return b+I*(M.percent/100)}return b},0);return r.jsxs("button",{onClick:()=>p(h.name),className:`p-5 rounded-xl border-2 text-left transition-all ${N?"bg-lotus-purple-900/30 border-lotus-purple-500 shadow-lg shadow-lotus-purple-500/20":"bg-lotus-grey-700/30 border-lotus-grey-600 hover:border-lotus-purple-500/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-lg font-semibold text-lotus-grey-100",children:h.name}),N&&r.jsx("div",{className:"w-6 h-6 bg-lotus-purple-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-2xl font-mono font-bold text-emerald-400",children:[(y*100).toFixed(2),"%"]}),r.jsx("div",{className:"text-xs text-lotus-grey-300",children:"Expected APY"})]}),r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"flex h-4 rounded-lg overflow-hidden",children:h.allocations.map((b,M)=>{const C=["bg-emerald-500","bg-emerald-400","bg-amber-500","bg-orange-500","bg-red-500"];return b.percent===0?null:r.jsx("div",{className:`${C[M]} transition-all`,style:{width:`${b.percent}%`},title:`${b.lltv}% LLTV: ${b.percent}%`},b.lltv)})})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-lotus-grey-300",children:"Risk"}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:10}).map((b,M)=>r.jsx("div",{className:`w-2 h-2 rounded-full ${M<h.riskScore?h.riskScore<=3?"bg-emerald-500":h.riskScore<=6?"bg-amber-500":"bg-red-500":"bg-lotus-grey-600"}`},M))})]}),r.jsx("p",{className:"text-xs text-lotus-grey-300 mt-3",children:h.description})]},h.name)})}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-xl p-5 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-lotus-grey-100 mb-1",children:[u," Strategy Breakdown"]}),r.jsx("p",{className:"text-xs text-lotus-grey-300",children:"Allocation across tranches"})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("span",{className:"px-3 py-1.5 rounded-lg text-sm font-mono font-semibold bg-emerald-900/30 text-emerald-400 border border-emerald-700",children:"100% allocated"})})]}),r.jsx("div",{className:"space-y-3",children:[75,80,85,90,95].map((h,N)=>{var H;const y=((H=g.find(ce=>ce.lltv===h))==null?void 0:H.percent)||0,b=i.find(ce=>ce.lltv===h),M=(b==null?void 0:b.supplyRate)!==null?(d+((b==null?void 0:b.supplyRate)||0))*100:0,C=["bg-emerald-500","bg-emerald-400","bg-amber-500","bg-orange-500","bg-red-500"],I=["text-emerald-400","text-emerald-400","text-amber-400","text-orange-400","text-red-400"],_=["Senior","Senior","Mid","Junior","Junior"];return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"w-20",children:[r.jsxs("div",{className:`text-sm font-medium ${I[N]}`,children:[h,"%"]}),r.jsx("div",{className:"text-xs text-lotus-grey-400",children:_[N]})]}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"h-6 bg-lotus-grey-700 rounded-lg overflow-hidden",children:r.jsx("div",{className:`h-full ${C[N]} transition-all flex items-center justify-end pr-2`,style:{width:`${y}%`},children:y>10&&r.jsxs("span",{className:"text-xs font-mono font-semibold text-white",children:[y,"%"]})})})}),y<=10&&r.jsx("div",{className:"w-12 text-left",children:r.jsxs("span",{className:"text-sm font-mono font-semibold text-lotus-grey-300",children:[y,"%"]})}),r.jsxs("div",{className:"w-20 text-right",children:[r.jsxs("span",{className:"text-sm font-mono text-emerald-400",children:[M.toFixed(2),"%"]}),r.jsx("div",{className:"text-xs text-lotus-grey-400",children:"APY"})]})]},h)})})]}),r.jsxs(Yn,{show:m>7,variant:"warning",children:[r.jsx("strong",{children:"High Risk Allocation:"})," With a risk score above 7, this strategy concentrates heavily in junior tranches. While yields are higher, these tranches absorb losses first during bad debt events."]}),r.jsxs(Yn,{show:m<=3&&j>0,variant:"success",children:[r.jsx("strong",{children:"Conservative Approach:"})," This allocation prioritizes capital preservation. Senior tranches have larger liquidation buffers and are last to absorb bad debt."]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded-xl p-5 border border-emerald-700/50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-900/50 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-emerald-400",children:"Expected APY"}),r.jsxs("div",{className:"text-3xl font-mono font-bold text-emerald-300",children:[(j*100).toFixed(2),"%"]})]})]}),r.jsx("p",{className:"text-xs text-emerald-200/60",children:"Weighted average of tranche supply rates based on your allocation"})]}),r.jsxs("div",{className:"bg-lotus-grey-700/30 rounded-xl p-5 border border-lotus-grey-600",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-lotus-grey-700 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-lotus-grey-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-lotus-grey-300",children:"Risk Score"}),r.jsxs("div",{className:`text-3xl font-mono font-bold ${m<=3?"text-emerald-400":m<=6?"text-amber-400":"text-red-400"}`,children:[m.toFixed(1),"/10"]})]})]}),r.jsx("div",{className:"h-3 bg-lotus-grey-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all ${m<=3?"bg-emerald-500":m<=6?"bg-amber-500":"bg-red-500"}`,style:{width:`${m*10}%`}})})]})]})]}),r.jsx(Cd,{context:"vaults"})]})}const $m=[75,80,85,90,95];function fd(i,d){const u={75:1,80:1.5,85:2.5,90:4,95:6}[i]||2,x=.9;if(d<=x)return u*(.5+.5*(d/x));{const g=(d-x)/(1-x);return u*(1+g*2)}}function Fm(){const[i,d]=P.useState(.7),u=3;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-3",children:"Interest Rate Models (IRMs)"}),r.jsxs("p",{className:"text-sm text-lotus-grey-300 mb-4",children:["Each tranche has its own ",r.jsx("strong",{className:"text-lotus-grey-100",children:"credit spread"})," determined by its local ",r.jsx("strong",{className:"text-lotus-purple-300",children:"borrow utilization"}),". Higher utilization at a tranche means higher spreads for that tranche."]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsxs("div",{className:"text-sm font-mono text-center",children:[r.jsx("span",{className:"text-orange-400",children:"Borrow Rate"}),r.jsx("span",{className:"text-lotus-grey-400",children:" = "}),r.jsx("span",{className:"text-emerald-400",children:"Base Rate"}),r.jsx("span",{className:"text-lotus-grey-400",children:" + "}),r.jsx("span",{className:"text-lotus-purple-400",children:"Credit Spread"})]}),r.jsx("div",{className:"text-xs text-lotus-grey-400 text-center mt-2",children:"Base Rate from productive debt | Credit Spread from tranche's borrow utilization"})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-lotus-grey-500",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Simplified model. Actual IRM (Adaptive Linear Kink) has additional parameters."})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-2",children:"Rate Monotonicity"}),r.jsxs("p",{className:"text-sm text-lotus-grey-300 mb-4",children:["Rates ",r.jsx("strong",{className:"text-lotus-grey-100",children:"always increase with LLTV"}),". Junior tranches (higher LLTV) have higher rates than senior tranches because lenders face more risk and need compensation."]}),r.jsx("div",{className:"space-y-2",children:$m.map((x,g)=>{const j=fd(x,i),m=u+j,p=u+fd(95,1),h=m/p*100,N=[{bg:"bg-emerald-500",text:"text-emerald-400"},{bg:"bg-teal-500",text:"text-teal-400"},{bg:"bg-amber-500",text:"text-amber-400"},{bg:"bg-orange-500",text:"text-orange-400"},{bg:"bg-red-500",text:"text-red-400"}][g];return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-12 text-sm font-mono text-lotus-grey-300",children:[x,"%"]}),r.jsx("div",{className:"flex-1 h-6 bg-lotus-grey-700 rounded overflow-hidden",children:r.jsx("div",{className:`h-full ${N.bg} flex items-center justify-end pr-2 transition-all duration-300`,style:{width:`${h}%`},children:r.jsxs("span",{className:"text-xs font-mono text-white/90",children:[m.toFixed(1),"%"]})})}),r.jsxs("div",{className:`w-16 text-xs font-mono ${N.text} text-right`,children:["+",j.toFixed(1),"%"]})]},x)})}),r.jsxs("div",{className:"mt-3 flex items-center gap-4 text-xs text-lotus-grey-400",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),r.jsx("span",{children:"Lower risk"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),r.jsx("span",{children:"Higher risk"})]}),r.jsx("span",{className:"text-lotus-grey-500",children:"|"}),r.jsx("span",{children:"Spreads shown on right"})]})]}),r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-2",children:"Utilization Drives Spreads"}),r.jsxs("p",{className:"text-sm text-lotus-grey-300 mb-4",children:["Each tranche's spread is set by its own ",r.jsx("strong",{className:"text-lotus-purple-300",children:"borrow utilization"}),". Higher utilization means more demand, so spreads increaseespecially above the",r.jsx("strong",{className:"text-amber-300",children:" target utilization"})," (~90%)."]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-lotus-grey-300",children:"Borrow Utilization"}),r.jsxs("span",{className:"text-lg font-mono font-semibold text-lotus-grey-100",children:[(i*100).toFixed(0),"%"]})]}),r.jsx("input",{type:"range",min:"0",max:"100",value:i*100,onChange:x=>d(Number(x.target.value)/100),className:"w-full accent-lotus-purple-500"}),r.jsxs("div",{className:"flex justify-between text-xs text-lotus-grey-500 mt-1",children:[r.jsx("span",{children:"0%"}),r.jsx("span",{className:"text-amber-400",children:"90% target"}),r.jsx("span",{children:"100%"})]})]}),r.jsxs("div",{className:"relative h-32 bg-lotus-grey-900 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute left-[90%] top-0 bottom-0 border-l border-dashed border-amber-500/30"}),r.jsx("div",{className:"absolute left-[90%] bottom-2 text-[10px] text-amber-400 -translate-x-1/2",children:"target"})]}),r.jsxs("svg",{className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"curveGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#10b981"}),r.jsx("stop",{offset:"90%",stopColor:"#f59e0b"}),r.jsx("stop",{offset:"100%",stopColor:"#ef4444"})]})}),r.jsx("line",{x1:"0%",y1:"90%",x2:"90%",y2:"50%",stroke:"url(#curveGradient)",strokeWidth:"3"}),r.jsx("line",{x1:"90%",y1:"50%",x2:"100%",y2:"5%",stroke:"#ef4444",strokeWidth:"3"})]}),r.jsx("div",{className:"absolute bottom-0 w-0.5 bg-lotus-purple-400 transition-all duration-200",style:{left:`${i*100}%`,height:"100%"}}),r.jsx("div",{className:"absolute w-3 h-3 bg-lotus-purple-400 rounded-full border-2 border-white transition-all duration-200",style:{left:`${i*100}%`,bottom:i<=.9?`${10+i/.9*40}%`:`${50+(i-.9)/.1*45}%`,transform:"translate(-50%, 50%)"}}),r.jsx("div",{className:"absolute left-2 top-2 text-[10px] text-lotus-grey-500",children:"Rate"}),r.jsx("div",{className:"absolute right-2 bottom-2 text-[10px] text-lotus-grey-500",children:"Utilization"})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4 text-xs",children:[r.jsxs("div",{className:"bg-emerald-900/20 rounded p-2 border border-emerald-700/50",children:[r.jsx("div",{className:"text-emerald-400 font-medium",children:"Below Target (0-90%)"}),r.jsx("div",{className:"text-emerald-300/70",children:"Gentle rate increase"})]}),r.jsxs("div",{className:"bg-red-900/20 rounded p-2 border border-red-700/50",children:[r.jsx("div",{className:"text-red-400 font-medium",children:"Above Target (90-100%)"}),r.jsx("div",{className:"text-red-300/70",children:"Steep rate increase"})]})]})]}),r.jsxs("details",{className:"bg-lotus-grey-800 rounded-lg border border-lotus-grey-700",children:[r.jsx("summary",{className:"px-6 py-4 cursor-pointer text-lg font-medium text-lotus-grey-100 hover:bg-lotus-grey-700/30",children:"About the Actual IRM"}),r.jsxs("div",{className:"px-6 pb-6 pt-2 space-y-4",children:[r.jsxs("p",{className:"text-sm text-lotus-grey-300",children:["Lotus uses the ",r.jsx("strong",{className:"text-lotus-purple-300",children:"Adaptive Linear Kink"})," IRM, which automatically adjusts parameters based on observed utilization. The visualization above is simplifiedthe real model includes additional features:"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"text-sm font-medium text-lotus-grey-200 mb-2",children:"Auto-Adjustment"}),r.jsx("p",{className:"text-xs text-lotus-grey-400",children:"Parameters update on each rate query based on how utilization compares to target. This keeps rates responsive without manual intervention."})]}),r.jsxs("div",{className:"bg-lotus-grey-700/50 rounded-lg p-4 border border-lotus-grey-600",children:[r.jsx("h4",{className:"text-sm font-medium text-lotus-grey-200 mb-2",children:"Guardrails"}),r.jsx("p",{className:"text-xs text-lotus-grey-400",children:"Rate changes are bounded to prevent sudden jumps. Grace periods for new markets and minimum update intervals provide additional stability."})]})]})]})]})]})}const Um=[75,80,85,90,95],gd=.3,Wm=1.15;function Md(i){const d=i/100;return Math.min(Wm,1/(gd*d+(1-gd)))}function Vm(i){const d=Md(i),x=(1-(i/100-(1-d)))*100;return Math.max(0,x)}function yd(i,d=1){return`${i.toFixed(d)}%`}function Om(){const[i,d]=P.useState(85),u=P.useMemo(()=>Um.map((h,N)=>{const y=Md(h),b=100-h,M=(y-1)*100,C=Vm(h),I=N+1;return{lltv:h,buffer:b,liquidationBonus:M,badDebtThreshold:C,riskDots:I,colors:[{text:"text-emerald-400",bg:"bg-emerald-500",border:"border-emerald-500"},{text:"text-teal-400",bg:"bg-teal-500",border:"border-teal-500"},{text:"text-amber-400",bg:"bg-amber-500",border:"border-amber-500"},{text:"text-orange-400",bg:"bg-orange-500",border:"border-orange-500"},{text:"text-red-400",bg:"bg-red-500",border:"border-red-500"}][N],lif:y}}),[]),x=u.find(h=>h.lltv===i),g=1e3,j=g*(i/100),m=j*x.lif,p=m-j;return r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-2",children:"Liquidations & Risk"}),r.jsx("p",{className:"text-sm text-lotus-grey-300 mb-6",children:"When a borrower's LTV exceeds the tranche LLTV, liquidators seize collateral and repay debt. Higher LLTV tranches have less buffer, meaning bad debt occurs soonerso they pay higher spreads."}),r.jsx("div",{className:"bg-lotus-grey-900/50 rounded-lg p-4 border border-lotus-grey-700 mb-6",children:r.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap text-sm",children:[r.jsx("div",{className:"bg-lotus-purple-900/30 border border-lotus-purple-600 rounded px-3 py-2",children:r.jsx("span",{className:"text-lotus-purple-300",children:"Higher LLTV"})}),r.jsx("span",{className:"text-lotus-grey-500",children:""}),r.jsx("div",{className:"bg-amber-900/30 border border-amber-600 rounded px-3 py-2",children:r.jsx("span",{className:"text-amber-300",children:"Less Buffer"})}),r.jsx("span",{className:"text-lotus-grey-500",children:""}),r.jsx("div",{className:"bg-red-900/30 border border-red-600 rounded px-3 py-2",children:r.jsx("span",{className:"text-red-300",children:"More Risk"})}),r.jsx("span",{className:"text-lotus-grey-500",children:""}),r.jsx("div",{className:"bg-emerald-900/30 border border-emerald-600 rounded px-3 py-2",children:r.jsx("span",{className:"text-emerald-300",children:"Higher Spread"})})]})}),r.jsx("div",{className:"overflow-x-auto mb-6",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-lotus-grey-700",children:[r.jsx("th",{className:"text-left py-2 px-2 font-medium text-lotus-grey-300",children:"Tranche"}),r.jsx("th",{className:"text-center py-2 px-2 font-medium text-lotus-grey-300",children:"Buffer"}),r.jsx("th",{className:"text-center py-2 px-2 font-medium text-lotus-grey-300",children:"Liq. Bonus"}),r.jsx("th",{className:"text-center py-2 px-2 font-medium text-lotus-grey-300",children:"Bad Debt After"}),r.jsx("th",{className:"text-center py-2 px-2 font-medium text-lotus-grey-300",children:"Risk"})]})}),r.jsx("tbody",{children:u.map(h=>{const N=h.lltv===i;return r.jsxs("tr",{onClick:()=>d(h.lltv),className:`border-b border-lotus-grey-700/50 cursor-pointer transition-colors ${N?"bg-lotus-grey-700/50":"hover:bg-lotus-grey-700/30"}`,children:[r.jsx("td",{className:"py-2 px-2",children:r.jsxs("span",{className:`font-mono font-semibold ${h.colors.text}`,children:[h.lltv,"%"]})}),r.jsxs("td",{className:"text-center py-2 px-2 font-mono text-lotus-grey-200",children:[h.buffer,"%"]}),r.jsxs("td",{className:"text-center py-2 px-2 font-mono text-lotus-grey-200",children:["+",yd(h.liquidationBonus)]}),r.jsx("td",{className:"text-center py-2 px-2",children:r.jsxs("span",{className:`font-mono font-medium ${h.badDebtThreshold<10?"text-red-400":h.badDebtThreshold<15?"text-amber-400":"text-emerald-400"}`,children:["~",h.badDebtThreshold.toFixed(0),"% drop"]})}),r.jsx("td",{className:"text-center py-2 px-2",children:r.jsx("div",{className:"flex items-center justify-center gap-0.5",children:Array.from({length:h.riskDots}).map((y,b)=>r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${h.colors.bg}`},b))})})]},h.lltv)})})]})}),r.jsxs("details",{className:"bg-lotus-grey-700/30 rounded-lg border border-lotus-grey-600 mb-4",children:[r.jsxs("summary",{className:"px-4 py-3 cursor-pointer text-sm font-medium text-lotus-grey-300 hover:text-lotus-grey-100",children:["Example: Liquidation at ",i,"% LLTV"]}),r.jsxs("div",{className:"px-4 pb-4 pt-2",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lotus-grey-400",children:"Collateral:"}),r.jsxs("span",{className:"font-mono text-lotus-grey-200",children:["$",g]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-lotus-grey-400",children:["Debt (",i,"% LLTV):"]}),r.jsxs("span",{className:"font-mono text-lotus-grey-200",children:["$",j.toFixed(0)]})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lotus-grey-400",children:"Seized by liquidator:"}),r.jsxs("span",{className:"font-mono text-emerald-400",children:["$",m.toFixed(0)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lotus-grey-400",children:"Liquidator profit:"}),r.jsxs("span",{className:"font-mono text-emerald-400",children:["$",p.toFixed(0)]})]})]})]}),r.jsxs("p",{className:"text-xs text-lotus-grey-500 mt-3",children:["Liquidators receive a ",yd(x.liquidationBonus)," bonus as incentive. Bad debt occurs if collateral drops ~",x.badDebtThreshold.toFixed(0),"% before liquidation."]})]})]}),r.jsxs("details",{className:"bg-lotus-grey-700/30 rounded-lg border border-lotus-grey-600",children:[r.jsx("summary",{className:"px-4 py-3 cursor-pointer text-sm font-medium text-lotus-grey-400 hover:text-lotus-grey-200",children:"Technical Details"}),r.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-2 text-xs text-lotus-grey-400",children:[r.jsxs("div",{children:[r.jsx("span",{children:"Liquidation Incentive Factor (LIF):"}),r.jsx("span",{className:"font-mono text-lotus-purple-400 ml-2",children:x.lif.toFixed(4)})]}),r.jsx("div",{className:"text-lotus-grey-500",children:"LIF = min(1.15, 1 / (0.3  LLTV + 0.7))"}),r.jsx("p",{children:"Higher LLTV = less collateral buffer = less room for liquidation bonus. This is why junior tranches have lower bonus and higher bad debt risk."})]})]})]})}function Hm(i){return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Xn,{title:"Tranche Risk",whatYoullLearn:["How liquidations protect lenders when borrowers become undercollateralized","Why higher LLTV means smaller safety buffer and more bad debt risk","How risk level connects to the spread lenders earn"],tryThis:"Click different LLTV levels to see how the liquidation bonus changes."}),r.jsx(Om,{}),r.jsx(Fm,{}),r.jsx(si,{title:"Stress Scenario: Oracle Lag & Liquidation Delays",children:r.jsx("p",{children:"In volatile markets, oracle price updates may lag behind actual market prices. If collateral value drops faster than oracles report, positions may become undercollateralized before liquidators can act. Additionally, high gas prices during market stress can make small liquidations unprofitable, especially for junior tranches with lower liquidation bonus. This delay increases the risk of bad debt formation."})}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-lotus-grey-400",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Simplified model for educational purposes. Actual liquidation modules have additional parameters."})]}),r.jsx(ni,{assumptions:li.liquidations})]})}const vd=[{type:"page",id:"intro",title:"Get Started",description:"What is Lotus Protocol?",section:"intro"},{type:"page",id:"lotususd",title:"Stable Backing",description:"Treasury rates & productive debt",section:"lotususd"},{type:"page",id:"risk",title:"Risk Layers",description:"Why LLTV determines risk & reward",section:"risk"},{type:"page",id:"tranches",title:"Liquidity Flow",description:"Connected supply across tranches",section:"tranches"},{type:"page",id:"interest-bad-debt",title:"Interest & Losses",description:"How value and bad debt cascade",section:"interest-bad-debt"},{type:"page",id:"vaults",title:"Your Strategy",description:"Choose your allocation approach",section:"vaults"}];function qm({onNavigate:i}){const[d,u]=P.useState(!1),[x,g]=P.useState(""),[j,m]=P.useState(0),p=P.useRef(null),h=P.useRef(null),N=x.trim()?vd.filter(C=>C.title.toLowerCase().includes(x.toLowerCase())||C.description.toLowerCase().includes(x.toLowerCase())):vd;P.useEffect(()=>{const C=I=>{(I.metaKey||I.ctrlKey)&&I.key==="k"&&(I.preventDefault(),u(!0)),I.key==="Escape"&&u(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[]),P.useEffect(()=>{var C;d&&((C=p.current)==null||C.focus(),g(""),m(0))},[d]),P.useEffect(()=>{m(0)},[x]),P.useEffect(()=>{if(h.current){const C=h.current.querySelector(`[data-index="${j}"]`);C==null||C.scrollIntoView({block:"nearest"})}},[j]);const y=P.useCallback(C=>{gr.searchUsed(x,C.title),i(C.section),u(!1)},[i,x]),b=C=>{C.key==="ArrowDown"?(C.preventDefault(),m(I=>Math.min(I+1,N.length-1))):C.key==="ArrowUp"?(C.preventDefault(),m(I=>Math.max(I-1,0))):C.key==="Enter"&&N[j]&&(C.preventDefault(),y(N[j]))};if(!d)return r.jsxs("button",{onClick:()=>u(!0),className:"fixed bottom-6 right-6 z-40 flex items-center gap-2 px-4 py-2.5 bg-lotus-grey-800 border border-lotus-grey-700 rounded-xl text-lotus-grey-300 hover:border-lotus-purple-500 hover:text-lotus-grey-100 transition-all shadow-lg",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("span",{className:"text-sm",children:"Search"}),r.jsxs("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-lotus-grey-700 rounded",children:[r.jsx("span",{className:"text-lotus-grey-400",children:""}),"K"]})]});const M=r.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh]",children:[r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>u(!1)}),r.jsxs("div",{className:"relative w-full max-w-xl mx-4 bg-lotus-grey-800 rounded-xl border border-lotus-grey-700 shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-lotus-grey-700",children:[r.jsx("svg",{className:"w-5 h-5 text-lotus-grey-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{ref:p,type:"text",placeholder:"Search pages...",value:x,onChange:C=>g(C.target.value),onKeyDown:b,className:"flex-1 bg-transparent text-lotus-grey-100 placeholder-lotus-grey-400 outline-none text-lg"}),r.jsx("kbd",{className:"px-2 py-1 text-xs bg-lotus-grey-700 text-lotus-grey-400 rounded",children:"ESC"})]}),r.jsx("div",{ref:h,className:"max-h-80 overflow-y-auto py-2",children:N.length===0?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto text-lotus-grey-500 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("p",{className:"text-lotus-grey-400",children:['No results for "',x,'"']})]}):r.jsxs(r.Fragment,{children:[x.trim()===""&&r.jsx("div",{className:"px-4 py-2 text-xs text-lotus-grey-400 uppercase tracking-wide",children:"Pages"}),N.map((C,I)=>{const _=I===j;return r.jsxs("button",{"data-index":I,onClick:()=>y(C),onMouseEnter:()=>m(I),className:`w-full text-left px-4 py-3 flex items-start gap-3 transition-colors ${_?"bg-lotus-purple-900/30":"hover:bg-lotus-grey-700/50"}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 bg-lotus-purple-900/50 text-lotus-purple-400",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`font-medium truncate ${_?"text-lotus-grey-100":"text-lotus-grey-200"}`,children:C.title}),r.jsx("div",{className:"text-sm text-lotus-grey-400 truncate",children:C.description})]}),_&&r.jsx("kbd",{className:"px-2 py-1 text-xs bg-lotus-grey-700 text-lotus-grey-400 rounded self-center",children:""})]},C.id)})]})}),r.jsxs("div",{className:"px-4 py-2 border-t border-lotus-grey-700 flex items-center justify-between text-xs text-lotus-grey-400",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-lotus-grey-700 rounded",children:""}),r.jsx("kbd",{className:"px-1.5 py-0.5 bg-lotus-grey-700 rounded",children:""}),"navigate"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-lotus-grey-700 rounded",children:""}),"select"]})]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-lotus-grey-700 rounded",children:"esc"}),"close"]})]})]})]});return Qr.createPortal(M,document.body)}const jd="lotus-docs-visited",ei="lotus-docs-tour-completed";function Qm(){const[i,d]=P.useState("intro"),[u,x]=P.useState(()=>{const oe=localStorage.getItem(jd);return oe?new Set(JSON.parse(oe)):new Set}),[g,j]=P.useState(()=>!localStorage.getItem(ei)),[m,p]=P.useState(!1),[h,N]=P.useState(.8),[y,b]=P.useState(.0375),M=P.useMemo(()=>y*h,[y,h]),[C,I]=P.useState(q0),[_,H]=P.useState(.02),[ce,ye]=P.useState(.7),ie=P.useMemo(()=>F0(C,!1),[C]),T=P.useCallback((oe,Re,Ee)=>{I(rt=>rt.map(Ye=>Ye.id===oe?{...Ye,[Re]:Ee}:Ye))},[]),F=P.useCallback(oe=>{gr.navClick(oe),d(oe),x(Re=>{const Ee=new Set(Re);return Ee.add(oe),localStorage.setItem(jd,JSON.stringify([...Ee])),Ee}),window.location.hash=oe,window.scrollTo({top:0,behavior:"smooth"})},[]);P.useEffect(()=>{const oe=()=>{const Re=window.location.hash.slice(1);Re&&["intro","lotususd","risk","tranches","interest-bad-debt","vaults"].includes(Re)&&d(Re)};return oe(),window.addEventListener("hashchange",oe),()=>window.removeEventListener("hashchange",oe)},[]),P.useEffect(()=>{u.has("intro")||F("intro")},[]);const ae=()=>{gr.tourStart(),j(!1),p(!0)},me=()=>{j(!1),localStorage.setItem(ei,"true")},He=()=>{gr.tourComplete(),p(!1),localStorage.setItem(ei,"true")},Me={intro:{title:"Get Started",headline:"Welcome to Lotus Protocol",subtitle:"Understand how Lotus delivers better rates through connected liquidity",learningPoints:[],transitionText:"Let's start with the foundation: how LotusUSD backing creates lower rates...",next:{id:"lotususd",label:"Stable Backing"}},lotususd:{title:"Stable Backing",headline:"LotusUSD & Productive Debt",subtitle:"Treasury backing creates a lower base rate for all borrowers",learningPoints:[],transitionText:"Now let's understand why tranches have different risk levels...",next:{id:"risk",label:"Risk Layers"}},risk:{title:"Risk Layers",headline:"Understanding Tranche Risk",subtitle:"Higher LLTV means higher risk  and higher potential returns",learningPoints:[],transitionText:"With risk understood, let's see how liquidity connects tranches...",next:{id:"tranches",label:"Liquidity Flow"}},tranches:{title:"Liquidity Flow",headline:"Connected Liquidity",subtitle:"How supply cascades across tranches to maximize utilization",learningPoints:[],transitionText:"Interest flows through these tranches. Let's trace it...",next:{id:"interest-bad-debt",label:"Interest & Losses"}},"interest-bad-debt":{title:"Interest & Losses",headline:"Interest Cascade & Bad Debt",subtitle:"How interest flows through tranches and who absorbs losses",learningPoints:[],transitionText:"Now you understand how the protocol works. Ready to choose your strategy?",next:{id:"vaults",label:"Your Strategy"}},vaults:{title:"Your Strategy",headline:"Choose Your Allocation",subtitle:"Pick the risk/reward profile that matches your goals",learningPoints:[]}}[i];return r.jsxs("div",{className:"min-h-screen bg-lotus-grey-900",children:[g&&r.jsx(G0,{onStartTour:ae,onSkip:me}),m&&r.jsx(J0,{onComplete:He}),r.jsx(qm,{onNavigate:F}),r.jsx(Y0,{activeSection:i,onSectionChange:F,visitedSections:u}),r.jsxs("main",{className:"lg:ml-64 min-h-screen",children:[r.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-16 pb-8 lg:pt-12 lg:px-8 lg:py-12",children:r.jsxs(X0,{id:i,title:Me.title,headline:Me.headline,subtitle:Me.subtitle,learningPoints:Me.learningPoints,transitionText:Me.transitionText,nextSection:Me.next,onNavigate:F,children:[i==="intro"&&r.jsx(pm,{}),i==="lotususd"&&r.jsxs("div",{className:"space-y-12",children:[r.jsx(km,{treasuryAllocation:h,treasuryRate:y,onTreasuryAllocationChange:N,onTreasuryRateChange:b}),r.jsxs("div",{className:"border-t border-lotus-grey-700 pt-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-lotus-grey-100 mb-6",children:"Productive Debt Benefits"}),r.jsx(gm,{baseRate:M,spread:_,utilization:ce,onSpreadChange:H,onUtilizationChange:ye})]})]}),i==="risk"&&r.jsx(Hm,{tranches:ie.map(oe=>({lltv:oe.lltv,borrowRate:oe.borrowRate}))}),i==="tranches"&&r.jsx(Rm,{tranches:ie,productiveDebtRate:M,onTrancheChange:T}),i==="interest-bad-debt"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-lotus-grey-800 rounded-lg p-6 border border-lotus-grey-700",children:[r.jsx("h3",{className:"text-lg font-medium text-lotus-grey-100 mb-4",children:"Interest Accrual Simulation"}),r.jsx("p",{className:"text-lotus-grey-400 mb-6",children:"See how interest flows through tranches. The cascade mechanism allocates interest based on supply utilization at each level."}),r.jsx(Im,{tranches:ie,productiveDebtRate:M})]}),r.jsx(Bm,{tranches:ie.map(oe=>({lltv:oe.lltv})),computedTranches:ie})]}),i==="vaults"&&r.jsx(Am,{tranches:ie.map(oe=>({lltv:oe.lltv,supplyRate:oe.supplyRate,borrowRate:oe.borrowRate})),productiveDebtRate:M})]})}),r.jsx("footer",{className:"border-t border-lotus-grey-800 py-6 px-4 lg:px-8",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center text-sm text-lotus-grey-500",children:r.jsxs("p",{children:["This is an interactive educational simulator. See the"," ",r.jsx("a",{href:"https://lotus-protocol.gitbook.io/lotus/",target:"_blank",rel:"noopener noreferrer",className:"text-lotus-purple-400 hover:text-lotus-purple-300 transition-colors",children:"full documentation"})," ","for complete technical details."]})})})]})]})}_0.createRoot(document.getElementById("root")).render(r.jsx(M0.StrictMode,{children:r.jsx(Qm,{})}));
